exports.id=500,exports.ids=[500],exports.modules={81:(e,t,r)=>{"use strict";function n(e){return{id:"discord",name:"Discord",type:"oauth",authorization:"https://discord.com/api/oauth2/authorize?scope=identify+email",token:"https://discord.com/api/oauth2/token",userinfo:"https://discord.com/api/users/@me",profile(e){if(null===e.avatar){let t="0"===e.discriminator?Number(BigInt(e.id)>>BigInt(22))%6:parseInt(e.discriminator)%5;e.image_url=`https://cdn.discordapp.com/embed/avatars/${t}.png`}else{let t=e.avatar.startsWith("a_")?"gif":"png";e.image_url=`https://cdn.discordapp.com/avatars/${e.id}/${e.avatar}.${t}`}return{id:e.id,name:e.global_name??e.username,email:e.email,image:e.image_url}},style:{bg:"#5865F2",text:"#fff"},options:e}}r.d(t,{A:()=>n})},163:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"unstable_rethrow",{enumerable:!0,get:function(){return n}});let n=r(1042).unstable_rethrow;("function"==typeof t.default||"object"==typeof t.default&&null!==t.default)&&void 0===t.default.__esModule&&(Object.defineProperty(t.default,"__esModule",{value:!0}),Object.assign(t.default,t),e.exports=t.default)},397:(e,t,r)=>{var n;(()=>{var i={226:function(i,a){!function(s,o){"use strict";var c="function",l="undefined",u="object",d="string",p="major",h="model",f="name",m="type",y="vendor",g="version",b="architecture",w="console",_="mobile",v="tablet",k="smarttv",x="wearable",E="embedded",A="Amazon",S="Apple",T="ASUS",R="BlackBerry",O="Browser",P="Chrome",C="Firefox",j="Google",U="Huawei",I="Microsoft",$="Motorola",N="Opera",D="Samsung",H="Sharp",L="Sony",M="Xiaomi",W="Zebra",K="Facebook",Z="Chromium OS",J="Mac OS",q=function(e,t){var r={};for(var n in e)t[n]&&t[n].length%2==0?r[n]=t[n].concat(e[n]):r[n]=e[n];return r},z=function(e){for(var t={},r=0;r<e.length;r++)t[e[r].toUpperCase()]=e[r];return t},F=function(e,t){return typeof e===d&&-1!==B(t).indexOf(B(e))},B=function(e){return e.toLowerCase()},V=function(e,t){if(typeof e===d)return e=e.replace(/^\s\s*/,""),typeof t===l?e:e.substring(0,350)},G=function(e,t){for(var r,n,i,a,s,l,d=0;d<t.length&&!s;){var p=t[d],h=t[d+1];for(r=n=0;r<p.length&&!s&&p[r];)if(s=p[r++].exec(e))for(i=0;i<h.length;i++)l=s[++n],typeof(a=h[i])===u&&a.length>0?2===a.length?typeof a[1]==c?this[a[0]]=a[1].call(this,l):this[a[0]]=a[1]:3===a.length?typeof a[1]!==c||a[1].exec&&a[1].test?this[a[0]]=l?l.replace(a[1],a[2]):void 0:this[a[0]]=l?a[1].call(this,l,a[2]):void 0:4===a.length&&(this[a[0]]=l?a[3].call(this,l.replace(a[1],a[2])):o):this[a]=l||o;d+=2}},X=function(e,t){for(var r in t)if(typeof t[r]===u&&t[r].length>0){for(var n=0;n<t[r].length;n++)if(F(t[r][n],e))return"?"===r?o:r}else if(F(t[r],e))return"?"===r?o:r;return e},Y={ME:"4.90","NT 3.11":"NT3.51","NT 4.0":"NT4.0",2e3:"NT 5.0",XP:["NT 5.1","NT 5.2"],Vista:"NT 6.0",7:"NT 6.1",8:"NT 6.2",8.1:"NT 6.3",10:["NT 6.4","NT 10.0"],RT:"ARM"},Q={browser:[[/\b(?:crmo|crios)\/([\w\.]+)/i],[g,[f,"Chrome"]],[/edg(?:e|ios|a)?\/([\w\.]+)/i],[g,[f,"Edge"]],[/(opera mini)\/([-\w\.]+)/i,/(opera [mobiletab]{3,6})\b.+version\/([-\w\.]+)/i,/(opera)(?:.+version\/|[\/ ]+)([\w\.]+)/i],[f,g],[/opios[\/ ]+([\w\.]+)/i],[g,[f,N+" Mini"]],[/\bopr\/([\w\.]+)/i],[g,[f,N]],[/(kindle)\/([\w\.]+)/i,/(lunascape|maxthon|netfront|jasmine|blazer)[\/ ]?([\w\.]*)/i,/(avant |iemobile|slim)(?:browser)?[\/ ]?([\w\.]*)/i,/(ba?idubrowser)[\/ ]?([\w\.]+)/i,/(?:ms|\()(ie) ([\w\.]+)/i,/(flock|rockmelt|midori|epiphany|silk|skyfire|bolt|iron|vivaldi|iridium|phantomjs|bowser|quark|qupzilla|falkon|rekonq|puffin|brave|whale(?!.+naver)|qqbrowserlite|qq|duckduckgo)\/([-\w\.]+)/i,/(heytap|ovi)browser\/([\d\.]+)/i,/(weibo)__([\d\.]+)/i],[f,g],[/(?:\buc? ?browser|(?:juc.+)ucweb)[\/ ]?([\w\.]+)/i],[g,[f,"UC"+O]],[/microm.+\bqbcore\/([\w\.]+)/i,/\bqbcore\/([\w\.]+).+microm/i],[g,[f,"WeChat(Win) Desktop"]],[/micromessenger\/([\w\.]+)/i],[g,[f,"WeChat"]],[/konqueror\/([\w\.]+)/i],[g,[f,"Konqueror"]],[/trident.+rv[: ]([\w\.]{1,9})\b.+like gecko/i],[g,[f,"IE"]],[/ya(?:search)?browser\/([\w\.]+)/i],[g,[f,"Yandex"]],[/(avast|avg)\/([\w\.]+)/i],[[f,/(.+)/,"$1 Secure "+O],g],[/\bfocus\/([\w\.]+)/i],[g,[f,C+" Focus"]],[/\bopt\/([\w\.]+)/i],[g,[f,N+" Touch"]],[/coc_coc\w+\/([\w\.]+)/i],[g,[f,"Coc Coc"]],[/dolfin\/([\w\.]+)/i],[g,[f,"Dolphin"]],[/coast\/([\w\.]+)/i],[g,[f,N+" Coast"]],[/miuibrowser\/([\w\.]+)/i],[g,[f,"MIUI "+O]],[/fxios\/([-\w\.]+)/i],[g,[f,C]],[/\bqihu|(qi?ho?o?|360)browser/i],[[f,"360 "+O]],[/(oculus|samsung|sailfish|huawei)browser\/([\w\.]+)/i],[[f,/(.+)/,"$1 "+O],g],[/(comodo_dragon)\/([\w\.]+)/i],[[f,/_/g," "],g],[/(electron)\/([\w\.]+) safari/i,/(tesla)(?: qtcarbrowser|\/(20\d\d\.[-\w\.]+))/i,/m?(qqbrowser|baiduboxapp|2345Explorer)[\/ ]?([\w\.]+)/i],[f,g],[/(metasr)[\/ ]?([\w\.]+)/i,/(lbbrowser)/i,/\[(linkedin)app\]/i],[f],[/((?:fban\/fbios|fb_iab\/fb4a)(?!.+fbav)|;fbav\/([\w\.]+);)/i],[[f,K],g],[/(kakao(?:talk|story))[\/ ]([\w\.]+)/i,/(naver)\(.*?(\d+\.[\w\.]+).*\)/i,/safari (line)\/([\w\.]+)/i,/\b(line)\/([\w\.]+)\/iab/i,/(chromium|instagram)[\/ ]([-\w\.]+)/i],[f,g],[/\bgsa\/([\w\.]+) .*safari\//i],[g,[f,"GSA"]],[/musical_ly(?:.+app_?version\/|_)([\w\.]+)/i],[g,[f,"TikTok"]],[/headlesschrome(?:\/([\w\.]+)| )/i],[g,[f,P+" Headless"]],[/ wv\).+(chrome)\/([\w\.]+)/i],[[f,P+" WebView"],g],[/droid.+ version\/([\w\.]+)\b.+(?:mobile safari|safari)/i],[g,[f,"Android "+O]],[/(chrome|omniweb|arora|[tizenoka]{5} ?browser)\/v?([\w\.]+)/i],[f,g],[/version\/([\w\.\,]+) .*mobile\/\w+ (safari)/i],[g,[f,"Mobile Safari"]],[/version\/([\w(\.|\,)]+) .*(mobile ?safari|safari)/i],[g,f],[/webkit.+?(mobile ?safari|safari)(\/[\w\.]+)/i],[f,[g,X,{"1.0":"/8",1.2:"/1",1.3:"/3","2.0":"/412","2.0.2":"/416","2.0.3":"/417","2.0.4":"/419","?":"/"}]],[/(webkit|khtml)\/([\w\.]+)/i],[f,g],[/(navigator|netscape\d?)\/([-\w\.]+)/i],[[f,"Netscape"],g],[/mobile vr; rv:([\w\.]+)\).+firefox/i],[g,[f,C+" Reality"]],[/ekiohf.+(flow)\/([\w\.]+)/i,/(swiftfox)/i,/(icedragon|iceweasel|camino|chimera|fennec|maemo browser|minimo|conkeror|klar)[\/ ]?([\w\.\+]+)/i,/(seamonkey|k-meleon|icecat|iceape|firebird|phoenix|palemoon|basilisk|waterfox)\/([-\w\.]+)$/i,/(firefox)\/([\w\.]+)/i,/(mozilla)\/([\w\.]+) .+rv\:.+gecko\/\d+/i,/(polaris|lynx|dillo|icab|doris|amaya|w3m|netsurf|sleipnir|obigo|mosaic|(?:go|ice|up)[\. ]?browser)[-\/ ]?v?([\w\.]+)/i,/(links) \(([\w\.]+)/i,/panasonic;(viera)/i],[f,g],[/(cobalt)\/([\w\.]+)/i],[f,[g,/master.|lts./,""]]],cpu:[[/(?:(amd|x(?:(?:86|64)[-_])?|wow|win)64)[;\)]/i],[[b,"amd64"]],[/(ia32(?=;))/i],[[b,B]],[/((?:i[346]|x)86)[;\)]/i],[[b,"ia32"]],[/\b(aarch64|arm(v?8e?l?|_?64))\b/i],[[b,"arm64"]],[/\b(arm(?:v[67])?ht?n?[fl]p?)\b/i],[[b,"armhf"]],[/windows (ce|mobile); ppc;/i],[[b,"arm"]],[/((?:ppc|powerpc)(?:64)?)(?: mac|;|\))/i],[[b,/ower/,"",B]],[/(sun4\w)[;\)]/i],[[b,"sparc"]],[/((?:avr32|ia64(?=;))|68k(?=\))|\barm(?=v(?:[1-7]|[5-7]1)l?|;|eabi)|(?=atmel )avr|(?:irix|mips|sparc)(?:64)?\b|pa-risc)/i],[[b,B]]],device:[[/\b(sch-i[89]0\d|shw-m380s|sm-[ptx]\w{2,4}|gt-[pn]\d{2,4}|sgh-t8[56]9|nexus 10)/i],[h,[y,D],[m,v]],[/\b((?:s[cgp]h|gt|sm)-\w+|sc[g-]?[\d]+a?|galaxy nexus)/i,/samsung[- ]([-\w]+)/i,/sec-(sgh\w+)/i],[h,[y,D],[m,_]],[/(?:\/|\()(ip(?:hone|od)[\w, ]*)(?:\/|;)/i],[h,[y,S],[m,_]],[/\((ipad);[-\w\),; ]+apple/i,/applecoremedia\/[\w\.]+ \((ipad)/i,/\b(ipad)\d\d?,\d\d?[;\]].+ios/i],[h,[y,S],[m,v]],[/(macintosh);/i],[h,[y,S]],[/\b(sh-?[altvz]?\d\d[a-ekm]?)/i],[h,[y,H],[m,_]],[/\b((?:ag[rs][23]?|bah2?|sht?|btv)-a?[lw]\d{2})\b(?!.+d\/s)/i],[h,[y,U],[m,v]],[/(?:huawei|honor)([-\w ]+)[;\)]/i,/\b(nexus 6p|\w{2,4}e?-[atu]?[ln][\dx][012359c][adn]?)\b(?!.+d\/s)/i],[h,[y,U],[m,_]],[/\b(poco[\w ]+)(?: bui|\))/i,/\b; (\w+) build\/hm\1/i,/\b(hm[-_ ]?note?[_ ]?(?:\d\w)?) bui/i,/\b(redmi[\-_ ]?(?:note|k)?[\w_ ]+)(?: bui|\))/i,/\b(mi[-_ ]?(?:a\d|one|one[_ ]plus|note lte|max|cc)?[_ ]?(?:\d?\w?)[_ ]?(?:plus|se|lite)?)(?: bui|\))/i],[[h,/_/g," "],[y,M],[m,_]],[/\b(mi[-_ ]?(?:pad)(?:[\w_ ]+))(?: bui|\))/i],[[h,/_/g," "],[y,M],[m,v]],[/; (\w+) bui.+ oppo/i,/\b(cph[12]\d{3}|p(?:af|c[al]|d\w|e[ar])[mt]\d0|x9007|a101op)\b/i],[h,[y,"OPPO"],[m,_]],[/vivo (\w+)(?: bui|\))/i,/\b(v[12]\d{3}\w?[at])(?: bui|;)/i],[h,[y,"Vivo"],[m,_]],[/\b(rmx[12]\d{3})(?: bui|;|\))/i],[h,[y,"Realme"],[m,_]],[/\b(milestone|droid(?:[2-4x]| (?:bionic|x2|pro|razr))?:?( 4g)?)\b[\w ]+build\//i,/\bmot(?:orola)?[- ](\w*)/i,/((?:moto[\w\(\) ]+|xt\d{3,4}|nexus 6)(?= bui|\)))/i],[h,[y,$],[m,_]],[/\b(mz60\d|xoom[2 ]{0,2}) build\//i],[h,[y,$],[m,v]],[/((?=lg)?[vl]k\-?\d{3}) bui| 3\.[-\w; ]{10}lg?-([06cv9]{3,4})/i],[h,[y,"LG"],[m,v]],[/(lm(?:-?f100[nv]?|-[\w\.]+)(?= bui|\))|nexus [45])/i,/\blg[-e;\/ ]+((?!browser|netcast|android tv)\w+)/i,/\blg-?([\d\w]+) bui/i],[h,[y,"LG"],[m,_]],[/(ideatab[-\w ]+)/i,/lenovo ?(s[56]000[-\w]+|tab(?:[\w ]+)|yt[-\d\w]{6}|tb[-\d\w]{6})/i],[h,[y,"Lenovo"],[m,v]],[/(?:maemo|nokia).*(n900|lumia \d+)/i,/nokia[-_ ]?([-\w\.]*)/i],[[h,/_/g," "],[y,"Nokia"],[m,_]],[/(pixel c)\b/i],[h,[y,j],[m,v]],[/droid.+; (pixel[\daxl ]{0,6})(?: bui|\))/i],[h,[y,j],[m,_]],[/droid.+ (a?\d[0-2]{2}so|[c-g]\d{4}|so[-gl]\w+|xq-a\w[4-7][12])(?= bui|\).+chrome\/(?![1-6]{0,1}\d\.))/i],[h,[y,L],[m,_]],[/sony tablet [ps]/i,/\b(?:sony)?sgp\w+(?: bui|\))/i],[[h,"Xperia Tablet"],[y,L],[m,v]],[/ (kb2005|in20[12]5|be20[12][59])\b/i,/(?:one)?(?:plus)? (a\d0\d\d)(?: b|\))/i],[h,[y,"OnePlus"],[m,_]],[/(alexa)webm/i,/(kf[a-z]{2}wi|aeo[c-r]{2})( bui|\))/i,/(kf[a-z]+)( bui|\)).+silk\//i],[h,[y,A],[m,v]],[/((?:sd|kf)[0349hijorstuw]+)( bui|\)).+silk\//i],[[h,/(.+)/g,"Fire Phone $1"],[y,A],[m,_]],[/(playbook);[-\w\),; ]+(rim)/i],[h,y,[m,v]],[/\b((?:bb[a-f]|st[hv])100-\d)/i,/\(bb10; (\w+)/i],[h,[y,R],[m,_]],[/(?:\b|asus_)(transfo[prime ]{4,10} \w+|eeepc|slider \w+|nexus 7|padfone|p00[cj])/i],[h,[y,T],[m,v]],[/ (z[bes]6[027][012][km][ls]|zenfone \d\w?)\b/i],[h,[y,T],[m,_]],[/(nexus 9)/i],[h,[y,"HTC"],[m,v]],[/(htc)[-;_ ]{1,2}([\w ]+(?=\)| bui)|\w+)/i,/(zte)[- ]([\w ]+?)(?: bui|\/|\))/i,/(alcatel|geeksphone|nexian|panasonic(?!(?:;|\.))|sony(?!-bra))[-_ ]?([-\w]*)/i],[y,[h,/_/g," "],[m,_]],[/droid.+; ([ab][1-7]-?[0178a]\d\d?)/i],[h,[y,"Acer"],[m,v]],[/droid.+; (m[1-5] note) bui/i,/\bmz-([-\w]{2,})/i],[h,[y,"Meizu"],[m,_]],[/(blackberry|benq|palm(?=\-)|sonyericsson|acer|asus|dell|meizu|motorola|polytron)[-_ ]?([-\w]*)/i,/(hp) ([\w ]+\w)/i,/(asus)-?(\w+)/i,/(microsoft); (lumia[\w ]+)/i,/(lenovo)[-_ ]?([-\w]+)/i,/(jolla)/i,/(oppo) ?([\w ]+) bui/i],[y,h,[m,_]],[/(kobo)\s(ereader|touch)/i,/(archos) (gamepad2?)/i,/(hp).+(touchpad(?!.+tablet)|tablet)/i,/(kindle)\/([\w\.]+)/i,/(nook)[\w ]+build\/(\w+)/i,/(dell) (strea[kpr\d ]*[\dko])/i,/(le[- ]+pan)[- ]+(\w{1,9}) bui/i,/(trinity)[- ]*(t\d{3}) bui/i,/(gigaset)[- ]+(q\w{1,9}) bui/i,/(vodafone) ([\w ]+)(?:\)| bui)/i],[y,h,[m,v]],[/(surface duo)/i],[h,[y,I],[m,v]],[/droid [\d\.]+; (fp\du?)(?: b|\))/i],[h,[y,"Fairphone"],[m,_]],[/(u304aa)/i],[h,[y,"AT&T"],[m,_]],[/\bsie-(\w*)/i],[h,[y,"Siemens"],[m,_]],[/\b(rct\w+) b/i],[h,[y,"RCA"],[m,v]],[/\b(venue[\d ]{2,7}) b/i],[h,[y,"Dell"],[m,v]],[/\b(q(?:mv|ta)\w+) b/i],[h,[y,"Verizon"],[m,v]],[/\b(?:barnes[& ]+noble |bn[rt])([\w\+ ]*) b/i],[h,[y,"Barnes & Noble"],[m,v]],[/\b(tm\d{3}\w+) b/i],[h,[y,"NuVision"],[m,v]],[/\b(k88) b/i],[h,[y,"ZTE"],[m,v]],[/\b(nx\d{3}j) b/i],[h,[y,"ZTE"],[m,_]],[/\b(gen\d{3}) b.+49h/i],[h,[y,"Swiss"],[m,_]],[/\b(zur\d{3}) b/i],[h,[y,"Swiss"],[m,v]],[/\b((zeki)?tb.*\b) b/i],[h,[y,"Zeki"],[m,v]],[/\b([yr]\d{2}) b/i,/\b(dragon[- ]+touch |dt)(\w{5}) b/i],[[y,"Dragon Touch"],h,[m,v]],[/\b(ns-?\w{0,9}) b/i],[h,[y,"Insignia"],[m,v]],[/\b((nxa|next)-?\w{0,9}) b/i],[h,[y,"NextBook"],[m,v]],[/\b(xtreme\_)?(v(1[045]|2[015]|[3469]0|7[05])) b/i],[[y,"Voice"],h,[m,_]],[/\b(lvtel\-)?(v1[12]) b/i],[[y,"LvTel"],h,[m,_]],[/\b(ph-1) /i],[h,[y,"Essential"],[m,_]],[/\b(v(100md|700na|7011|917g).*\b) b/i],[h,[y,"Envizen"],[m,v]],[/\b(trio[-\w\. ]+) b/i],[h,[y,"MachSpeed"],[m,v]],[/\btu_(1491) b/i],[h,[y,"Rotor"],[m,v]],[/(shield[\w ]+) b/i],[h,[y,"Nvidia"],[m,v]],[/(sprint) (\w+)/i],[y,h,[m,_]],[/(kin\.[onetw]{3})/i],[[h,/\./g," "],[y,I],[m,_]],[/droid.+; (cc6666?|et5[16]|mc[239][23]x?|vc8[03]x?)\)/i],[h,[y,W],[m,v]],[/droid.+; (ec30|ps20|tc[2-8]\d[kx])\)/i],[h,[y,W],[m,_]],[/smart-tv.+(samsung)/i],[y,[m,k]],[/hbbtv.+maple;(\d+)/i],[[h,/^/,"SmartTV"],[y,D],[m,k]],[/(nux; netcast.+smarttv|lg (netcast\.tv-201\d|android tv))/i],[[y,"LG"],[m,k]],[/(apple) ?tv/i],[y,[h,S+" TV"],[m,k]],[/crkey/i],[[h,P+"cast"],[y,j],[m,k]],[/droid.+aft(\w)( bui|\))/i],[h,[y,A],[m,k]],[/\(dtv[\);].+(aquos)/i,/(aquos-tv[\w ]+)\)/i],[h,[y,H],[m,k]],[/(bravia[\w ]+)( bui|\))/i],[h,[y,L],[m,k]],[/(mitv-\w{5}) bui/i],[h,[y,M],[m,k]],[/Hbbtv.*(technisat) (.*);/i],[y,h,[m,k]],[/\b(roku)[\dx]*[\)\/]((?:dvp-)?[\d\.]*)/i,/hbbtv\/\d+\.\d+\.\d+ +\([\w\+ ]*; *([\w\d][^;]*);([^;]*)/i],[[y,V],[h,V],[m,k]],[/\b(android tv|smart[- ]?tv|opera tv|tv; rv:)\b/i],[[m,k]],[/(ouya)/i,/(nintendo) ([wids3utch]+)/i],[y,h,[m,w]],[/droid.+; (shield) bui/i],[h,[y,"Nvidia"],[m,w]],[/(playstation [345portablevi]+)/i],[h,[y,L],[m,w]],[/\b(xbox(?: one)?(?!; xbox))[\); ]/i],[h,[y,I],[m,w]],[/((pebble))app/i],[y,h,[m,x]],[/(watch)(?: ?os[,\/]|\d,\d\/)[\d\.]+/i],[h,[y,S],[m,x]],[/droid.+; (glass) \d/i],[h,[y,j],[m,x]],[/droid.+; (wt63?0{2,3})\)/i],[h,[y,W],[m,x]],[/(quest( 2| pro)?)/i],[h,[y,K],[m,x]],[/(tesla)(?: qtcarbrowser|\/[-\w\.]+)/i],[y,[m,E]],[/(aeobc)\b/i],[h,[y,A],[m,E]],[/droid .+?; ([^;]+?)(?: bui|\) applew).+? mobile safari/i],[h,[m,_]],[/droid .+?; ([^;]+?)(?: bui|\) applew).+?(?! mobile) safari/i],[h,[m,v]],[/\b((tablet|tab)[;\/]|focus\/\d(?!.+mobile))/i],[[m,v]],[/(phone|mobile(?:[;\/]| [ \w\/\.]*safari)|pda(?=.+windows ce))/i],[[m,_]],[/(android[-\w\. ]{0,9});.+buil/i],[h,[y,"Generic"]]],engine:[[/windows.+ edge\/([\w\.]+)/i],[g,[f,"EdgeHTML"]],[/webkit\/537\.36.+chrome\/(?!27)([\w\.]+)/i],[g,[f,"Blink"]],[/(presto)\/([\w\.]+)/i,/(webkit|trident|netfront|netsurf|amaya|lynx|w3m|goanna)\/([\w\.]+)/i,/ekioh(flow)\/([\w\.]+)/i,/(khtml|tasman|links)[\/ ]\(?([\w\.]+)/i,/(icab)[\/ ]([23]\.[\d\.]+)/i,/\b(libweb)/i],[f,g],[/rv\:([\w\.]{1,9})\b.+(gecko)/i],[g,f]],os:[[/microsoft (windows) (vista|xp)/i],[f,g],[/(windows) nt 6\.2; (arm)/i,/(windows (?:phone(?: os)?|mobile))[\/ ]?([\d\.\w ]*)/i,/(windows)[\/ ]?([ntce\d\. ]+\w)(?!.+xbox)/i],[f,[g,X,Y]],[/(win(?=3|9|n)|win 9x )([nt\d\.]+)/i],[[f,"Windows"],[g,X,Y]],[/ip[honead]{2,4}\b(?:.*os ([\w]+) like mac|; opera)/i,/ios;fbsv\/([\d\.]+)/i,/cfnetwork\/.+darwin/i],[[g,/_/g,"."],[f,"iOS"]],[/(mac os x) ?([\w\. ]*)/i,/(macintosh|mac_powerpc\b)(?!.+haiku)/i],[[f,J],[g,/_/g,"."]],[/droid ([\w\.]+)\b.+(android[- ]x86|harmonyos)/i],[g,f],[/(android|webos|qnx|bada|rim tablet os|maemo|meego|sailfish)[-\/ ]?([\w\.]*)/i,/(blackberry)\w*\/([\w\.]*)/i,/(tizen|kaios)[\/ ]([\w\.]+)/i,/\((series40);/i],[f,g],[/\(bb(10);/i],[g,[f,R]],[/(?:symbian ?os|symbos|s60(?=;)|series60)[-\/ ]?([\w\.]*)/i],[g,[f,"Symbian"]],[/mozilla\/[\d\.]+ \((?:mobile|tablet|tv|mobile; [\w ]+); rv:.+ gecko\/([\w\.]+)/i],[g,[f,C+" OS"]],[/web0s;.+rt(tv)/i,/\b(?:hp)?wos(?:browser)?\/([\w\.]+)/i],[g,[f,"webOS"]],[/watch(?: ?os[,\/]|\d,\d\/)([\d\.]+)/i],[g,[f,"watchOS"]],[/crkey\/([\d\.]+)/i],[g,[f,P+"cast"]],[/(cros) [\w]+(?:\)| ([\w\.]+)\b)/i],[[f,Z],g],[/panasonic;(viera)/i,/(netrange)mmh/i,/(nettv)\/(\d+\.[\w\.]+)/i,/(nintendo|playstation) ([wids345portablevuch]+)/i,/(xbox); +xbox ([^\);]+)/i,/\b(joli|palm)\b ?(?:os)?\/?([\w\.]*)/i,/(mint)[\/\(\) ]?(\w*)/i,/(mageia|vectorlinux)[; ]/i,/([kxln]?ubuntu|debian|suse|opensuse|gentoo|arch(?= linux)|slackware|fedora|mandriva|centos|pclinuxos|red ?hat|zenwalk|linpus|raspbian|plan 9|minix|risc os|contiki|deepin|manjaro|elementary os|sabayon|linspire)(?: gnu\/linux)?(?: enterprise)?(?:[- ]linux)?(?:-gnu)?[-\/ ]?(?!chrom|package)([-\w\.]*)/i,/(hurd|linux) ?([\w\.]*)/i,/(gnu) ?([\w\.]*)/i,/\b([-frentopcghs]{0,5}bsd|dragonfly)[\/ ]?(?!amd|[ix346]{1,2}86)([\w\.]*)/i,/(haiku) (\w+)/i],[f,g],[/(sunos) ?([\w\.\d]*)/i],[[f,"Solaris"],g],[/((?:open)?solaris)[-\/ ]?([\w\.]*)/i,/(aix) ((\d)(?=\.|\)| )[\w\.])*/i,/\b(beos|os\/2|amigaos|morphos|openvms|fuchsia|hp-ux|serenityos)/i,/(unix) ?([\w\.]*)/i],[f,g]]},ee=function(e,t){if(typeof e===u&&(t=e,e=o),!(this instanceof ee))return new ee(e,t).getResult();var r=typeof s!==l&&s.navigator?s.navigator:o,n=e||(r&&r.userAgent?r.userAgent:""),i=r&&r.userAgentData?r.userAgentData:o,a=t?q(Q,t):Q,w=r&&r.userAgent==n;return this.getBrowser=function(){var e,t={};return t[f]=o,t[g]=o,G.call(t,n,a.browser),t[p]=typeof(e=t[g])===d?e.replace(/[^\d\.]/g,"").split(".")[0]:o,w&&r&&r.brave&&typeof r.brave.isBrave==c&&(t[f]="Brave"),t},this.getCPU=function(){var e={};return e[b]=o,G.call(e,n,a.cpu),e},this.getDevice=function(){var e={};return e[y]=o,e[h]=o,e[m]=o,G.call(e,n,a.device),w&&!e[m]&&i&&i.mobile&&(e[m]=_),w&&"Macintosh"==e[h]&&r&&typeof r.standalone!==l&&r.maxTouchPoints&&r.maxTouchPoints>2&&(e[h]="iPad",e[m]=v),e},this.getEngine=function(){var e={};return e[f]=o,e[g]=o,G.call(e,n,a.engine),e},this.getOS=function(){var e={};return e[f]=o,e[g]=o,G.call(e,n,a.os),w&&!e[f]&&i&&"Unknown"!=i.platform&&(e[f]=i.platform.replace(/chrome os/i,Z).replace(/macos/i,J)),e},this.getResult=function(){return{ua:this.getUA(),browser:this.getBrowser(),engine:this.getEngine(),os:this.getOS(),device:this.getDevice(),cpu:this.getCPU()}},this.getUA=function(){return n},this.setUA=function(e){return n=typeof e===d&&e.length>350?V(e,350):e,this},this.setUA(n),this};ee.VERSION="1.0.35",ee.BROWSER=z([f,g,p]),ee.CPU=z([b]),ee.DEVICE=z([h,y,m,w,_,k,v,x,E]),ee.ENGINE=ee.OS=z([f,g]),typeof a!==l?(i.exports&&(a=i.exports=ee),a.UAParser=ee):r.amdO?void 0===(n=(function(){return ee}).call(t,r,t,e))||(e.exports=n):typeof s!==l&&(s.UAParser=ee);var et=typeof s!==l&&(s.jQuery||s.Zepto);if(et&&!et.ua){var er=new ee;et.ua=er.getResult(),et.ua.get=function(){return er.getUA()},et.ua.set=function(e){er.setUA(e);var t=er.getResult();for(var r in t)et.ua[r]=t[r]}}}("object"==typeof window?window:this)}},a={};function s(e){var t=a[e];if(void 0!==t)return t.exports;var r=a[e]={exports:{}},n=!0;try{i[e].call(r.exports,r,r.exports,s),n=!1}finally{n&&delete a[e]}return r.exports}s.ab=__dirname+"/",e.exports=s(226)})()},899:(e,t,r)=>{"use strict";function n(){throw Object.defineProperty(Error("`unauthorized()` is experimental and only allowed to be used when `experimental.authInterrupts` is enabled."),"__NEXT_ERROR_CODE",{value:"E411",enumerable:!1,configurable:!0})}Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"unauthorized",{enumerable:!0,get:function(){return n}}),r(8704).HTTP_ERROR_FALLBACK_ERROR_CODE,("function"==typeof t.default||"object"==typeof t.default&&null!==t.default)&&void 0===t.default.__esModule&&(Object.defineProperty(t.default,"__esModule",{value:!0}),Object.assign(t.default,t),e.exports=t.default)},1042:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"unstable_rethrow",{enumerable:!0,get:function(){return function e(t){if((0,s.isNextRouterError)(t)||(0,a.isBailoutToCSRError)(t)||(0,c.isDynamicServerError)(t)||(0,o.isDynamicPostpone)(t)||(0,i.isPostpone)(t)||(0,n.isHangingPromiseRejectionError)(t))throw t;t instanceof Error&&"cause"in t&&e(t.cause)}}});let n=r(8388),i=r(2637),a=r(1846),s=r(1162),o=r(4971),c=r(8479);("function"==typeof t.default||"object"==typeof t.default&&null!==t.default)&&void 0===t.default.__esModule&&(Object.defineProperty(t.default,"__esModule",{value:!0}),Object.assign(t.default,t),e.exports=t.default)},1107:(e,t,r)=>{"use strict";let n,i,a,s,o,c,l;r.d(t,{Ay:()=>a7});var u=function(e,t,r,n,i){if("m"===n)throw TypeError("Private method is not writable");if("a"===n&&!i)throw TypeError("Private accessor was defined without a setter");if("function"==typeof t?e!==t||!i:!t.has(e))throw TypeError("Cannot write private member to an object whose class did not declare it");return"a"===n?i.call(e,r):i?i.value=r:t.set(e,r),r},d=function(e,t,r,n){if("a"===r&&!n)throw TypeError("Private accessor was defined without a getter");if("function"==typeof t?e!==t||!n:!t.has(e))throw TypeError("Cannot read private member from an object whose class did not declare it");return"m"===r?n:"a"===r?n.call(e):n?n.value:t.get(e)};function p(e){let t=e?"__Secure-":"";return{sessionToken:{name:`${t}authjs.session-token`,options:{httpOnly:!0,sameSite:"lax",path:"/",secure:e}},callbackUrl:{name:`${t}authjs.callback-url`,options:{httpOnly:!0,sameSite:"lax",path:"/",secure:e}},csrfToken:{name:`${e?"__Host-":""}authjs.csrf-token`,options:{httpOnly:!0,sameSite:"lax",path:"/",secure:e}},pkceCodeVerifier:{name:`${t}authjs.pkce.code_verifier`,options:{httpOnly:!0,sameSite:"lax",path:"/",secure:e,maxAge:900}},state:{name:`${t}authjs.state`,options:{httpOnly:!0,sameSite:"lax",path:"/",secure:e,maxAge:900}},nonce:{name:`${t}authjs.nonce`,options:{httpOnly:!0,sameSite:"lax",path:"/",secure:e}},webauthnChallenge:{name:`${t}authjs.challenge`,options:{httpOnly:!0,sameSite:"lax",path:"/",secure:e,maxAge:900}}}}class h{constructor(e,t,r){if(rf.add(this),rm.set(this,{}),ry.set(this,void 0),rg.set(this,void 0),u(this,rg,r,"f"),u(this,ry,e,"f"),!t)return;let{name:n}=e;for(let[e,r]of Object.entries(t))e.startsWith(n)&&r&&(d(this,rm,"f")[e]=r)}get value(){return Object.keys(d(this,rm,"f")).sort((e,t)=>parseInt(e.split(".").pop()||"0")-parseInt(t.split(".").pop()||"0")).map(e=>d(this,rm,"f")[e]).join("")}chunk(e,t){let r=d(this,rf,"m",rw).call(this);for(let n of d(this,rf,"m",rb).call(this,{name:d(this,ry,"f").name,value:e,options:{...d(this,ry,"f").options,...t}}))r[n.name]=n;return Object.values(r)}clean(){return Object.values(d(this,rf,"m",rw).call(this))}}rm=new WeakMap,ry=new WeakMap,rg=new WeakMap,rf=new WeakSet,rb=function(e){let t=Math.ceil(e.value.length/3936);if(1===t)return d(this,rm,"f")[e.name]=e.value,[e];let r=[];for(let n=0;n<t;n++){let t=`${e.name}.${n}`,i=e.value.substr(3936*n,3936);r.push({...e,name:t,value:i}),d(this,rm,"f")[t]=i}return d(this,rg,"f").debug("CHUNKING_SESSION_COOKIE",{message:"Session cookie exceeds allowed 4096 bytes.",emptyCookieSize:160,valueSize:e.value.length,chunks:r.map(e=>e.value.length+160)}),r},rw=function(){let e={};for(let t in d(this,rm,"f"))delete d(this,rm,"f")?.[t],e[t]={name:t,value:"",options:{...d(this,ry,"f").options,maxAge:0}};return e};class f extends Error{constructor(e,t){e instanceof Error?super(void 0,{cause:{err:e,...e.cause,...t}}):"string"==typeof e?(t instanceof Error&&(t={err:t,...t.cause}),super(e,t)):super(void 0,e),this.name=this.constructor.name,this.type=this.constructor.type??"AuthError",this.kind=this.constructor.kind??"error",Error.captureStackTrace?.(this,this.constructor);let r=`https://errors.authjs.dev#${this.type.toLowerCase()}`;this.message+=`${this.message?". ":""}Read more at ${r}`}}class m extends f{}m.kind="signIn";class y extends f{}y.type="AdapterError";class g extends f{}g.type="AccessDenied";class b extends f{}b.type="CallbackRouteError";class w extends f{}w.type="ErrorPageLoop";class _ extends f{}_.type="EventError";class v extends f{}v.type="InvalidCallbackUrl";class k extends m{constructor(){super(...arguments),this.code="credentials"}}k.type="CredentialsSignin";class x extends f{}x.type="InvalidEndpoints";class E extends f{}E.type="InvalidCheck";class A extends f{}A.type="JWTSessionError";class S extends f{}S.type="MissingAdapter";class T extends f{}T.type="MissingAdapterMethods";class R extends f{}R.type="MissingAuthorize";class O extends f{}O.type="MissingSecret";class P extends m{}P.type="OAuthAccountNotLinked";class C extends m{}C.type="OAuthCallbackError";class j extends f{}j.type="OAuthProfileParseError";class U extends f{}U.type="SessionTokenError";class I extends m{}I.type="OAuthSignInError";class $ extends m{}$.type="EmailSignInError";class N extends f{}N.type="SignOutError";class D extends f{}D.type="UnknownAction";class H extends f{}H.type="UnsupportedStrategy";class L extends f{}L.type="InvalidProvider";class M extends f{}M.type="UntrustedHost";class W extends f{}W.type="Verification";class K extends m{}K.type="MissingCSRF";let Z=new Set(["CredentialsSignin","OAuthAccountNotLinked","OAuthCallbackError","AccessDenied","Verification","MissingCSRF","AccountNotLinked","WebAuthnVerificationError"]);class J extends f{}J.type="DuplicateConditionalUI";class q extends f{}q.type="MissingWebAuthnAutocomplete";class z extends f{}z.type="WebAuthnVerificationError";class F extends m{}F.type="AccountNotLinked";class B extends f{}B.type="ExperimentalFeatureNotEnabled";let V=!1;function G(e,t){try{return/^https?:/.test(new URL(e,e.startsWith("/")?t:void 0).protocol)}catch{return!1}}let X=!1,Y=!1,Q=!1,ee=["createVerificationToken","useVerificationToken","getUserByEmail"],et=["createUser","getUser","getUserByEmail","getUserByAccount","updateUser","linkAccount","createSession","getSessionAndUser","updateSession","deleteSession"],er=["createUser","getUser","linkAccount","getAccount","getAuthenticator","createAuthenticator","listAuthenticatorsByUserId","updateAuthenticatorCounter"];var en=r(5511);let ei=(e,t,r,n,i)=>{let a=parseInt(e.substr(3),10)>>3||20,s=(0,en.createHmac)(e,r.byteLength?r:new Uint8Array(a)).update(t).digest(),o=Math.ceil(i/a),c=new Uint8Array(a*o+n.byteLength+1),l=0,u=0;for(let t=1;t<=o;t++)c.set(n,u),c[u+n.byteLength]=t,c.set((0,en.createHmac)(e,s).update(c.subarray(l,u+n.byteLength+1)).digest(),u),l=u,u+=a;return c.slice(0,i)};"function"!=typeof en.hkdf||process.versions.electron||(n=async(...e)=>new Promise((t,r)=>{en.hkdf(...e,(e,n)=>{e?r(e):t(new Uint8Array(n))})}));let ea=async(e,t,r,i,a)=>(n||ei)(e,t,r,i,a);function es(e,t){if("string"==typeof e)return new TextEncoder().encode(e);if(!(e instanceof Uint8Array))throw TypeError(`"${t}"" must be an instance of Uint8Array or a string`);return e}async function eo(e,t,r,n,i){return ea(function(e){switch(e){case"sha256":case"sha384":case"sha512":case"sha1":return e;default:throw TypeError('unsupported "digest" value')}}(e),function(e){let t=es(e,"ikm");if(!t.byteLength)throw TypeError('"ikm" must be at least one byte in length');return t}(t),es(r,"salt"),function(e){let t=es(e,"info");if(t.byteLength>1024)throw TypeError('"info" must not contain more than 1024 bytes');return t}(n),function(e,t){if("number"!=typeof e||!Number.isInteger(e)||e<1)throw TypeError('"keylen" must be a positive integer');if(e>255*(parseInt(t.substr(3),10)>>3||20))throw TypeError('"keylen" too large');return e}(i,e))}var ec=r(7598);let el=(e,t)=>(0,ec.createHash)(e).update(t).digest();var eu=r(4573);let ed=new TextEncoder,ep=new TextDecoder;function eh(...e){let t=new Uint8Array(e.reduce((e,{length:t})=>e+t,0)),r=0;for(let n of e)t.set(n,r),r+=n.length;return t}function ef(e,t){return eh(ed.encode(e),new Uint8Array([0]),t)}function em(e,t,r){if(t<0||t>=0x100000000)throw RangeError(`value must be >= 0 and <= ${0x100000000-1}. Received ${t}`);e.set([t>>>24,t>>>16,t>>>8,255&t],r)}function ey(e){let t=new Uint8Array(4);return em(t,e),t}function eg(e){return eh(ey(e.length),e)}async function eb(e,t,r){let n=Math.ceil((t>>3)/32),i=new Uint8Array(32*n);for(let t=0;t<n;t++){let n=new Uint8Array(4+e.length+r.length);n.set(ey(t+1)),n.set(e,4),n.set(r,4+e.length),i.set(await el("sha256",n),32*t)}return i.slice(0,t>>3)}let ew=e=>eu.Buffer.from(e).toString("base64url"),e_=e=>new Uint8Array(eu.Buffer.from(function(e){let t=e;return t instanceof Uint8Array&&(t=ep.decode(t)),t}(e),"base64url"));class ev extends Error{static code="ERR_JOSE_GENERIC";code="ERR_JOSE_GENERIC";constructor(e,t){super(e,t),this.name=this.constructor.name,Error.captureStackTrace?.(this,this.constructor)}}class ek extends ev{static code="ERR_JWT_CLAIM_VALIDATION_FAILED";code="ERR_JWT_CLAIM_VALIDATION_FAILED";claim;reason;payload;constructor(e,t,r="unspecified",n="unspecified"){super(e,{cause:{claim:r,reason:n,payload:t}}),this.claim=r,this.reason=n,this.payload=t}}class ex extends ev{static code="ERR_JWT_EXPIRED";code="ERR_JWT_EXPIRED";claim;reason;payload;constructor(e,t,r="unspecified",n="unspecified"){super(e,{cause:{claim:r,reason:n,payload:t}}),this.claim=r,this.reason=n,this.payload=t}}class eE extends ev{static code="ERR_JOSE_ALG_NOT_ALLOWED";code="ERR_JOSE_ALG_NOT_ALLOWED"}class eA extends ev{static code="ERR_JOSE_NOT_SUPPORTED";code="ERR_JOSE_NOT_SUPPORTED"}class eS extends ev{static code="ERR_JWE_DECRYPTION_FAILED";code="ERR_JWE_DECRYPTION_FAILED";constructor(e="decryption operation failed",t){super(e,t)}}class eT extends ev{static code="ERR_JWE_INVALID";code="ERR_JWE_INVALID"}class eR extends ev{static code="ERR_JWT_INVALID";code="ERR_JWT_INVALID"}class eO extends ev{static code="ERR_JWK_INVALID";code="ERR_JWK_INVALID"}class eP extends ev{[Symbol.asyncIterator];static code="ERR_JWKS_MULTIPLE_MATCHING_KEYS";code="ERR_JWKS_MULTIPLE_MATCHING_KEYS";constructor(e="multiple matching keys found in the JSON Web Key Set",t){super(e,t)}}function eC(e){if("object"!=typeof e||null===e||"[object Object]"!==Object.prototype.toString.call(e))return!1;if(null===Object.getPrototypeOf(e))return!0;let t=e;for(;null!==Object.getPrototypeOf(t);)t=Object.getPrototypeOf(t);return Object.getPrototypeOf(e)===t}let ej=(e,t)=>{if("string"!=typeof e||!e)throw new eO(`${t} missing or invalid`)};async function eU(e,t){let r;if(!eC(e))throw TypeError("JWK must be an object");if("sha256"!==(t??="sha256")&&"sha384"!==t&&"sha512"!==t)throw TypeError('digestAlgorithm must one of "sha256", "sha384", or "sha512"');switch(e.kty){case"EC":ej(e.crv,'"crv" (Curve) Parameter'),ej(e.x,'"x" (X Coordinate) Parameter'),ej(e.y,'"y" (Y Coordinate) Parameter'),r={crv:e.crv,kty:e.kty,x:e.x,y:e.y};break;case"OKP":ej(e.crv,'"crv" (Subtype of Key Pair) Parameter'),ej(e.x,'"x" (Public Key) Parameter'),r={crv:e.crv,kty:e.kty,x:e.x};break;case"RSA":ej(e.e,'"e" (Exponent) Parameter'),ej(e.n,'"n" (Modulus) Parameter'),r={e:e.e,kty:e.kty,n:e.n};break;case"oct":ej(e.k,'"k" (Key Value) Parameter'),r={k:e.k,kty:e.kty};break;default:throw new eA('"kty" (Key Type) Parameter missing or unsupported')}let n=ed.encode(JSON.stringify(r));return ew(await el(t,n))}let eI=Symbol();function e$(e){switch(e){case"A128GCM":case"A128GCMKW":case"A192GCM":case"A192GCMKW":case"A256GCM":case"A256GCMKW":return 96;case"A128CBC-HS256":case"A192CBC-HS384":case"A256CBC-HS512":return 128;default:throw new eA(`Unsupported JWE Algorithm: ${e}`)}}let eN=e=>(0,ec.randomFillSync)(new Uint8Array(e$(e)>>3)),eD=(e,t)=>{if(t.length<<3!==e$(e))throw new eT("Invalid Initialization Vector length")};var eH=r(7975);let eL=e=>eH.types.isKeyObject(e),eM=(e,t)=>{let r;switch(e){case"A128CBC-HS256":case"A192CBC-HS384":case"A256CBC-HS512":r=parseInt(e.slice(-3),10);break;case"A128GCM":case"A192GCM":case"A256GCM":r=parseInt(e.slice(1,4),10);break;default:throw new eA(`Content Encryption Algorithm ${e} is not supported either by JOSE or your javascript runtime`)}if(t instanceof Uint8Array){let e=t.byteLength<<3;if(e!==r)throw new eT(`Invalid Content Encryption Key length. Expected ${r} bits, got ${e} bits`);return}if(eL(t)&&"secret"===t.type){let e=t.symmetricKeySize<<3;if(e!==r)throw new eT(`Invalid Content Encryption Key length. Expected ${r} bits, got ${e} bits`);return}throw TypeError("Invalid Content Encryption Key type")};function eW(e,t,r,n,i,a){let s=eh(e,t,r,function(e){let t=Math.floor(e/0x100000000),r=new Uint8Array(8);return em(r,t,0),em(r,e%0x100000000,4),r}(e.length<<3)),o=(0,ec.createHmac)(`sha${n}`,i);return o.update(s),o.digest().slice(0,a>>3)}let eK=ec.webcrypto,eZ=e=>eH.types.isCryptoKey(e);function eJ(e,t="algorithm.name"){return TypeError(`CryptoKey does not support this operation, its ${t} must be ${e}`)}function eq(e,t){return e.name===t}function ez(e,t,...r){switch(t){case"A128GCM":case"A192GCM":case"A256GCM":{if(!eq(e.algorithm,"AES-GCM"))throw eJ("AES-GCM");let r=parseInt(t.slice(1,4),10);if(e.algorithm.length!==r)throw eJ(r,"algorithm.length");break}case"A128KW":case"A192KW":case"A256KW":{if(!eq(e.algorithm,"AES-KW"))throw eJ("AES-KW");let r=parseInt(t.slice(1,4),10);if(e.algorithm.length!==r)throw eJ(r,"algorithm.length");break}case"ECDH":switch(e.algorithm.name){case"ECDH":case"X25519":case"X448":break;default:throw eJ("ECDH, X25519, or X448")}break;case"PBES2-HS256+A128KW":case"PBES2-HS384+A192KW":case"PBES2-HS512+A256KW":if(!eq(e.algorithm,"PBKDF2"))throw eJ("PBKDF2");break;case"RSA-OAEP":case"RSA-OAEP-256":case"RSA-OAEP-384":case"RSA-OAEP-512":{if(!eq(e.algorithm,"RSA-OAEP"))throw eJ("RSA-OAEP");let r=parseInt(t.slice(9),10)||1;if(parseInt(e.algorithm.hash.name.slice(4),10)!==r)throw eJ(`SHA-${r}`,"algorithm.hash");break}default:throw TypeError("CryptoKey does not support this operation")}var n=e,i=r;if(i.length&&!i.some(e=>n.usages.includes(e))){let e="CryptoKey does not support this operation, its usages must include ";if(i.length>2){let t=i.pop();e+=`one of ${i.join(", ")}, or ${t}.`}else 2===i.length?e+=`one of ${i[0]} or ${i[1]}.`:e+=`${i[0]}.`;throw TypeError(e)}}function eF(e,t,...r){if((r=r.filter(Boolean)).length>2){let t=r.pop();e+=`one of type ${r.join(", ")}, or ${t}.`}else 2===r.length?e+=`one of type ${r[0]} or ${r[1]}.`:e+=`of type ${r[0]}.`;return null==t?e+=` Received ${t}`:"function"==typeof t&&t.name?e+=` Received function ${t.name}`:"object"==typeof t&&null!=t&&t.constructor?.name&&(e+=` Received an instance of ${t.constructor.name}`),e}let eB=(e,...t)=>eF("Key must be ",e,...t);function eV(e,t,...r){return eF(`Key for the ${e} algorithm must be `,t,...r)}let eG=e=>(i||=new Set((0,ec.getCiphers)())).has(e),eX=e=>eL(e)||eZ(e),eY=["KeyObject"];(globalThis.CryptoKey||eK?.CryptoKey)&&eY.push("CryptoKey");let eQ=(e,t,r,n,i)=>{let a;if(eZ(r))ez(r,e,"encrypt"),a=ec.KeyObject.from(r);else if(r instanceof Uint8Array||eL(r))a=r;else throw TypeError(eB(r,...eY,"Uint8Array"));switch(eM(e,a),n?eD(e,n):n=eN(e),e){case"A128CBC-HS256":case"A192CBC-HS384":case"A256CBC-HS512":return function(e,t,r,n,i){let a=parseInt(e.slice(1,4),10);eL(r)&&(r=r.export());let s=r.subarray(a>>3),o=r.subarray(0,a>>3),c=`aes-${a}-cbc`;if(!eG(c))throw new eA(`alg ${e} is not supported by your javascript runtime`);let l=(0,ec.createCipheriv)(c,s,n),u=eh(l.update(t),l.final()),d=eW(i,n,u,parseInt(e.slice(-3),10),o,a);return{ciphertext:u,tag:d,iv:n}}(e,t,a,n,i);case"A128GCM":case"A192GCM":case"A256GCM":return function(e,t,r,n,i){let a=parseInt(e.slice(1,4),10),s=`aes-${a}-gcm`;if(!eG(s))throw new eA(`alg ${e} is not supported by your javascript runtime`);let o=(0,ec.createCipheriv)(s,r,n,{authTagLength:16});i.byteLength&&o.setAAD(i,{plaintextLength:t.length});let c=o.update(t);return o.final(),{ciphertext:c,tag:o.getAuthTag(),iv:n}}(e,t,a,n,i);default:throw new eA("Unsupported JWE Content Encryption Algorithm")}};function e0(e,t){if(e.symmetricKeySize<<3!==parseInt(t.slice(1,4),10))throw TypeError(`Invalid key size for alg: ${t}`)}function e1(e,t,r){if(eL(e))return e;if(e instanceof Uint8Array)return(0,ec.createSecretKey)(e);if(eZ(e))return ez(e,t,r),ec.KeyObject.from(e);throw TypeError(eB(e,...eY,"Uint8Array"))}let e2=(e,t,r)=>{let n=parseInt(e.slice(1,4),10),i=`aes${n}-wrap`;if(!eG(i))throw new eA(`alg ${e} is not supported either by JOSE or your javascript runtime`);let a=e1(t,e,"wrapKey");e0(a,e);let s=(0,ec.createCipheriv)(i,a,eu.Buffer.alloc(8,166));return eh(s.update(r),s.final())},e4=(e,t,r)=>{let n=parseInt(e.slice(1,4),10),i=`aes${n}-wrap`;if(!eG(i))throw new eA(`alg ${e} is not supported either by JOSE or your javascript runtime`);let a=e1(t,e,"unwrapKey");e0(a,e);let s=(0,ec.createDecipheriv)(i,a,eu.Buffer.alloc(8,166));return eh(s.update(r),s.final())};function e5(e){return eC(e)&&"string"==typeof e.kty}new WeakMap;let e3=e=>{switch(e){case"prime256v1":return"P-256";case"secp384r1":return"P-384";case"secp521r1":return"P-521";case"secp256k1":return"secp256k1";default:throw new eA("Unsupported key curve for this operation")}},e6=(e,t)=>{let r;if(eZ(e))r=ec.KeyObject.from(e);else if(eL(e))r=e;else if(e5(e))return e.crv;else throw TypeError(eB(e,...eY));if("secret"===r.type)throw TypeError('only "private" or "public" type keys can be used for this operation');switch(r.asymmetricKeyType){case"ed25519":case"ed448":return`Ed${r.asymmetricKeyType.slice(2)}`;case"x25519":case"x448":return`X${r.asymmetricKeyType.slice(1)}`;case"ec":{let e=r.asymmetricKeyDetails.namedCurve;if(t)return e;return e3(e)}default:throw TypeError("Invalid asymmetric key type for this operation")}},e9=(0,eH.promisify)(ec.generateKeyPair);async function e8(e,t,r,n,i=new Uint8Array(0),a=new Uint8Array(0)){let s,o;if(eZ(e))ez(e,"ECDH"),s=ec.KeyObject.from(e);else if(eL(e))s=e;else throw TypeError(eB(e,...eY));if(eZ(t))ez(t,"ECDH","deriveBits"),o=ec.KeyObject.from(t);else if(eL(t))o=t;else throw TypeError(eB(t,...eY));let c=eh(eg(ed.encode(r)),eg(i),eg(a),ey(n));return eb((0,ec.diffieHellman)({privateKey:o,publicKey:s}),n,c)}async function e7(e){let t;if(eZ(e))t=ec.KeyObject.from(e);else if(eL(e))t=e;else throw TypeError(eB(e,...eY));switch(t.asymmetricKeyType){case"x25519":return e9("x25519");case"x448":return e9("x448");case"ec":return e9("ec",{namedCurve:e6(t)});default:throw new eA("Invalid or unsupported EPK")}}let te=e=>["P-256","P-384","P-521","X25519","X448"].includes(e6(e));function tt(e){if(!(e instanceof Uint8Array)||e.length<8)throw new eT("PBES2 Salt Input must be 8 or more octets")}let tr=(0,eH.promisify)(ec.pbkdf2);function tn(e,t){if(eL(e))return e.export();if(e instanceof Uint8Array)return e;if(eZ(e))return ez(e,t,"deriveBits","deriveKey"),ec.KeyObject.from(e).export();throw TypeError(eB(e,...eY,"Uint8Array"))}let ti=async(e,t,r,n=2048,i=(0,ec.randomFillSync)(new Uint8Array(16)))=>{tt(i);let a=ef(e,i),s=parseInt(e.slice(13,16),10)>>3,o=tn(t,e),c=await tr(o,a,n,s,`sha${e.slice(8,11)}`);return{encryptedKey:await e2(e.slice(-6),c,r),p2c:n,p2s:ew(i)}},ta=async(e,t,r,n,i)=>{tt(i);let a=ef(e,i),s=parseInt(e.slice(13,16),10)>>3,o=tn(t,e),c=await tr(o,a,n,s,`sha${e.slice(8,11)}`);return e4(e.slice(-6),c,r)},ts=(e,t)=>{let r;try{r=e instanceof ec.KeyObject?e.asymmetricKeyDetails?.modulusLength:Buffer.from(e.n,"base64url").byteLength<<3}catch{}if("number"!=typeof r||r<2048)throw TypeError(`${t} requires key modulusLength to be 2048 bits or larger`)},to=(e,t)=>{if("rsa"!==e.asymmetricKeyType)throw TypeError("Invalid key for this operation, its asymmetricKeyType must be rsa");ts(e,t)},tc=(0,eH.deprecate)(()=>ec.constants.RSA_PKCS1_PADDING,'The RSA1_5 "alg" (JWE Algorithm) is deprecated and will be removed in the next major revision.'),tl=e=>{switch(e){case"RSA-OAEP":case"RSA-OAEP-256":case"RSA-OAEP-384":case"RSA-OAEP-512":return ec.constants.RSA_PKCS1_OAEP_PADDING;case"RSA1_5":return tc();default:return}},tu=e=>{switch(e){case"RSA-OAEP":return"sha1";case"RSA-OAEP-256":return"sha256";case"RSA-OAEP-384":return"sha384";case"RSA-OAEP-512":return"sha512";default:return}};function td(e,t,...r){if(eL(e))return e;if(eZ(e))return ez(e,t,...r),ec.KeyObject.from(e);throw TypeError(eB(e,...eY))}let tp=(e,t,r)=>{let n=tl(e),i=tu(e),a=td(t,e,"wrapKey","encrypt");return to(a,e),(0,ec.publicEncrypt)({key:a,oaepHash:i,padding:n},r)},th=(e,t,r)=>{let n=tl(e),i=tu(e),a=td(t,e,"unwrapKey","decrypt");return to(a,e),(0,ec.privateDecrypt)({key:a,oaepHash:i,padding:n},r)},tf={};function tm(e){switch(e){case"A128GCM":return 128;case"A192GCM":return 192;case"A256GCM":case"A128CBC-HS256":return 256;case"A192CBC-HS384":return 384;case"A256CBC-HS512":return 512;default:throw new eA(`Unsupported JWE Algorithm: ${e}`)}}let ty=e=>(0,ec.randomFillSync)(new Uint8Array(tm(e)>>3)),tg=e=>{let t;if(eZ(e)){if(!e.extractable)throw TypeError("CryptoKey is not extractable");t=ec.KeyObject.from(e)}else if(eL(e))t=e;else if(e instanceof Uint8Array)return{kty:"oct",k:ew(e)};else throw TypeError(eB(e,...eY,"Uint8Array"));if("secret"!==t.type&&!["rsa","ec","ed25519","x25519","ed448","x448"].includes(t.asymmetricKeyType))throw new eA("Unsupported key asymmetricKeyType");return t.export({format:"jwk"})};async function tb(e){return tg(e)}let tw=e=>e?.[Symbol.toStringTag],t_=(e,t,r)=>{if(void 0!==t.use&&"sig"!==t.use)throw TypeError("Invalid key for this operation, when present its use must be sig");if(void 0!==t.key_ops&&t.key_ops.includes?.(r)!==!0)throw TypeError(`Invalid key for this operation, when present its key_ops must include ${r}`);if(void 0!==t.alg&&t.alg!==e)throw TypeError(`Invalid key for this operation, when present its alg must be ${e}`);return!0},tv=(e,t,r,n)=>{if(!(t instanceof Uint8Array)){if(n&&e5(t)){if(function(e){return e5(e)&&"oct"===e.kty&&"string"==typeof e.k}(t)&&t_(e,t,r))return;throw TypeError('JSON Web Key for symmetric algorithms must have JWK "kty" (Key Type) equal to "oct" and the JWK "k" (Key Value) present')}if(!eX(t))throw TypeError(eV(e,t,...eY,"Uint8Array",n?"JSON Web Key":null));if("secret"!==t.type)throw TypeError(`${tw(t)} instances for symmetric algorithms must be of type "secret"`)}},tk=(e,t,r,n)=>{if(n&&e5(t))switch(r){case"sign":if(function(e){return"oct"!==e.kty&&"string"==typeof e.d}(t)&&t_(e,t,r))return;throw TypeError("JSON Web Key for this operation be a private JWK");case"verify":if(function(e){return"oct"!==e.kty&&void 0===e.d}(t)&&t_(e,t,r))return;throw TypeError("JSON Web Key for this operation be a public JWK")}if(!eX(t))throw TypeError(eV(e,t,...eY,n?"JSON Web Key":null));if("secret"===t.type)throw TypeError(`${tw(t)} instances for asymmetric algorithms must not be of type "secret"`);if("sign"===r&&"public"===t.type)throw TypeError(`${tw(t)} instances for asymmetric algorithm signing must be of type "private"`);if("decrypt"===r&&"public"===t.type)throw TypeError(`${tw(t)} instances for asymmetric algorithm decryption must be of type "private"`);if(t.algorithm&&"verify"===r&&"private"===t.type)throw TypeError(`${tw(t)} instances for asymmetric algorithm verifying must be of type "public"`);if(t.algorithm&&"encrypt"===r&&"private"===t.type)throw TypeError(`${tw(t)} instances for asymmetric algorithm encryption must be of type "public"`)};function tx(e,t,r,n){t.startsWith("HS")||"dir"===t||t.startsWith("PBES2")||/^A\d{3}(?:GCM)?KW$/.test(t)?tv(t,r,n,e):tk(t,r,n,e)}let tE=tx.bind(void 0,!1);tx.bind(void 0,!0);let tA=ec.timingSafeEqual,tS=(e,t,r,n,i,a)=>{let s;if(eZ(t))ez(t,e,"decrypt"),s=ec.KeyObject.from(t);else if(t instanceof Uint8Array||eL(t))s=t;else throw TypeError(eB(t,...eY,"Uint8Array"));if(!n)throw new eT("JWE Initialization Vector missing");if(!i)throw new eT("JWE Authentication Tag missing");switch(eM(e,s),eD(e,n),e){case"A128CBC-HS256":case"A192CBC-HS384":case"A256CBC-HS512":return function(e,t,r,n,i,a){let s,o,c=parseInt(e.slice(1,4),10);eL(t)&&(t=t.export());let l=t.subarray(c>>3),u=t.subarray(0,c>>3),d=parseInt(e.slice(-3),10),p=`aes-${c}-cbc`;if(!eG(p))throw new eA(`alg ${e} is not supported by your javascript runtime`);let h=eW(a,n,r,d,u,c);try{s=tA(i,h)}catch{}if(!s)throw new eS;try{let e=(0,ec.createDecipheriv)(p,l,n);o=eh(e.update(r),e.final())}catch{}if(!o)throw new eS;return o}(e,s,r,n,i,a);case"A128GCM":case"A192GCM":case"A256GCM":return function(e,t,r,n,i,a){let s=parseInt(e.slice(1,4),10),o=`aes-${s}-gcm`;if(!eG(o))throw new eA(`alg ${e} is not supported by your javascript runtime`);try{let e=(0,ec.createDecipheriv)(o,t,n,{authTagLength:16});e.setAuthTag(i),a.byteLength&&e.setAAD(a,{plaintextLength:r.length});let s=e.update(r);return e.final(),s}catch{throw new eS}}(e,s,r,n,i,a);default:throw new eA("Unsupported JWE Content Encryption Algorithm")}};async function tT(e,t,r,n){let i=e.slice(0,7),a=await eQ(i,r,t,n,new Uint8Array(0));return{encryptedKey:a.ciphertext,iv:ew(a.iv),tag:ew(a.tag)}}async function tR(e,t,r,n,i){return tS(e.slice(0,7),t,r,n,i,new Uint8Array(0))}async function tO(e,t,r,n,i={}){let a,s,o;switch(tE(e,r,"encrypt"),r=await tf.normalizePublicKey?.(r,e)||r,e){case"dir":o=r;break;case"ECDH-ES":case"ECDH-ES+A128KW":case"ECDH-ES+A192KW":case"ECDH-ES+A256KW":{if(!te(r))throw new eA("ECDH with the provided key is not allowed or not supported by your javascript runtime");let{apu:c,apv:l}=i,{epk:u}=i;u||=(await e7(r)).privateKey;let{x:d,y:p,crv:h,kty:f}=await tb(u),m=await e8(r,u,"ECDH-ES"===e?t:e,"ECDH-ES"===e?tm(t):parseInt(e.slice(-5,-2),10),c,l);if(s={epk:{x:d,crv:h,kty:f}},"EC"===f&&(s.epk.y=p),c&&(s.apu=ew(c)),l&&(s.apv=ew(l)),"ECDH-ES"===e){o=m;break}o=n||ty(t);let y=e.slice(-6);a=await e2(y,m,o);break}case"RSA1_5":case"RSA-OAEP":case"RSA-OAEP-256":case"RSA-OAEP-384":case"RSA-OAEP-512":o=n||ty(t),a=await tp(e,r,o);break;case"PBES2-HS256+A128KW":case"PBES2-HS384+A192KW":case"PBES2-HS512+A256KW":{o=n||ty(t);let{p2c:c,p2s:l}=i;({encryptedKey:a,...s}=await ti(e,r,o,c,l));break}case"A128KW":case"A192KW":case"A256KW":o=n||ty(t),a=await e2(e,r,o);break;case"A128GCMKW":case"A192GCMKW":case"A256GCMKW":{o=n||ty(t);let{iv:c}=i;({encryptedKey:a,...s}=await tT(e,r,o,c));break}default:throw new eA('Invalid or unsupported "alg" (JWE Algorithm) header value')}return{cek:o,encryptedKey:a,parameters:s}}let tP=(...e)=>{let t,r=e.filter(Boolean);if(0===r.length||1===r.length)return!0;for(let e of r){let r=Object.keys(e);if(!t||0===t.size){t=new Set(r);continue}for(let e of r){if(t.has(e))return!1;t.add(e)}}return!0},tC=function(e,t,r,n,i){let a;if(void 0!==i.crit&&n?.crit===void 0)throw new e('"crit" (Critical) Header Parameter MUST be integrity protected');if(!n||void 0===n.crit)return new Set;if(!Array.isArray(n.crit)||0===n.crit.length||n.crit.some(e=>"string"!=typeof e||0===e.length))throw new e('"crit" (Critical) Header Parameter MUST be an array of non-empty strings when present');for(let s of(a=void 0!==r?new Map([...Object.entries(r),...t.entries()]):t,n.crit)){if(!a.has(s))throw new eA(`Extension Header Parameter "${s}" is not recognized`);if(void 0===i[s])throw new e(`Extension Header Parameter "${s}" is missing`);if(a.get(s)&&void 0===n[s])throw new e(`Extension Header Parameter "${s}" MUST be integrity protected`)}return new Set(n.crit)};class tj{_plaintext;_protectedHeader;_sharedUnprotectedHeader;_unprotectedHeader;_aad;_cek;_iv;_keyManagementParameters;constructor(e){if(!(e instanceof Uint8Array))throw TypeError("plaintext must be an instance of Uint8Array");this._plaintext=e}setKeyManagementParameters(e){if(this._keyManagementParameters)throw TypeError("setKeyManagementParameters can only be called once");return this._keyManagementParameters=e,this}setProtectedHeader(e){if(this._protectedHeader)throw TypeError("setProtectedHeader can only be called once");return this._protectedHeader=e,this}setSharedUnprotectedHeader(e){if(this._sharedUnprotectedHeader)throw TypeError("setSharedUnprotectedHeader can only be called once");return this._sharedUnprotectedHeader=e,this}setUnprotectedHeader(e){if(this._unprotectedHeader)throw TypeError("setUnprotectedHeader can only be called once");return this._unprotectedHeader=e,this}setAdditionalAuthenticatedData(e){return this._aad=e,this}setContentEncryptionKey(e){if(this._cek)throw TypeError("setContentEncryptionKey can only be called once");return this._cek=e,this}setInitializationVector(e){if(this._iv)throw TypeError("setInitializationVector can only be called once");return this._iv=e,this}async encrypt(e,t){let r,n,i,a,s;if(!this._protectedHeader&&!this._unprotectedHeader&&!this._sharedUnprotectedHeader)throw new eT("either setProtectedHeader, setUnprotectedHeader, or sharedUnprotectedHeader must be called before #encrypt()");if(!tP(this._protectedHeader,this._unprotectedHeader,this._sharedUnprotectedHeader))throw new eT("JWE Protected, JWE Shared Unprotected and JWE Per-Recipient Header Parameter names must be disjoint");let o={...this._protectedHeader,...this._unprotectedHeader,...this._sharedUnprotectedHeader};if(tC(eT,new Map,t?.crit,this._protectedHeader,o),void 0!==o.zip)throw new eA('JWE "zip" (Compression Algorithm) Header Parameter is not supported.');let{alg:c,enc:l}=o;if("string"!=typeof c||!c)throw new eT('JWE "alg" (Algorithm) Header Parameter missing or invalid');if("string"!=typeof l||!l)throw new eT('JWE "enc" (Encryption Algorithm) Header Parameter missing or invalid');if(this._cek&&("dir"===c||"ECDH-ES"===c))throw TypeError(`setContentEncryptionKey cannot be called with JWE "alg" (Algorithm) Header ${c}`);{let i;({cek:n,encryptedKey:r,parameters:i}=await tO(c,l,e,this._cek,this._keyManagementParameters)),i&&(t&&eI in t?this._unprotectedHeader?this._unprotectedHeader={...this._unprotectedHeader,...i}:this.setUnprotectedHeader(i):this._protectedHeader?this._protectedHeader={...this._protectedHeader,...i}:this.setProtectedHeader(i))}a=this._protectedHeader?ed.encode(ew(JSON.stringify(this._protectedHeader))):ed.encode(""),this._aad?(s=ew(this._aad),i=eh(a,ed.encode("."),ed.encode(s))):i=a;let{ciphertext:u,tag:d,iv:p}=await eQ(l,this._plaintext,n,this._iv,i),h={ciphertext:ew(u)};return p&&(h.iv=ew(p)),d&&(h.tag=ew(d)),r&&(h.encrypted_key=ew(r)),s&&(h.aad=s),this._protectedHeader&&(h.protected=ep.decode(a)),this._sharedUnprotectedHeader&&(h.unprotected=this._sharedUnprotectedHeader),this._unprotectedHeader&&(h.header=this._unprotectedHeader),h}}class tU{_flattened;constructor(e){this._flattened=new tj(e)}setContentEncryptionKey(e){return this._flattened.setContentEncryptionKey(e),this}setInitializationVector(e){return this._flattened.setInitializationVector(e),this}setProtectedHeader(e){return this._flattened.setProtectedHeader(e),this}setKeyManagementParameters(e){return this._flattened.setKeyManagementParameters(e),this}async encrypt(e,t){let r=await this._flattened.encrypt(e,t);return[r.protected,r.encrypted_key,r.iv,r.ciphertext,r.tag].join(".")}}let tI=e=>Math.floor(e.getTime()/1e3),t$=/^(\+|\-)? ?(\d+|\d+\.\d+) ?(seconds?|secs?|s|minutes?|mins?|m|hours?|hrs?|h|days?|d|weeks?|w|years?|yrs?|y)(?: (ago|from now))?$/i,tN=e=>{let t,r=t$.exec(e);if(!r||r[4]&&r[1])throw TypeError("Invalid time period format");let n=parseFloat(r[2]);switch(r[3].toLowerCase()){case"sec":case"secs":case"second":case"seconds":case"s":t=Math.round(n);break;case"minute":case"minutes":case"min":case"mins":case"m":t=Math.round(60*n);break;case"hour":case"hours":case"hr":case"hrs":case"h":t=Math.round(3600*n);break;case"day":case"days":case"d":t=Math.round(86400*n);break;case"week":case"weeks":case"w":t=Math.round(604800*n);break;default:t=Math.round(0x1e187e0*n)}return"-"===r[1]||"ago"===r[4]?-t:t};function tD(e,t){if(!Number.isFinite(t))throw TypeError(`Invalid ${e} input`);return t}class tH{_payload;constructor(e={}){if(!eC(e))throw TypeError("JWT Claims Set MUST be an object");this._payload=e}setIssuer(e){return this._payload={...this._payload,iss:e},this}setSubject(e){return this._payload={...this._payload,sub:e},this}setAudience(e){return this._payload={...this._payload,aud:e},this}setJti(e){return this._payload={...this._payload,jti:e},this}setNotBefore(e){return"number"==typeof e?this._payload={...this._payload,nbf:tD("setNotBefore",e)}:e instanceof Date?this._payload={...this._payload,nbf:tD("setNotBefore",tI(e))}:this._payload={...this._payload,nbf:tI(new Date)+tN(e)},this}setExpirationTime(e){return"number"==typeof e?this._payload={...this._payload,exp:tD("setExpirationTime",e)}:e instanceof Date?this._payload={...this._payload,exp:tD("setExpirationTime",tI(e))}:this._payload={...this._payload,exp:tI(new Date)+tN(e)},this}setIssuedAt(e){return void 0===e?this._payload={...this._payload,iat:tI(new Date)}:e instanceof Date?this._payload={...this._payload,iat:tD("setIssuedAt",tI(e))}:"string"==typeof e?this._payload={...this._payload,iat:tD("setIssuedAt",tI(new Date)+tN(e))}:this._payload={...this._payload,iat:tD("setIssuedAt",e)},this}}class tL extends tH{_cek;_iv;_keyManagementParameters;_protectedHeader;_replicateIssuerAsHeader;_replicateSubjectAsHeader;_replicateAudienceAsHeader;setProtectedHeader(e){if(this._protectedHeader)throw TypeError("setProtectedHeader can only be called once");return this._protectedHeader=e,this}setKeyManagementParameters(e){if(this._keyManagementParameters)throw TypeError("setKeyManagementParameters can only be called once");return this._keyManagementParameters=e,this}setContentEncryptionKey(e){if(this._cek)throw TypeError("setContentEncryptionKey can only be called once");return this._cek=e,this}setInitializationVector(e){if(this._iv)throw TypeError("setInitializationVector can only be called once");return this._iv=e,this}replicateIssuerAsHeader(){return this._replicateIssuerAsHeader=!0,this}replicateSubjectAsHeader(){return this._replicateSubjectAsHeader=!0,this}replicateAudienceAsHeader(){return this._replicateAudienceAsHeader=!0,this}async encrypt(e,t){let r=new tU(ed.encode(JSON.stringify(this._payload)));return this._replicateIssuerAsHeader&&(this._protectedHeader={...this._protectedHeader,iss:this._payload.iss}),this._replicateSubjectAsHeader&&(this._protectedHeader={...this._protectedHeader,sub:this._payload.sub}),this._replicateAudienceAsHeader&&(this._protectedHeader={...this._protectedHeader,aud:this._payload.aud}),r.setProtectedHeader(this._protectedHeader),this._iv&&r.setInitializationVector(this._iv),this._cek&&r.setContentEncryptionKey(this._cek),this._keyManagementParameters&&r.setKeyManagementParameters(this._keyManagementParameters),r.encrypt(e,t)}}let tM=e=>e.d?(0,ec.createPrivateKey)({format:"jwk",key:e}):(0,ec.createPublicKey)({format:"jwk",key:e});async function tW(e,t){if(!eC(e))throw TypeError("JWK must be an object");switch(t||=e.alg,e.kty){case"oct":if("string"!=typeof e.k||!e.k)throw TypeError('missing "k" (Key Value) Parameter value');return e_(e.k);case"RSA":if("oth"in e&&void 0!==e.oth)throw new eA('RSA JWK "oth" (Other Primes Info) Parameter value is not supported');case"EC":case"OKP":return tM({...e,alg:t});default:throw new eA('Unsupported "kty" (Key Type) Parameter value')}}async function tK(e,t,r,n,i){switch(tE(e,t,"decrypt"),t=await tf.normalizePrivateKey?.(t,e)||t,e){case"dir":if(void 0!==r)throw new eT("Encountered unexpected JWE Encrypted Key");return t;case"ECDH-ES":if(void 0!==r)throw new eT("Encountered unexpected JWE Encrypted Key");case"ECDH-ES+A128KW":case"ECDH-ES+A192KW":case"ECDH-ES+A256KW":{let i,a;if(!eC(n.epk))throw new eT('JOSE Header "epk" (Ephemeral Public Key) missing or invalid');if(!te(t))throw new eA("ECDH with the provided key is not allowed or not supported by your javascript runtime");let s=await tW(n.epk,e);if(void 0!==n.apu){if("string"!=typeof n.apu)throw new eT('JOSE Header "apu" (Agreement PartyUInfo) invalid');try{i=e_(n.apu)}catch{throw new eT("Failed to base64url decode the apu")}}if(void 0!==n.apv){if("string"!=typeof n.apv)throw new eT('JOSE Header "apv" (Agreement PartyVInfo) invalid');try{a=e_(n.apv)}catch{throw new eT("Failed to base64url decode the apv")}}let o=await e8(s,t,"ECDH-ES"===e?n.enc:e,"ECDH-ES"===e?tm(n.enc):parseInt(e.slice(-5,-2),10),i,a);if("ECDH-ES"===e)return o;if(void 0===r)throw new eT("JWE Encrypted Key missing");return e4(e.slice(-6),o,r)}case"RSA1_5":case"RSA-OAEP":case"RSA-OAEP-256":case"RSA-OAEP-384":case"RSA-OAEP-512":if(void 0===r)throw new eT("JWE Encrypted Key missing");return th(e,t,r);case"PBES2-HS256+A128KW":case"PBES2-HS384+A192KW":case"PBES2-HS512+A256KW":{let a;if(void 0===r)throw new eT("JWE Encrypted Key missing");if("number"!=typeof n.p2c)throw new eT('JOSE Header "p2c" (PBES2 Count) missing or invalid');let s=i?.maxPBES2Count||1e4;if(n.p2c>s)throw new eT('JOSE Header "p2c" (PBES2 Count) out is of acceptable bounds');if("string"!=typeof n.p2s)throw new eT('JOSE Header "p2s" (PBES2 Salt) missing or invalid');try{a=e_(n.p2s)}catch{throw new eT("Failed to base64url decode the p2s")}return ta(e,t,r,n.p2c,a)}case"A128KW":case"A192KW":case"A256KW":if(void 0===r)throw new eT("JWE Encrypted Key missing");return e4(e,t,r);case"A128GCMKW":case"A192GCMKW":case"A256GCMKW":{let i,a;if(void 0===r)throw new eT("JWE Encrypted Key missing");if("string"!=typeof n.iv)throw new eT('JOSE Header "iv" (Initialization Vector) missing or invalid');if("string"!=typeof n.tag)throw new eT('JOSE Header "tag" (Authentication Tag) missing or invalid');try{i=e_(n.iv)}catch{throw new eT("Failed to base64url decode the iv")}try{a=e_(n.tag)}catch{throw new eT("Failed to base64url decode the tag")}return tR(e,t,r,i,a)}default:throw new eA('Invalid or unsupported "alg" (JWE Algorithm) header value')}}let tZ=(e,t)=>{if(void 0!==t&&(!Array.isArray(t)||t.some(e=>"string"!=typeof e)))throw TypeError(`"${e}" option must be an array of strings`);if(t)return new Set(t)};async function tJ(e,t,r){let n,i,a,s,o,c,l;if(!eC(e))throw new eT("Flattened JWE must be an object");if(void 0===e.protected&&void 0===e.header&&void 0===e.unprotected)throw new eT("JOSE Header missing");if(void 0!==e.iv&&"string"!=typeof e.iv)throw new eT("JWE Initialization Vector incorrect type");if("string"!=typeof e.ciphertext)throw new eT("JWE Ciphertext missing or incorrect type");if(void 0!==e.tag&&"string"!=typeof e.tag)throw new eT("JWE Authentication Tag incorrect type");if(void 0!==e.protected&&"string"!=typeof e.protected)throw new eT("JWE Protected Header incorrect type");if(void 0!==e.encrypted_key&&"string"!=typeof e.encrypted_key)throw new eT("JWE Encrypted Key incorrect type");if(void 0!==e.aad&&"string"!=typeof e.aad)throw new eT("JWE AAD incorrect type");if(void 0!==e.header&&!eC(e.header))throw new eT("JWE Shared Unprotected Header incorrect type");if(void 0!==e.unprotected&&!eC(e.unprotected))throw new eT("JWE Per-Recipient Unprotected Header incorrect type");if(e.protected)try{let t=e_(e.protected);n=JSON.parse(ep.decode(t))}catch{throw new eT("JWE Protected Header is invalid")}if(!tP(n,e.header,e.unprotected))throw new eT("JWE Protected, JWE Unprotected Header, and JWE Per-Recipient Unprotected Header Parameter names must be disjoint");let u={...n,...e.header,...e.unprotected};if(tC(eT,new Map,r?.crit,n,u),void 0!==u.zip)throw new eA('JWE "zip" (Compression Algorithm) Header Parameter is not supported.');let{alg:d,enc:p}=u;if("string"!=typeof d||!d)throw new eT("missing JWE Algorithm (alg) in JWE Header");if("string"!=typeof p||!p)throw new eT("missing JWE Encryption Algorithm (enc) in JWE Header");let h=r&&tZ("keyManagementAlgorithms",r.keyManagementAlgorithms),f=r&&tZ("contentEncryptionAlgorithms",r.contentEncryptionAlgorithms);if(h&&!h.has(d)||!h&&d.startsWith("PBES2"))throw new eE('"alg" (Algorithm) Header Parameter value not allowed');if(f&&!f.has(p))throw new eE('"enc" (Encryption Algorithm) Header Parameter value not allowed');if(void 0!==e.encrypted_key)try{i=e_(e.encrypted_key)}catch{throw new eT("Failed to base64url decode the encrypted_key")}let m=!1;"function"==typeof t&&(t=await t(n,e),m=!0);try{a=await tK(d,t,i,u,r)}catch(e){if(e instanceof TypeError||e instanceof eT||e instanceof eA)throw e;a=ty(p)}if(void 0!==e.iv)try{s=e_(e.iv)}catch{throw new eT("Failed to base64url decode the iv")}if(void 0!==e.tag)try{o=e_(e.tag)}catch{throw new eT("Failed to base64url decode the tag")}let y=ed.encode(e.protected??"");c=void 0!==e.aad?eh(y,ed.encode("."),ed.encode(e.aad)):y;try{l=e_(e.ciphertext)}catch{throw new eT("Failed to base64url decode the ciphertext")}let g={plaintext:await tS(p,a,l,s,o,c)};if(void 0!==e.protected&&(g.protectedHeader=n),void 0!==e.aad)try{g.additionalAuthenticatedData=e_(e.aad)}catch{throw new eT("Failed to base64url decode the aad")}return(void 0!==e.unprotected&&(g.sharedUnprotectedHeader=e.unprotected),void 0!==e.header&&(g.unprotectedHeader=e.header),m)?{...g,key:t}:g}async function tq(e,t,r){if(e instanceof Uint8Array&&(e=ep.decode(e)),"string"!=typeof e)throw new eT("Compact JWE must be a string or Uint8Array");let{0:n,1:i,2:a,3:s,4:o,length:c}=e.split(".");if(5!==c)throw new eT("Invalid Compact JWE");let l=await tJ({ciphertext:s,iv:a||void 0,protected:n,tag:o||void 0,encrypted_key:i||void 0},t,r),u={plaintext:l.plaintext,protectedHeader:l.protectedHeader};return"function"==typeof t?{...u,key:l.key}:u}let tz=e=>e.toLowerCase().replace(/^application\//,""),tF=(e,t)=>"string"==typeof e?t.includes(e):!!Array.isArray(e)&&t.some(Set.prototype.has.bind(new Set(e))),tB=(e,t,r={})=>{let n,i;try{n=JSON.parse(ep.decode(t))}catch{}if(!eC(n))throw new eR("JWT Claims Set must be a top-level JSON object");let{typ:a}=r;if(a&&("string"!=typeof e.typ||tz(e.typ)!==tz(a)))throw new ek('unexpected "typ" JWT header value',n,"typ","check_failed");let{requiredClaims:s=[],issuer:o,subject:c,audience:l,maxTokenAge:u}=r,d=[...s];for(let e of(void 0!==u&&d.push("iat"),void 0!==l&&d.push("aud"),void 0!==c&&d.push("sub"),void 0!==o&&d.push("iss"),new Set(d.reverse())))if(!(e in n))throw new ek(`missing required "${e}" claim`,n,e,"missing");if(o&&!(Array.isArray(o)?o:[o]).includes(n.iss))throw new ek('unexpected "iss" claim value',n,"iss","check_failed");if(c&&n.sub!==c)throw new ek('unexpected "sub" claim value',n,"sub","check_failed");if(l&&!tF(n.aud,"string"==typeof l?[l]:l))throw new ek('unexpected "aud" claim value',n,"aud","check_failed");switch(typeof r.clockTolerance){case"string":i=tN(r.clockTolerance);break;case"number":i=r.clockTolerance;break;case"undefined":i=0;break;default:throw TypeError("Invalid clockTolerance option type")}let{currentDate:p}=r,h=tI(p||new Date);if((void 0!==n.iat||u)&&"number"!=typeof n.iat)throw new ek('"iat" claim must be a number',n,"iat","invalid");if(void 0!==n.nbf){if("number"!=typeof n.nbf)throw new ek('"nbf" claim must be a number',n,"nbf","invalid");if(n.nbf>h+i)throw new ek('"nbf" claim timestamp check failed',n,"nbf","check_failed")}if(void 0!==n.exp){if("number"!=typeof n.exp)throw new ek('"exp" claim must be a number',n,"exp","invalid");if(n.exp<=h-i)throw new ex('"exp" claim timestamp check failed',n,"exp","check_failed")}if(u){let e=h-n.iat;if(e-i>("number"==typeof u?u:tN(u)))throw new ex('"iat" claim timestamp check failed (too far in the past)',n,"iat","check_failed");if(e<0-i)throw new ek('"iat" claim timestamp check failed (it should be in the past)',n,"iat","check_failed")}return n};async function tV(e,t,r){let n=await tq(e,t,r),i=tB(n.protectedHeader,n.plaintext,r),{protectedHeader:a}=n;if(void 0!==a.iss&&a.iss!==i.iss)throw new ek('replicated "iss" claim header parameter mismatch',i,"iss","mismatch");if(void 0!==a.sub&&a.sub!==i.sub)throw new ek('replicated "sub" claim header parameter mismatch',i,"sub","mismatch");if(void 0!==a.aud&&JSON.stringify(a.aud)!==JSON.stringify(i.aud))throw new ek('replicated "aud" claim header parameter mismatch',i,"aud","mismatch");let s={payload:i,protectedHeader:a};return"function"==typeof t?{...s,key:n.key}:s}var tG=r(5538);let tX=()=>Date.now()/1e3|0,tY="A256CBC-HS512";async function tQ(e){let{token:t={},secret:r,maxAge:n=2592e3,salt:i}=e,a=Array.isArray(r)?r:[r],s=await t1(tY,a[0],i),o=await eU({kty:"oct",k:ew(s)},`sha${s.byteLength<<3}`);return await new tL(t).setProtectedHeader({alg:"dir",enc:tY,kid:o}).setIssuedAt().setExpirationTime(tX()+n).setJti(crypto.randomUUID()).encrypt(s)}async function t0(e){let{token:t,secret:r,salt:n}=e,i=Array.isArray(r)?r:[r];if(!t)return null;let{payload:a}=await tV(t,async({kid:e,enc:t})=>{for(let r of i){let i=await t1(t,r,n);if(void 0===e||e===await eU({kty:"oct",k:ew(i)},`sha${i.byteLength<<3}`))return i}throw Error("no matching decryption secret")},{clockTolerance:15,keyManagementAlgorithms:["dir"],contentEncryptionAlgorithms:[tY,"A256GCM"]});return a}async function t1(e,t,r){let n;switch(e){case"A256CBC-HS512":n=64;break;case"A256GCM":n=32;break;default:throw Error("Unsupported JWT Content Encryption Algorithm")}return await eo("sha256",t,r,`Auth.js Generated Encryption Key (${r})`,n)}async function t2({options:e,paramValue:t,cookieValue:r}){let{url:n,callbacks:i}=e,a=n.origin;return t?a=await i.redirect({url:t,baseUrl:n.origin}):r&&(a=await i.redirect({url:r,baseUrl:n.origin})),{callbackUrl:a,callbackUrlCookie:a!==r?a:void 0}}let t4="\x1b[31m",t5="\x1b[0m",t3={error(e){let t=e instanceof f?e.type:e.name;if(console.error(`${t4}[auth][error]${t5} ${t}: ${e.message}`),e.cause&&"object"==typeof e.cause&&"err"in e.cause&&e.cause.err instanceof Error){let{err:t,...r}=e.cause;console.error(`${t4}[auth][cause]${t5}:`,t.stack),r&&console.error(`${t4}[auth][details]${t5}:`,JSON.stringify(r,null,2))}else e.stack&&console.error(e.stack.replace(/.*/,"").substring(1))},warn(e){let t=`https://warnings.authjs.dev#${e}`;console.warn(`\x1b[33m[auth][warn][${e}]${t5}`,`Read more: ${t}`)},debug(e,t){console.log(`\x1b[90m[auth][debug]:${t5} ${e}`,JSON.stringify(t,null,2))}};function t6(e){let t={...t3};return e.debug||(t.debug=()=>{}),e.logger?.error&&(t.error=e.logger.error),e.logger?.warn&&(t.warn=e.logger.warn),e.logger?.debug&&(t.debug=e.logger.debug),e.logger??(e.logger=t),t}let t9=["providers","session","csrf","signin","signout","callback","verify-request","error","webauthn-options"];async function t8(e){if(!("body"in e)||!e.body||"POST"!==e.method)return;let t=e.headers.get("content-type");return t?.includes("application/json")?await e.json():t?.includes("application/x-www-form-urlencoded")?Object.fromEntries(new URLSearchParams(await e.text())):void 0}async function t7(e,t){try{if("GET"!==e.method&&"POST"!==e.method)throw new D("Only GET and POST requests are supported");t.basePath??(t.basePath="/auth");let r=new URL(e.url),{action:n,providerId:i}=function(e,t){let r=e.match(RegExp(`^${t}(.+)`));if(null===r)throw new D(`Cannot parse action at ${e}`);let n=r.at(-1).replace(/^\//,"").split("/").filter(Boolean);if(1!==n.length&&2!==n.length)throw new D(`Cannot parse action at ${e}`);let[i,a]=n;if(!t9.includes(i)||a&&!["signin","callback","webauthn-options"].includes(i))throw new D(`Cannot parse action at ${e}`);return{action:i,providerId:a}}(r.pathname,t.basePath);return{url:r,action:n,providerId:i,method:e.method,headers:Object.fromEntries(e.headers),body:e.body?await t8(e):void 0,cookies:(0,tG.q)(e.headers.get("cookie")??"")??{},error:r.searchParams.get("error")??void 0,query:Object.fromEntries(r.searchParams)}}catch(n){let r=t6(t);r.error(n),r.debug("request",e)}}function re(e){let t=new Headers(e.headers);e.cookies?.forEach(e=>{let{name:r,value:n,options:i}=e,a=(0,tG.l)(r,n,i);t.has("Set-Cookie")?t.append("Set-Cookie",a):t.set("Set-Cookie",a)});let r=e.body;"application/json"===t.get("content-type")?r=JSON.stringify(e.body):"application/x-www-form-urlencoded"===t.get("content-type")&&(r=new URLSearchParams(e.body).toString());let n=new Response(r,{headers:t,status:e.redirect?302:e.status??200});return e.redirect&&n.headers.set("Location",e.redirect),n}async function rt(e){let t=new TextEncoder().encode(e);return Array.from(new Uint8Array(await crypto.subtle.digest("SHA-256",t))).map(e=>e.toString(16).padStart(2,"0")).join("").toString()}function rr(e){let t=e=>("0"+e.toString(16)).slice(-2);return Array.from(crypto.getRandomValues(new Uint8Array(e))).reduce((e,r)=>e+t(r),"")}async function rn({options:e,cookieValue:t,isPost:r,bodyValue:n}){if(t){let[i,a]=t.split("|");if(a===await rt(`${i}${e.secret}`))return{csrfTokenVerified:r&&i===n,csrfToken:i}}let i=rr(32),a=await rt(`${i}${e.secret}`);return{cookie:`${i}|${a}`,csrfToken:i}}function ri(e,t){if(!t)throw new K(`CSRF token was missing during an action ${e}`)}function ra(e){return null!==e&&"object"==typeof e}function rs(e,...t){if(!t.length)return e;let r=t.shift();if(ra(e)&&ra(r))for(let t in r)ra(r[t])?(ra(e[t])||(e[t]=Array.isArray(r[t])?[]:{}),rs(e[t],r[t])):void 0!==r[t]&&(e[t]=r[t]);return rs(e,...t)}var ro=r(3313);let rc=e=>ru({id:e.sub??e.id??crypto.randomUUID(),name:e.name??e.nickname??e.preferred_username,email:e.email,image:e.picture}),rl=e=>ru({access_token:e.access_token,id_token:e.id_token,refresh_token:e.refresh_token,expires_at:e.expires_at,scope:e.scope,token_type:e.token_type,session_state:e.session_state});function ru(e){let t={};for(let[r,n]of Object.entries(e))void 0!==n&&(t[r]=n);return t}function rd(e,t){if(!e&&t)return;if("string"==typeof e)return{url:new URL(e)};let r=new URL(e?.url??"https://authjs.dev");if(e?.params!=null)for(let[t,n]of Object.entries(e.params))"claims"===t&&(n=JSON.stringify(n)),r.searchParams.set(t,String(n));return{url:r,request:e?.request,conform:e?.conform,...e?.clientPrivateKey?{clientPrivateKey:e?.clientPrivateKey}:null}}let rp={signIn:()=>!0,redirect:({url:e,baseUrl:t})=>e.startsWith("/")?`${t}${e}`:new URL(e).origin===t?e:t,session:({session:e})=>({user:{name:e.user?.name,email:e.user?.email,image:e.user?.image},expires:e.expires?.toISOString?.()??e.expires}),jwt:({token:e})=>e};async function rh({authOptions:e,providerId:t,action:r,url:n,cookies:i,callbackUrl:a,csrfToken:s,csrfDisabled:o,isPost:c}){var l,u;let d=t6(e),{providers:h,provider:f}=function(e){let{providerId:t,config:r}=e,n=new URL(r.basePath??"/auth",e.url.origin),i=r.providers.map(e=>{let t="function"==typeof e?e():e,{options:i,...a}=t,s=i?.id??a.id,o=rs(a,i,{signinUrl:`${n}/signin/${s}`,callbackUrl:`${n}/callback/${s}`});if("oauth"===t.type||"oidc"===t.type){o.redirectProxyUrl??(o.redirectProxyUrl=i?.redirectProxyUrl??r.redirectProxyUrl);let e=function(e){e.issuer&&(e.wellKnown??(e.wellKnown=`${e.issuer}/.well-known/openid-configuration`));let t=rd(e.authorization,e.issuer);t&&!t.url?.searchParams.has("scope")&&t.url.searchParams.set("scope","openid profile email");let r=rd(e.token,e.issuer),n=rd(e.userinfo,e.issuer),i=e.checks??["pkce"];return e.redirectProxyUrl&&(i.includes("state")||i.push("state"),e.redirectProxyUrl=`${e.redirectProxyUrl}/callback/${e.id}`),{...e,authorization:t,token:r,checks:i,userinfo:n,profile:e.profile??rc,account:e.account??rl}}(o);return e.authorization?.url.searchParams.get("response_mode")==="form_post"&&delete e.redirectProxyUrl,e[ro.A6]??(e[ro.A6]=i?.[ro.A6]),e}return o});return{providers:i,provider:i.find(({id:e})=>e===t)}}({url:n,providerId:t,config:e}),m=!1;if((f?.type==="oauth"||f?.type==="oidc")&&f.redirectProxyUrl)try{m=new URL(f.redirectProxyUrl).origin===n.origin}catch{throw TypeError(`redirectProxyUrl must be a valid URL. Received: ${f.redirectProxyUrl}`)}let g={debug:!1,pages:{},theme:{colorScheme:"auto",logo:"",brandColor:"",buttonText:""},...e,url:n,action:r,provider:f,cookies:rs(p(e.useSecureCookies??"https:"===n.protocol),e.cookies),providers:h,session:{strategy:e.adapter?"database":"jwt",maxAge:2592e3,updateAge:86400,generateSessionToken:()=>crypto.randomUUID(),...e.session},jwt:{secret:e.secret,maxAge:e.session?.maxAge??2592e3,encode:tQ,decode:t0,...e.jwt},events:(l=e.events??{},u=d,Object.keys(l).reduce((e,t)=>(e[t]=async(...e)=>{try{let r=l[t];return await r(...e)}catch(e){u.error(new _(e))}},e),{})),adapter:function(e,t){if(e)return Object.keys(e).reduce((r,n)=>(r[n]=async(...r)=>{try{t.debug(`adapter_${n}`,{args:r});let i=e[n];return await i(...r)}catch(r){let e=new y(r);throw t.error(e),e}},r),{})}(e.adapter,d),callbacks:{...rp,...e.callbacks},logger:d,callbackUrl:n.origin,isOnRedirectProxy:m,experimental:{...e.experimental}},b=[];if(o)g.csrfTokenVerified=!0;else{let{csrfToken:e,cookie:t,csrfTokenVerified:r}=await rn({options:g,cookieValue:i?.[g.cookies.csrfToken.name],isPost:c,bodyValue:s});g.csrfToken=e,g.csrfTokenVerified=r,t&&b.push({name:g.cookies.csrfToken.name,value:t,options:g.cookies.csrfToken.options})}let{callbackUrl:w,callbackUrlCookie:v}=await t2({options:g,cookieValue:i?.[g.cookies.callbackUrl.name],paramValue:a});return g.callbackUrl=w,v&&b.push({name:g.cookies.callbackUrl.name,value:v,options:g.cookies.callbackUrl.options}),{options:g,cookies:b}}var rf,rm,ry,rg,rb,rw,r_,rv,rk,rx,rE,rA={},rS=[],rT=/acit|ex(?:s|g|n|p|$)|rph|grid|ows|mnc|ntw|ine[ch]|zoo|^ord|itera/i;function rR(e,t){for(var r in t)e[r]=t[r];return e}function rO(e){var t=e.parentNode;t&&t.removeChild(e)}function rP(e,t,r,n,i){var a={type:e,props:t,key:r,ref:n,__k:null,__:null,__b:0,__e:null,__d:void 0,__c:null,__h:null,constructor:void 0,__v:null==i?++rk:i};return null==i&&null!=rv.vnode&&rv.vnode(a),a}function rC(e){return e.children}function rj(e,t){this.props=e,this.context=t}function rU(e,t){if(null==t)return e.__?rU(e.__,e.__.__k.indexOf(e)+1):null;for(var r;t<e.__k.length;t++)if(null!=(r=e.__k[t])&&null!=r.__e)return r.__e;return"function"==typeof e.type?rU(e):null}function rI(e){(!e.__d&&(e.__d=!0)&&rx.push(e)&&!r$.__r++||rE!==rv.debounceRendering)&&((rE=rv.debounceRendering)||setTimeout)(r$)}function r$(){for(var e;r$.__r=rx.length;)e=rx.sort(function(e,t){return e.__v.__b-t.__v.__b}),rx=[],e.some(function(e){var t,r,n,i,a;e.__d&&(i=(n=e.__v).__e,(a=e.__P)&&(t=[],(r=rR({},n)).__v=n.__v+1,rK(a,n,r,e.__n,void 0!==a.ownerSVGElement,null!=n.__h?[i]:null,t,null==i?rU(n):i,n.__h),rZ(t,n),n.__e!=i&&function e(t){var r,n;if(null!=(t=t.__)&&null!=t.__c){for(t.__e=t.__c.base=null,r=0;r<t.__k.length;r++)if(null!=(n=t.__k[r])&&null!=n.__e){t.__e=t.__c.base=n.__e;break}return e(t)}}(n)))})}function rN(e,t,r,n,i,a,s,o,c,l){var u,d,p,h,f,m,y,g=n&&n.__k||rS,b=g.length;for(r.__k=[],u=0;u<t.length;u++)if(null!=(h=r.__k[u]=null==(h=t[u])||"boolean"==typeof h?null:"string"==typeof h||"number"==typeof h||"bigint"==typeof h?rP(null,h,null,null,h):Array.isArray(h)?rP(rC,{children:h},null,null,null):h.__b>0?rP(h.type,h.props,h.key,h.ref?h.ref:null,h.__v):h)){if(h.__=r,h.__b=r.__b+1,null===(p=g[u])||p&&h.key==p.key&&h.type===p.type)g[u]=void 0;else for(d=0;d<b;d++){if((p=g[d])&&h.key==p.key&&h.type===p.type){g[d]=void 0;break}p=null}rK(e,h,p=p||rA,i,a,s,o,c,l),f=h.__e,(d=h.ref)&&p.ref!=d&&(y||(y=[]),p.ref&&y.push(p.ref,null,h),y.push(d,h.__c||f,h)),null!=f?(null==m&&(m=f),"function"==typeof h.type&&h.__k===p.__k?h.__d=c=function e(t,r,n){for(var i,a=t.__k,s=0;a&&s<a.length;s++)(i=a[s])&&(i.__=t,r="function"==typeof i.type?e(i,r,n):rD(n,i,i,a,i.__e,r));return r}(h,c,e):c=rD(e,h,p,g,f,c),"function"==typeof r.type&&(r.__d=c)):c&&p.__e==c&&c.parentNode!=e&&(c=rU(p))}for(r.__e=m,u=b;u--;)null!=g[u]&&function e(t,r,n){var i,a;if(rv.unmount&&rv.unmount(t),(i=t.ref)&&(i.current&&i.current!==t.__e||rJ(i,null,r)),null!=(i=t.__c)){if(i.componentWillUnmount)try{i.componentWillUnmount()}catch(e){rv.__e(e,r)}i.base=i.__P=null,t.__c=void 0}if(i=t.__k)for(a=0;a<i.length;a++)i[a]&&e(i[a],r,n||"function"!=typeof t.type);n||null==t.__e||rO(t.__e),t.__=t.__e=t.__d=void 0}(g[u],g[u]);if(y)for(u=0;u<y.length;u++)rJ(y[u],y[++u],y[++u])}function rD(e,t,r,n,i,a){var s,o,c;if(void 0!==t.__d)s=t.__d,t.__d=void 0;else if(null==r||i!=a||null==i.parentNode)e:if(null==a||a.parentNode!==e)e.appendChild(i),s=null;else{for(o=a,c=0;(o=o.nextSibling)&&c<n.length;c+=1)if(o==i)break e;e.insertBefore(i,a),s=a}return void 0!==s?s:i.nextSibling}function rH(e,t,r){"-"===t[0]?e.setProperty(t,r):e[t]=null==r?"":"number"!=typeof r||rT.test(t)?r:r+"px"}function rL(e,t,r,n,i){var a;e:if("style"===t)if("string"==typeof r)e.style.cssText=r;else{if("string"==typeof n&&(e.style.cssText=n=""),n)for(t in n)r&&t in r||rH(e.style,t,"");if(r)for(t in r)n&&r[t]===n[t]||rH(e.style,t,r[t])}else if("o"===t[0]&&"n"===t[1])a=t!==(t=t.replace(/Capture$/,"")),t=t.toLowerCase()in e?t.toLowerCase().slice(2):t.slice(2),e.l||(e.l={}),e.l[t+a]=r,r?n||e.addEventListener(t,a?rW:rM,a):e.removeEventListener(t,a?rW:rM,a);else if("dangerouslySetInnerHTML"!==t){if(i)t=t.replace(/xlink(H|:h)/,"h").replace(/sName$/,"s");else if("href"!==t&&"list"!==t&&"form"!==t&&"tabIndex"!==t&&"download"!==t&&t in e)try{e[t]=null==r?"":r;break e}catch(e){}"function"==typeof r||(null==r||!1===r&&-1==t.indexOf("-")?e.removeAttribute(t):e.setAttribute(t,r))}}function rM(e){this.l[e.type+!1](rv.event?rv.event(e):e)}function rW(e){this.l[e.type+!0](rv.event?rv.event(e):e)}function rK(e,t,r,n,i,a,s,o,c){var l,u,d,p,h,f,m,y,g,b,w,_,v,k,x,E=t.type;if(void 0!==t.constructor)return null;null!=r.__h&&(c=r.__h,o=t.__e=r.__e,t.__h=null,a=[o]),(l=rv.__b)&&l(t);try{e:if("function"==typeof E){if(y=t.props,g=(l=E.contextType)&&n[l.__c],b=l?g?g.props.value:l.__:n,r.__c?m=(u=t.__c=r.__c).__=u.__E:("prototype"in E&&E.prototype.render?t.__c=u=new E(y,b):(t.__c=u=new rj(y,b),u.constructor=E,u.render=rq),g&&g.sub(u),u.props=y,u.state||(u.state={}),u.context=b,u.__n=n,d=u.__d=!0,u.__h=[],u._sb=[]),null==u.__s&&(u.__s=u.state),null!=E.getDerivedStateFromProps&&(u.__s==u.state&&(u.__s=rR({},u.__s)),rR(u.__s,E.getDerivedStateFromProps(y,u.__s))),p=u.props,h=u.state,d)null==E.getDerivedStateFromProps&&null!=u.componentWillMount&&u.componentWillMount(),null!=u.componentDidMount&&u.__h.push(u.componentDidMount);else{if(null==E.getDerivedStateFromProps&&y!==p&&null!=u.componentWillReceiveProps&&u.componentWillReceiveProps(y,b),!u.__e&&null!=u.shouldComponentUpdate&&!1===u.shouldComponentUpdate(y,u.__s,b)||t.__v===r.__v){for(u.props=y,u.state=u.__s,t.__v!==r.__v&&(u.__d=!1),u.__v=t,t.__e=r.__e,t.__k=r.__k,t.__k.forEach(function(e){e&&(e.__=t)}),w=0;w<u._sb.length;w++)u.__h.push(u._sb[w]);u._sb=[],u.__h.length&&s.push(u);break e}null!=u.componentWillUpdate&&u.componentWillUpdate(y,u.__s,b),null!=u.componentDidUpdate&&u.__h.push(function(){u.componentDidUpdate(p,h,f)})}if(u.context=b,u.props=y,u.__v=t,u.__P=e,_=rv.__r,v=0,"prototype"in E&&E.prototype.render){for(u.state=u.__s,u.__d=!1,_&&_(t),l=u.render(u.props,u.state,u.context),k=0;k<u._sb.length;k++)u.__h.push(u._sb[k]);u._sb=[]}else do u.__d=!1,_&&_(t),l=u.render(u.props,u.state,u.context),u.state=u.__s;while(u.__d&&++v<25);u.state=u.__s,null!=u.getChildContext&&(n=rR(rR({},n),u.getChildContext())),d||null==u.getSnapshotBeforeUpdate||(f=u.getSnapshotBeforeUpdate(p,h)),x=null!=l&&l.type===rC&&null==l.key?l.props.children:l,rN(e,Array.isArray(x)?x:[x],t,r,n,i,a,s,o,c),u.base=t.__e,t.__h=null,u.__h.length&&s.push(u),m&&(u.__E=u.__=null),u.__e=!1}else null==a&&t.__v===r.__v?(t.__k=r.__k,t.__e=r.__e):t.__e=function(e,t,r,n,i,a,s,o){var c,l,u,d=r.props,p=t.props,h=t.type,f=0;if("svg"===h&&(i=!0),null!=a){for(;f<a.length;f++)if((c=a[f])&&"setAttribute"in c==!!h&&(h?c.localName===h:3===c.nodeType)){e=c,a[f]=null;break}}if(null==e){if(null===h)return document.createTextNode(p);e=i?document.createElementNS("http://www.w3.org/2000/svg",h):document.createElement(h,p.is&&p),a=null,o=!1}if(null===h)d===p||o&&e.data===p||(e.data=p);else{if(a=a&&r_.call(e.childNodes),l=(d=r.props||rA).dangerouslySetInnerHTML,u=p.dangerouslySetInnerHTML,!o){if(null!=a)for(d={},f=0;f<e.attributes.length;f++)d[e.attributes[f].name]=e.attributes[f].value;(u||l)&&(u&&(l&&u.__html==l.__html||u.__html===e.innerHTML)||(e.innerHTML=u&&u.__html||""))}if(function(e,t,r,n,i){var a;for(a in r)"children"===a||"key"===a||a in t||rL(e,a,null,r[a],n);for(a in t)i&&"function"!=typeof t[a]||"children"===a||"key"===a||"value"===a||"checked"===a||r[a]===t[a]||rL(e,a,t[a],r[a],n)}(e,p,d,i,o),u)t.__k=[];else if(rN(e,Array.isArray(f=t.props.children)?f:[f],t,r,n,i&&"foreignObject"!==h,a,s,a?a[0]:r.__k&&rU(r,0),o),null!=a)for(f=a.length;f--;)null!=a[f]&&rO(a[f]);o||("value"in p&&void 0!==(f=p.value)&&(f!==e.value||"progress"===h&&!f||"option"===h&&f!==d.value)&&rL(e,"value",f,d.value,!1),"checked"in p&&void 0!==(f=p.checked)&&f!==e.checked&&rL(e,"checked",f,d.checked,!1))}return e}(r.__e,t,r,n,i,a,s,c);(l=rv.diffed)&&l(t)}catch(e){t.__v=null,(c||null!=a)&&(t.__e=o,t.__h=!!c,a[a.indexOf(o)]=null),rv.__e(e,t,r)}}function rZ(e,t){rv.__c&&rv.__c(t,e),e.some(function(t){try{e=t.__h,t.__h=[],e.some(function(e){e.call(t)})}catch(e){rv.__e(e,t.__v)}})}function rJ(e,t,r){try{"function"==typeof e?e(t):e.current=t}catch(e){rv.__e(e,r)}}function rq(e,t,r){return this.constructor(e,r)}function rz(e,t){var r,n,i,a;r=e,rv.__&&rv.__(r,t),i=(n="function"==typeof rz)?null:rz&&rz.__k||t.__k,a=[],rK(t,r=(!n&&rz||t).__k=function(e,t,r){var n,i,a,s={};for(a in t)"key"==a?n=t[a]:"ref"==a?i=t[a]:s[a]=t[a];if(arguments.length>2&&(s.children=arguments.length>3?r_.call(arguments,2):r),"function"==typeof e&&null!=e.defaultProps)for(a in e.defaultProps)void 0===s[a]&&(s[a]=e.defaultProps[a]);return rP(e,s,n,i,null)}(rC,null,[r]),i||rA,rA,void 0!==t.ownerSVGElement,!n&&rz?[rz]:i?null:t.firstChild?r_.call(t.childNodes):null,a,!n&&rz?rz:i?i.__e:t.firstChild,n),rZ(a,r)}r_=rS.slice,rv={__e:function(e,t,r,n){for(var i,a,s;t=t.__;)if((i=t.__c)&&!i.__)try{if((a=i.constructor)&&null!=a.getDerivedStateFromError&&(i.setState(a.getDerivedStateFromError(e)),s=i.__d),null!=i.componentDidCatch&&(i.componentDidCatch(e,n||{}),s=i.__d),s)return i.__E=i}catch(t){e=t}throw e}},rk=0,rj.prototype.setState=function(e,t){var r;r=null!=this.__s&&this.__s!==this.state?this.__s:this.__s=rR({},this.state),"function"==typeof e&&(e=e(rR({},r),this.props)),e&&rR(r,e),null!=e&&this.__v&&(t&&this._sb.push(t),rI(this))},rj.prototype.forceUpdate=function(e){this.__v&&(this.__e=!0,e&&this.__h.push(e),rI(this))},rj.prototype.render=rC,rx=[],r$.__r=0;var rF=/acit|ex(?:s|g|n|p|$)|rph|grid|ows|mnc|ntw|ine[ch]|zoo|^ord|^--/i,rB=/^(area|base|br|col|embed|hr|img|input|link|meta|param|source|track|wbr)$/,rV=/[\s\n\\/='"\0<>]/,rG=/^xlink:?./,rX=/["&<]/;function rY(e){if(!1===rX.test(e+=""))return e;for(var t=0,r=0,n="",i="";r<e.length;r++){switch(e.charCodeAt(r)){case 34:i="&quot;";break;case 38:i="&amp;";break;case 60:i="&lt;";break;default:continue}r!==t&&(n+=e.slice(t,r)),n+=i,t=r+1}return r!==t&&(n+=e.slice(t,r)),n}var rQ=function(e,t){return String(e).replace(/(\n+)/g,"$1"+(t||"	"))},r0=function(e,t,r){return String(e).length>(t||40)||!r&&-1!==String(e).indexOf("\n")||-1!==String(e).indexOf("<")},r1={},r2=/([A-Z])/g;function r4(e){var t="";for(var r in e){var n=e[r];null!=n&&""!==n&&(t&&(t+=" "),t+="-"==r[0]?r:r1[r]||(r1[r]=r.replace(r2,"-$1").toLowerCase()),t="number"==typeof n&&!1===rF.test(r)?t+": "+n+"px;":t+": "+n+";")}return t||void 0}function r5(e,t){return Array.isArray(t)?t.reduce(r5,e):null!=t&&!1!==t&&e.push(t),e}function r3(){this.__d=!0}function r6(e,t){return{__v:e,context:t,props:e.props,setState:r3,forceUpdate:r3,__d:!0,__h:[]}}function r9(e,t){var r=e.contextType,n=r&&t[r.__c];return null!=r?n?n.props.value:r.__:t}var r8=[],r7={shallow:!0};nt.render=nt;var ne=[];function nt(e,t,r){t=t||{};var n,i=rv.__s;return rv.__s=!0,n=r&&(r.pretty||r.voidElements||r.sortAttributes||r.shallow||r.allAttributes||r.xml||r.attributeHook)?function e(t,r,n,i,a,s){if(null==t||"boolean"==typeof t)return"";if("object"!=typeof t)return rY(t);var o=n.pretty,c=o&&"string"==typeof o?o:"	";if(Array.isArray(t)){for(var l="",u=0;u<t.length;u++)o&&u>0&&(l+="\n"),l+=e(t[u],r,n,i,a,s);return l}var d,p=t.type,h=t.props,f=!1;if("function"==typeof p){if(f=!0,!n.shallow||!i&&!1!==n.renderRootComponent){if(p===rC){var m=[];return r5(m,t.props.children),e(m,r,n,!1!==n.shallowHighOrder,a,s)}var y,g=t.__c=r6(t,r);rv.__b&&rv.__b(t);var b=rv.__r;if(p.prototype&&"function"==typeof p.prototype.render){var w=r9(p,r);(g=t.__c=new p(h,w)).__v=t,g._dirty=g.__d=!0,g.props=h,null==g.state&&(g.state={}),null==g._nextState&&null==g.__s&&(g._nextState=g.__s=g.state),g.context=w,p.getDerivedStateFromProps?g.state=Object.assign({},g.state,p.getDerivedStateFromProps(g.props,g.state)):g.componentWillMount&&(g.componentWillMount(),g.state=g._nextState!==g.state?g._nextState:g.__s!==g.state?g.__s:g.state),b&&b(t),y=g.render(g.props,g.state,g.context)}else for(var _=r9(p,r),v=0;g.__d&&v++<25;)g.__d=!1,b&&b(t),y=p.call(t.__c,h,_);return g.getChildContext&&(r=Object.assign({},r,g.getChildContext())),rv.diffed&&rv.diffed(t),e(y,r,n,!1!==n.shallowHighOrder,a,s)}p=(d=p).displayName||d!==Function&&d.name||function(e){var t=(Function.prototype.toString.call(e).match(/^\s*function\s+([^( ]+)/)||"")[1];if(!t){for(var r=-1,n=r8.length;n--;)if(r8[n]===e){r=n;break}r<0&&(r=r8.push(e)-1),t="UnnamedComponent"+r}return t}(d)}var k,x,E="<"+p;if(h){var A=Object.keys(h);n&&!0===n.sortAttributes&&A.sort();for(var S=0;S<A.length;S++){var T=A[S],R=h[T];if("children"!==T){if(!rV.test(T)&&(n&&n.allAttributes||"key"!==T&&"ref"!==T&&"__self"!==T&&"__source"!==T)){if("defaultValue"===T)T="value";else if("defaultChecked"===T)T="checked";else if("defaultSelected"===T)T="selected";else if("className"===T){if(void 0!==h.class)continue;T="class"}else a&&rG.test(T)&&(T=T.toLowerCase().replace(/^xlink:?/,"xlink:"));if("htmlFor"===T){if(h.for)continue;T="for"}"style"===T&&R&&"object"==typeof R&&(R=r4(R)),"a"===T[0]&&"r"===T[1]&&"boolean"==typeof R&&(R=String(R));var O=n.attributeHook&&n.attributeHook(T,R,r,n,f);if(O||""===O)E+=O;else if("dangerouslySetInnerHTML"===T)x=R&&R.__html;else if("textarea"===p&&"value"===T)k=R;else if((R||0===R||""===R)&&"function"!=typeof R){if(!(!0!==R&&""!==R||(R=T,n&&n.xml))){E=E+" "+T;continue}if("value"===T){if("select"===p){s=R;continue}"option"===p&&s==R&&void 0===h.selected&&(E+=" selected")}E=E+" "+T+'="'+rY(R)+'"'}}}else k=R}}if(o){var P=E.replace(/\n\s*/," ");P===E||~P.indexOf("\n")?o&&~E.indexOf("\n")&&(E+="\n"):E=P}if(E+=">",rV.test(p))throw Error(p+" is not a valid HTML tag name in "+E);var C,j=rB.test(p)||n.voidElements&&n.voidElements.test(p),U=[];if(x)o&&r0(x)&&(x="\n"+c+rQ(x,c)),E+=x;else if(null!=k&&r5(C=[],k).length){for(var I=o&&~E.indexOf("\n"),$=!1,N=0;N<C.length;N++){var D=C[N];if(null!=D&&!1!==D){var H=e(D,r,n,!0,"svg"===p||"foreignObject"!==p&&a,s);if(o&&!I&&r0(H)&&(I=!0),H)if(o){var L=H.length>0&&"<"!=H[0];$&&L?U[U.length-1]+=H:U.push(H),$=L}else U.push(H)}}if(o&&I)for(var M=U.length;M--;)U[M]="\n"+c+rQ(U[M],c)}if(U.length||x)E+=U.join("");else if(n&&n.xml)return E.substring(0,E.length-1)+" />";return!j||C||x?(o&&~E.indexOf("\n")&&(E+="\n"),E=E+"</"+p+">"):E=E.replace(/>$/," />"),E}(e,t,r):function e(t,r,n,i){if(null==t||!0===t||!1===t||""===t)return"";if("object"!=typeof t)return rY(t);if(nr(t)){for(var a="",s=0;s<t.length;s++)a+=e(t[s],r,n,i);return a}rv.__b&&rv.__b(t);var o=t.type,c=t.props;if("function"==typeof o){if(o===rC)return e(t.props.children,r,n,i);var l,u,d,p,h,f=o.prototype&&"function"==typeof o.prototype.render?(l=r,d=r9(u=t.type,l),p=new u(t.props,d),t.__c=p,p.__v=t,p.__d=!0,p.props=t.props,null==p.state&&(p.state={}),null==p.__s&&(p.__s=p.state),p.context=d,u.getDerivedStateFromProps?p.state=nn({},p.state,u.getDerivedStateFromProps(p.props,p.state)):p.componentWillMount&&(p.componentWillMount(),p.state=p.__s!==p.state?p.__s:p.state),(h=rv.__r)&&h(t),p.render(p.props,p.state,p.context)):function(e,t){var r,n=r6(e,t),i=r9(e.type,t);e.__c=n;for(var a=rv.__r,s=0;n.__d&&s++<25;)n.__d=!1,a&&a(e),r=e.type.call(n,e.props,i);return r}(t,r),m=t.__c;m.getChildContext&&(r=nn({},r,m.getChildContext()));var y=e(f,r,n,i);return rv.diffed&&rv.diffed(t),y}var g,b,w="<";if(w+=o,c)for(var _ in g=c.children,c){var v,k,x,E=c[_];if(!("key"===_||"ref"===_||"__self"===_||"__source"===_||"children"===_||"className"===_&&"class"in c||"htmlFor"===_&&"for"in c||rV.test(_))){if(k=_="className"===(v=_)?"class":"htmlFor"===v?"for":"defaultValue"===v?"value":"defaultChecked"===v?"checked":"defaultSelected"===v?"selected":n&&rG.test(v)?v.toLowerCase().replace(/^xlink:?/,"xlink:"):v,x=E,E="style"===k&&null!=x&&"object"==typeof x?r4(x):"a"===k[0]&&"r"===k[1]&&"boolean"==typeof x?String(x):x,"dangerouslySetInnerHTML"===_)b=E&&E.__html;else if("textarea"===o&&"value"===_)g=E;else if((E||0===E||""===E)&&"function"!=typeof E){if(!0===E||""===E){E=_,w=w+" "+_;continue}if("value"===_){if("select"===o){i=E;continue}"option"!==o||i!=E||"selected"in c||(w+=" selected")}w=w+" "+_+'="'+rY(E)+'"'}}}var A=w;if(w+=">",rV.test(o))throw Error(o+" is not a valid HTML tag name in "+w);var S="",T=!1;if(b)S+=b,T=!0;else if("string"==typeof g)S+=rY(g),T=!0;else if(nr(g))for(var R=0;R<g.length;R++){var O=g[R];if(null!=O&&!1!==O){var P=e(O,r,"svg"===o||"foreignObject"!==o&&n,i);P&&(S+=P,T=!0)}}else if(null!=g&&!1!==g&&!0!==g){var C=e(g,r,"svg"===o||"foreignObject"!==o&&n,i);C&&(S+=C,T=!0)}if(rv.diffed&&rv.diffed(t),T)w+=S;else if(rB.test(o))return A+" />";return w+"</"+o+">"}(e,t,!1,void 0),rv.__c&&rv.__c(e,ne),rv.__s=i,ne.length=0,n}var nr=Array.isArray,nn=Object.assign;nt.shallowRender=function(e,t){return nt(e,t,r7)};var ni=0;function na(e,t,r,n,i){var a,s,o={};for(s in t)"ref"==s?a=t[s]:o[s]=t[s];var c={type:e,props:o,key:r,ref:a,__k:null,__:null,__b:0,__e:null,__d:void 0,__c:null,__h:null,constructor:void 0,__v:--ni,__source:i,__self:n};if("function"==typeof e&&(a=e.defaultProps))for(s in a)void 0===o[s]&&(o[s]=a[s]);return rv.vnode&&rv.vnode(c),c}async function ns(e,t){let r=window.SimpleWebAuthnBrowser;async function n(r){let n=new URL(`${e}/webauthn-options/${t}`);r&&n.searchParams.append("action",r),a().forEach(e=>{n.searchParams.append(e.name,e.value)});let i=await fetch(n);return i.ok?i.json():void console.error("Failed to fetch options",i)}function i(){let e=`#${t}-form`,r=document.querySelector(e);if(!r)throw Error(`Form '${e}' not found`);return r}function a(){return Array.from(i().querySelectorAll("input[data-form-field]"))}async function s(e,t){let r=i();if(e){let t=document.createElement("input");t.type="hidden",t.name="action",t.value=e,r.appendChild(t)}if(t){let e=document.createElement("input");e.type="hidden",e.name="data",e.value=JSON.stringify(t),r.appendChild(e)}return r.submit()}async function o(e,t){let n=await r.startAuthentication(e,t);return await s("authenticate",n)}async function c(e){a().forEach(e=>{if(e.required&&!e.value)throw Error(`Missing required field: ${e.name}`)});let t=await r.startRegistration(e);return await s("register",t)}async function l(){if(!r.browserSupportsWebAuthnAutofill())return;let e=await n("authenticate");if(!e)return void console.error("Failed to fetch option for autofill authentication");try{await o(e.options,!0)}catch(e){console.error(e)}}(async function(){let e=i();if(!r.browserSupportsWebAuthn()){e.style.display="none";return}e&&e.addEventListener("submit",async e=>{e.preventDefault();let t=await n(void 0);if(!t)return void console.error("Failed to fetch options for form submission");if("authenticate"===t.action)try{await o(t.options,!1)}catch(e){console.error(e)}else if("register"===t.action)try{await c(t.options)}catch(e){console.error(e)}})})(),l()}let no={default:"Unable to sign in.",Signin:"Try signing in with a different account.",OAuthSignin:"Try signing in with a different account.",OAuthCallbackError:"Try signing in with a different account.",OAuthCreateAccount:"Try signing in with a different account.",EmailCreateAccount:"Try signing in with a different account.",Callback:"Try signing in with a different account.",OAuthAccountNotLinked:"To confirm your identity, sign in with the same account you used originally.",EmailSignin:"The e-mail could not be sent.",CredentialsSignin:"Sign in failed. Check the details you provided are correct.",SessionRequired:"Please sign in to access this page."},nc=`:root {
  --border-width: 1px;
  --border-radius: 0.5rem;
  --color-error: #c94b4b;
  --color-info: #157efb;
  --color-info-hover: #0f6ddb;
  --color-info-text: #fff;
}

.__next-auth-theme-auto,
.__next-auth-theme-light {
  --color-background: #ececec;
  --color-background-hover: rgba(236, 236, 236, 0.8);
  --color-background-card: #fff;
  --color-text: #000;
  --color-primary: #444;
  --color-control-border: #bbb;
  --color-button-active-background: #f9f9f9;
  --color-button-active-border: #aaa;
  --color-separator: #ccc;
}

.__next-auth-theme-dark {
  --color-background: #161b22;
  --color-background-hover: rgba(22, 27, 34, 0.8);
  --color-background-card: #0d1117;
  --color-text: #fff;
  --color-primary: #ccc;
  --color-control-border: #555;
  --color-button-active-background: #060606;
  --color-button-active-border: #666;
  --color-separator: #444;
}

@media (prefers-color-scheme: dark) {
  .__next-auth-theme-auto {
    --color-background: #161b22;
    --color-background-hover: rgba(22, 27, 34, 0.8);
    --color-background-card: #0d1117;
    --color-text: #fff;
    --color-primary: #ccc;
    --color-control-border: #555;
    --color-button-active-background: #060606;
    --color-button-active-border: #666;
    --color-separator: #444;
  }

  button,
  a.button {
    color: var(--provider-dark-color, var(--color-primary)) !important;
    background-color: var(
      --provider-dark-bg,
      var(--color-background)
    ) !important;
  }

    :is(button,a.button):hover {
      background-color: var(
        --provider-dark-bg-hover,
        var(--color-background-hover)
      ) !important;
    }

    :is(button,a.button) span {
      color: var(--provider-dark-bg) !important;
    }
}

html {
  box-sizing: border-box;
}

*,
*:before,
*:after {
  box-sizing: inherit;
  margin: 0;
  padding: 0;
}

body {
  background-color: var(--color-background);
  margin: 0;
  padding: 0;
  font-family:
    ui-sans-serif,
    system-ui,
    -apple-system,
    BlinkMacSystemFont,
    "Segoe UI",
    Roboto,
    "Helvetica Neue",
    Arial,
    "Noto Sans",
    sans-serif,
    "Apple Color Emoji",
    "Segoe UI Emoji",
    "Segoe UI Symbol",
    "Noto Color Emoji";
}

h1 {
  margin-bottom: 1.5rem;
  padding: 0 1rem;
  font-weight: 400;
  color: var(--color-text);
}

p {
  margin-bottom: 1.5rem;
  padding: 0 1rem;
  color: var(--color-text);
}

form {
  margin: 0;
  padding: 0;
}

label {
  font-weight: 500;
  text-align: left;
  margin-bottom: 0.25rem;
  display: block;
  color: var(--color-text);
}

input[type] {
  box-sizing: border-box;
  display: block;
  width: 100%;
  padding: 0.5rem 1rem;
  border: var(--border-width) solid var(--color-control-border);
  background: var(--color-background-card);
  font-size: 1rem;
  border-radius: var(--border-radius);
  color: var(--color-text);
}

p {
  font-size: 1.1rem;
  line-height: 2rem;
}

a.button {
  text-decoration: none;
  line-height: 1rem;
}

a.button:link,
  a.button:visited {
    background-color: var(--color-background);
    color: var(--color-primary);
  }

button,
a.button {
  padding: 0.75rem 1rem;
  color: var(--provider-color, var(--color-primary));
  background-color: var(--provider-bg, var(--color-background));
  border: 1px solid #00000031;
  font-size: 0.9rem;
  height: 50px;
  border-radius: var(--border-radius);
  transition: background-color 250ms ease-in-out;
  font-weight: 300;
  position: relative;
  display: flex;
  align-items: center;
  justify-content: space-between;
}

:is(button,a.button):hover {
    background-color: var(--provider-bg-hover, var(--color-background-hover));
    cursor: pointer;
  }

:is(button,a.button):active {
    cursor: pointer;
  }

:is(button,a.button) span {
    color: #fff;
  }

#submitButton {
  color: var(--button-text-color, var(--color-info-text));
  background-color: var(--brand-color, var(--color-info));
  width: 100%;
}

#submitButton:hover {
    background-color: var(
      --button-hover-bg,
      var(--color-info-hover)
    ) !important;
  }

a.site {
  color: var(--color-primary);
  text-decoration: none;
  font-size: 1rem;
  line-height: 2rem;
}

a.site:hover {
    text-decoration: underline;
  }

.page {
  position: absolute;
  width: 100%;
  height: 100%;
  display: grid;
  place-items: center;
  margin: 0;
  padding: 0;
  box-sizing: border-box;
}

.page > div {
    text-align: center;
  }

.error a.button {
    padding-left: 2rem;
    padding-right: 2rem;
    margin-top: 0.5rem;
  }

.error .message {
    margin-bottom: 1.5rem;
  }

.signin input[type="text"] {
    margin-left: auto;
    margin-right: auto;
    display: block;
  }

.signin hr {
    display: block;
    border: 0;
    border-top: 1px solid var(--color-separator);
    margin: 2rem auto 1rem auto;
    overflow: visible;
  }

.signin hr::before {
      content: "or";
      background: var(--color-background-card);
      color: #888;
      padding: 0 0.4rem;
      position: relative;
      top: -0.7rem;
    }

.signin .error {
    background: #f5f5f5;
    font-weight: 500;
    border-radius: 0.3rem;
    background: var(--color-error);
  }

.signin .error p {
      text-align: left;
      padding: 0.5rem 1rem;
      font-size: 0.9rem;
      line-height: 1.2rem;
      color: var(--color-info-text);
    }

.signin > div,
  .signin form {
    display: block;
  }

.signin > div input[type], .signin form input[type] {
      margin-bottom: 0.5rem;
    }

.signin > div button, .signin form button {
      width: 100%;
    }

.signin .provider + .provider {
    margin-top: 1rem;
  }

.logo {
  display: inline-block;
  max-width: 150px;
  margin: 1.25rem 0;
  max-height: 70px;
}

.card {
  background-color: var(--color-background-card);
  border-radius: 1rem;
  padding: 1.25rem 2rem;
}

.card .header {
    color: var(--color-primary);
  }

.card input[type]::-moz-placeholder {
    color: color-mix(
      in srgb,
      var(--color-text) 20%,
      var(--color-button-active-background)
    );
  }

.card input[type]::placeholder {
    color: color-mix(
      in srgb,
      var(--color-text) 20%,
      var(--color-button-active-background)
    );
  }

.card input[type] {
    background: color-mix(in srgb, var(--color-background-card) 95%, black);
  }

.section-header {
  color: var(--color-text);
}

@media screen and (min-width: 450px) {
  .card {
    margin: 2rem 0;
    width: 368px;
  }
}

@media screen and (max-width: 450px) {
  .card {
    margin: 1rem 0;
    width: 343px;
  }
}
`;function nl({html:e,title:t,status:r,cookies:n,theme:i,headTags:a}){return{cookies:n,status:r,headers:{"Content-Type":"text/html"},body:`<!DOCTYPE html><html lang="en"><head><meta charset="UTF-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1.0"><style>${nc}</style><title>${t}</title>${a??""}</head><body class="__next-auth-theme-${i?.colorScheme??"auto"}"><div class="page">${nt(e)}</div></body></html>`}}function nu(e){let{url:t,theme:r,query:n,cookies:i,pages:a,providers:s}=e;return{csrf:(e,t,r)=>e?(t.logger.warn("csrf-disabled"),r.push({name:t.cookies.csrfToken.name,value:"",options:{...t.cookies.csrfToken.options,maxAge:0}}),{status:404,cookies:r}):{headers:{"Content-Type":"application/json"},body:{csrfToken:t.csrfToken},cookies:r},providers:e=>({headers:{"Content-Type":"application/json"},body:e.reduce((e,{id:t,name:r,type:n,signinUrl:i,callbackUrl:a})=>(e[t]={id:t,name:r,type:n,signinUrl:i,callbackUrl:a},e),{})}),signin(t,o){if(t)throw new D("Unsupported action");if(a?.signIn){let t=`${a.signIn}${a.signIn.includes("?")?"&":"?"}${new URLSearchParams({callbackUrl:e.callbackUrl??"/"})}`;return o&&(t=`${t}&${new URLSearchParams({error:o})}`),{redirect:t,cookies:i}}let c=s?.find(e=>"webauthn"===e.type&&e.enableConditionalUI&&!!e.simpleWebAuthnBrowserVersion),l="";if(c){let{simpleWebAuthnBrowserVersion:e}=c;l=`<script src="https://unpkg.com/@simplewebauthn/browser@${e}/dist/bundle/index.umd.min.js" crossorigin="anonymous"></script>`}return nl({cookies:i,theme:r,html:function(e){let{csrfToken:t,providers:r=[],callbackUrl:n,theme:i,email:a,error:s}=e;"undefined"!=typeof document&&i?.brandColor&&document.documentElement.style.setProperty("--brand-color",i.brandColor),"undefined"!=typeof document&&i?.buttonText&&document.documentElement.style.setProperty("--button-text-color",i.buttonText);let o=s&&(no[s]??no.default),c=r.find(e=>"webauthn"===e.type&&e.enableConditionalUI)?.id;return na("div",{className:"signin",children:[i?.brandColor&&na("style",{dangerouslySetInnerHTML:{__html:`:root {--brand-color: ${i.brandColor}}`}}),i?.buttonText&&na("style",{dangerouslySetInnerHTML:{__html:`
        :root {
          --button-text-color: ${i.buttonText}
        }
      `}}),na("div",{className:"card",children:[o&&na("div",{className:"error",children:na("p",{children:o})}),i?.logo&&na("img",{src:i.logo,alt:"Logo",className:"logo"}),r.map((e,i)=>{let s,o,c;("oauth"===e.type||"oidc"===e.type)&&({bg:s="#fff",brandColor:o,logo:c=`https://authjs.dev/img/providers/${e.id}.svg`}=e.style??{});let l=o??s??"#fff";return na("div",{className:"provider",children:["oauth"===e.type||"oidc"===e.type?na("form",{action:e.signinUrl,method:"POST",children:[na("input",{type:"hidden",name:"csrfToken",value:t}),n&&na("input",{type:"hidden",name:"callbackUrl",value:n}),na("button",{type:"submit",className:"button",style:{"--provider-bg":"#fff","--provider-bg-hover":`color-mix(in srgb, ${l} 30%, #fff)`,"--provider-dark-bg":"#161b22","--provider-dark-bg-hover":`color-mix(in srgb, ${l} 30%, #000)`},tabIndex:0,children:[na("span",{style:{filter:"invert(1) grayscale(1) brightness(1.3) contrast(9000)","mix-blend-mode":"luminosity",opacity:.95},children:["Sign in with ",e.name]}),c&&na("img",{loading:"lazy",height:24,src:c})]})]}):null,("email"===e.type||"credentials"===e.type||"webauthn"===e.type)&&i>0&&"email"!==r[i-1].type&&"credentials"!==r[i-1].type&&"webauthn"!==r[i-1].type&&na("hr",{}),"email"===e.type&&na("form",{action:e.signinUrl,method:"POST",children:[na("input",{type:"hidden",name:"csrfToken",value:t}),na("label",{className:"section-header",htmlFor:`input-email-for-${e.id}-provider`,children:"Email"}),na("input",{id:`input-email-for-${e.id}-provider`,autoFocus:!0,type:"email",name:"email",value:a,placeholder:"email@example.com",required:!0}),na("button",{id:"submitButton",type:"submit",tabIndex:0,children:["Sign in with ",e.name]})]}),"credentials"===e.type&&na("form",{action:e.callbackUrl,method:"POST",children:[na("input",{type:"hidden",name:"csrfToken",value:t}),Object.keys(e.credentials).map(t=>na("div",{children:[na("label",{className:"section-header",htmlFor:`input-${t}-for-${e.id}-provider`,children:e.credentials[t].label??t}),na("input",{name:t,id:`input-${t}-for-${e.id}-provider`,type:e.credentials[t].type??"text",placeholder:e.credentials[t].placeholder??"",...e.credentials[t]})]},`input-group-${e.id}`)),na("button",{id:"submitButton",type:"submit",tabIndex:0,children:["Sign in with ",e.name]})]}),"webauthn"===e.type&&na("form",{action:e.callbackUrl,method:"POST",id:`${e.id}-form`,children:[na("input",{type:"hidden",name:"csrfToken",value:t}),Object.keys(e.formFields).map(t=>na("div",{children:[na("label",{className:"section-header",htmlFor:`input-${t}-for-${e.id}-provider`,children:e.formFields[t].label??t}),na("input",{name:t,"data-form-field":!0,id:`input-${t}-for-${e.id}-provider`,type:e.formFields[t].type??"text",placeholder:e.formFields[t].placeholder??"",...e.formFields[t]})]},`input-group-${e.id}`)),na("button",{id:`submitButton-${e.id}`,type:"submit",tabIndex:0,children:["Sign in with ",e.name]})]}),("email"===e.type||"credentials"===e.type||"webauthn"===e.type)&&i+1<r.length&&na("hr",{})]},e.id)})]}),c&&na(rC,{children:na("script",{dangerouslySetInnerHTML:{__html:`
const currentURL = window.location.href;
const authURL = currentURL.substring(0, currentURL.lastIndexOf('/'));
(${ns})(authURL, "${c}");
`}})})]})}({csrfToken:e.csrfToken,providers:e.providers?.filter(e=>["email","oauth","oidc"].includes(e.type)||"credentials"===e.type&&e.credentials||"webauthn"===e.type&&e.formFields||!1),callbackUrl:e.callbackUrl,theme:e.theme,error:o,...n}),title:"Sign In",headTags:l})},signout:()=>a?.signOut?{redirect:a.signOut,cookies:i}:nl({cookies:i,theme:r,html:function(e){let{url:t,csrfToken:r,theme:n}=e;return na("div",{className:"signout",children:[n?.brandColor&&na("style",{dangerouslySetInnerHTML:{__html:`
        :root {
          --brand-color: ${n.brandColor}
        }
      `}}),n?.buttonText&&na("style",{dangerouslySetInnerHTML:{__html:`
        :root {
          --button-text-color: ${n.buttonText}
        }
      `}}),na("div",{className:"card",children:[n?.logo&&na("img",{src:n.logo,alt:"Logo",className:"logo"}),na("h1",{children:"Signout"}),na("p",{children:"Are you sure you want to sign out?"}),na("form",{action:t?.toString(),method:"POST",children:[na("input",{type:"hidden",name:"csrfToken",value:r}),na("button",{id:"submitButton",type:"submit",children:"Sign out"})]})]})]})}({csrfToken:e.csrfToken,url:t,theme:r}),title:"Sign Out"}),verifyRequest:e=>a?.verifyRequest?{redirect:a.verifyRequest,cookies:i}:nl({cookies:i,theme:r,html:function(e){let{url:t,theme:r}=e;return na("div",{className:"verify-request",children:[r.brandColor&&na("style",{dangerouslySetInnerHTML:{__html:`
        :root {
          --brand-color: ${r.brandColor}
        }
      `}}),na("div",{className:"card",children:[r.logo&&na("img",{src:r.logo,alt:"Logo",className:"logo"}),na("h1",{children:"Check your email"}),na("p",{children:"A sign in link has been sent to your email address."}),na("p",{children:na("a",{className:"site",href:t.origin,children:t.host})})]})]})}({url:t,theme:r,...e}),title:"Verify Request"}),error:e=>a?.error?{redirect:`${a.error}${a.error.includes("?")?"&":"?"}error=${e}`,cookies:i}:nl({cookies:i,theme:r,...function(e){let{url:t,error:r="default",theme:n}=e,i=`${t}/signin`,a={default:{status:200,heading:"Error",message:na("p",{children:na("a",{className:"site",href:t?.origin,children:t?.host})})},Configuration:{status:500,heading:"Server error",message:na("div",{children:[na("p",{children:"There is a problem with the server configuration."}),na("p",{children:"Check the server logs for more information."})]})},AccessDenied:{status:403,heading:"Access Denied",message:na("div",{children:[na("p",{children:"You do not have permission to sign in."}),na("p",{children:na("a",{className:"button",href:i,children:"Sign in"})})]})},Verification:{status:403,heading:"Unable to sign in",message:na("div",{children:[na("p",{children:"The sign in link is no longer valid."}),na("p",{children:"It may have been used already or it may have expired."})]}),signin:na("a",{className:"button",href:i,children:"Sign in"})}},{status:s,heading:o,message:c,signin:l}=a[r]??a.default;return{status:s,html:na("div",{className:"error",children:[n?.brandColor&&na("style",{dangerouslySetInnerHTML:{__html:`
        :root {
          --brand-color: ${n?.brandColor}
        }
      `}}),na("div",{className:"card",children:[n?.logo&&na("img",{src:n?.logo,alt:"Logo",className:"logo"}),na("h1",{children:o}),na("div",{className:"message",children:c}),l]})]})}}({url:t,theme:r,error:e}),title:"Error"})}}function nd(e,t=Date.now()){return new Date(t+1e3*e)}async function np(e,t,r,n){if(!r?.providerAccountId||!r.type)throw Error("Missing or invalid provider account");if(!["email","oauth","oidc","webauthn"].includes(r.type))throw Error("Provider not supported");let{adapter:i,jwt:a,events:s,session:{strategy:o,generateSessionToken:c}}=n;if(!i)return{user:t,account:r};let l=r,{createUser:u,updateUser:d,getUser:p,getUserByAccount:h,getUserByEmail:f,linkAccount:m,createSession:y,getSessionAndUser:g,deleteSession:b}=i,w=null,_=null,v=!1,k="jwt"===o;if(e)if(k)try{let t=n.cookies.sessionToken.name;(w=await a.decode({...a,token:e,salt:t}))&&"sub"in w&&w.sub&&(_=await p(w.sub))}catch{}else{let t=await g(e);t&&(w=t.session,_=t.user)}if("email"===l.type){let r=await f(t.email);return r?(_?.id!==r.id&&!k&&e&&await b(e),_=await d({id:r.id,emailVerified:new Date}),await s.updateUser?.({user:_})):(_=await u({...t,emailVerified:new Date}),await s.createUser?.({user:_}),v=!0),{session:w=k?{}:await y({sessionToken:c(),userId:_.id,expires:nd(n.session.maxAge)}),user:_,isNewUser:v}}if("webauthn"===l.type){let e=await h({providerAccountId:l.providerAccountId,provider:l.provider});if(e){if(_){if(e.id===_.id){let e={...l,userId:_.id};return{session:w,user:_,isNewUser:v,account:e}}throw new F("The account is already associated with another user",{provider:l.provider})}w=k?{}:await y({sessionToken:c(),userId:e.id,expires:nd(n.session.maxAge)});let t={...l,userId:e.id};return{session:w,user:e,isNewUser:v,account:t}}{if(_){await m({...l,userId:_.id}),await s.linkAccount?.({user:_,account:l,profile:t});let e={...l,userId:_.id};return{session:w,user:_,isNewUser:v,account:e}}if(t.email?await f(t.email):null)throw new F("Another account already exists with the same e-mail address",{provider:l.provider});_=await u({...t}),await s.createUser?.({user:_}),await m({...l,userId:_.id}),await s.linkAccount?.({user:_,account:l,profile:t}),w=k?{}:await y({sessionToken:c(),userId:_.id,expires:nd(n.session.maxAge)});let e={...l,userId:_.id};return{session:w,user:_,isNewUser:!0,account:e}}}let x=await h({providerAccountId:l.providerAccountId,provider:l.provider});if(x){if(_){if(x.id===_.id)return{session:w,user:_,isNewUser:v};throw new P("The account is already associated with another user",{provider:l.provider})}return{session:w=k?{}:await y({sessionToken:c(),userId:x.id,expires:nd(n.session.maxAge)}),user:x,isNewUser:v}}{let{provider:e}=n,{type:r,provider:i,providerAccountId:a,userId:o,...d}=l;if(l=Object.assign(e.account(d)??{},{providerAccountId:a,provider:i,type:r,userId:o}),_)return await m({...l,userId:_.id}),await s.linkAccount?.({user:_,account:l,profile:t}),{session:w,user:_,isNewUser:v};let p=t.email?await f(t.email):null;if(p){let e=n.provider;if(e?.allowDangerousEmailAccountLinking)_=p,v=!1;else throw new P("Another account already exists with the same e-mail address",{provider:l.provider})}else _=await u({...t,emailVerified:null}),v=!0;return await s.createUser?.({user:_}),await m({...l,userId:_.id}),await s.linkAccount?.({user:_,account:l,profile:t}),{session:w=k?{}:await y({sessionToken:c(),userId:_.id,expires:nd(n.session.maxAge)}),user:_,isNewUser:v}}}function nh(e,t){if(null==e)return!1;try{return e instanceof t||Object.getPrototypeOf(e)[Symbol.toStringTag]===t.prototype[Symbol.toStringTag]}catch{return!1}}"undefined"!=typeof navigator&&navigator.userAgent?.startsWith?.("Mozilla/5.0 ")||(a="oauth4webapi/v3.5.5");let nf="ERR_INVALID_ARG_VALUE",nm="ERR_INVALID_ARG_TYPE";function ny(e,t,r){let n=TypeError(e,{cause:r});return Object.assign(n,{code:t}),n}let ng=Symbol(),nb=Symbol(),nw=Symbol(),n_=Symbol(),nv=Symbol(),nk=Symbol(),nx=Symbol(),nE=new TextEncoder,nA=new TextDecoder;function nS(e){return"string"==typeof e?nE.encode(e):nA.decode(e)}function nT(e){return"string"==typeof e?o(e):s(e)}s=Uint8Array.prototype.toBase64?e=>(e instanceof ArrayBuffer&&(e=new Uint8Array(e)),e.toBase64({alphabet:"base64url",omitPadding:!0})):e=>{e instanceof ArrayBuffer&&(e=new Uint8Array(e));let t=[];for(let r=0;r<e.byteLength;r+=32768)t.push(String.fromCharCode.apply(null,e.subarray(r,r+32768)));return btoa(t.join("")).replace(/=/g,"").replace(/\+/g,"-").replace(/\//g,"_")},o=Uint8Array.fromBase64?e=>{try{return Uint8Array.fromBase64(e,{alphabet:"base64url"})}catch(e){throw ny("The input to be decoded is not correctly encoded.",nf,e)}}:e=>{try{let t=atob(e.replace(/-/g,"+").replace(/_/g,"/").replace(/\s/g,"")),r=new Uint8Array(t.length);for(let e=0;e<t.length;e++)r[e]=t.charCodeAt(e);return r}catch(e){throw ny("The input to be decoded is not correctly encoded.",nf,e)}};class nR extends Error{code;constructor(e,t){super(e,t),this.name=this.constructor.name,this.code=iM,Error.captureStackTrace?.(this,this.constructor)}}class nO extends Error{code;constructor(e,t){super(e,t),this.name=this.constructor.name,t?.code&&(this.code=t?.code),Error.captureStackTrace?.(this,this.constructor)}}function nP(e,t,r){return new nO(e,{code:t,cause:r})}function nC(e,t){if(!(e instanceof CryptoKey))throw ny(`${t} must be a CryptoKey`,nm)}function nj(e,t){if(nC(e,t),"private"!==e.type)throw ny(`${t} must be a private CryptoKey`,nf)}function nU(e){return!(null===e||"object"!=typeof e||Array.isArray(e))}function nI(e){nh(e,Headers)&&(e=Object.fromEntries(e.entries()));let t=new Headers(e??{});if(a&&!t.has("user-agent")&&t.set("user-agent",a),t.has("authorization"))throw ny('"options.headers" must not include the "authorization" header name',nf);return t}function n$(e){if("function"==typeof e&&(e=e()),!(e instanceof AbortSignal))throw ny('"options.signal" must return or be an instance of AbortSignal',nm);return e}function nN(e){return e.includes("//")?e.replace("//","/"):e}async function nD(e,t,r,n){if(!(e instanceof URL))throw ny(`"${t}" must be an instance of URL`,nm);n4(e,n?.[ng]!==!0);let i=r(new URL(e.href)),a=nI(n?.headers);return a.set("accept","application/json"),(n?.[n_]||fetch)(i.href,{body:void 0,headers:Object.fromEntries(a.entries()),method:"GET",redirect:"manual",signal:n?.signal?n$(n.signal):void 0})}async function nH(e,t){return nD(e,"issuerIdentifier",e=>{switch(t?.algorithm){case void 0:case"oidc":e.pathname=nN(`${e.pathname}/.well-known/openid-configuration`);break;case"oauth2":!function(e,t,r=!1){"/"===e.pathname?e.pathname=t:e.pathname=nN(`${t}/${r?e.pathname:e.pathname.replace(/(\/)$/,"")}`)}(e,".well-known/oauth-authorization-server");break;default:throw ny('"options.algorithm" must be "oidc" (default), or "oauth2"',nf)}return e},t)}function nL(e,t,r,n,i){try{if("number"!=typeof e||!Number.isFinite(e))throw ny(`${r} must be a number`,nm,i);if(e>0)return;if(t){if(0!==e)throw ny(`${r} must be a non-negative number`,nf,i);return}throw ny(`${r} must be a positive number`,nf,i)}catch(e){if(n)throw nP(e.message,n,i);throw e}}function nM(e,t,r,n){try{if("string"!=typeof e)throw ny(`${t} must be a string`,nm,n);if(0===e.length)throw ny(`${t} must not be empty`,nf,n)}catch(e){if(r)throw nP(e.message,r,n);throw e}}async function nW(e,t){if(!(e instanceof URL)&&e!==ah)throw ny('"expectedIssuerIdentifier" must be an instance of URL',nm);if(!nh(t,Response))throw ny('"response" must be an instance of Response',nm);if(200!==t.status)throw nP('"response" is not a conform Authorization Server Metadata response (unexpected HTTP status code)',iF,t);i4(t);let r=await ap(t);if(nM(r.issuer,'"response" body "issuer" property',iJ,{body:r}),e!==ah&&new URL(r.issuer).href!==e.href)throw nP('"response" body "issuer" property does not match the expected value',iY,{expected:e.href,body:r,attribute:"issuer"});return r}function nK(e){var t=e,r="application/json";if(im(t)!==r)throw nZ(t,r)}function nZ(e,...t){let r='"response" content-type must be ';if(t.length>2){let e=t.pop();r+=`${t.join(", ")}, or ${e}`}else 2===t.length?r+=`${t[0]} or ${t[1]}`:r+=t[0];return nP(r,iz,e)}function nJ(){return nT(crypto.getRandomValues(new Uint8Array(32)))}async function nq(e){return nM(e,"codeVerifier"),nT(await crypto.subtle.digest("SHA-256",nS(e)))}function nz(e){switch(e.algorithm.name){case"RSA-PSS":switch(e.algorithm.hash.name){case"SHA-256":return"PS256";case"SHA-384":return"PS384";case"SHA-512":return"PS512";default:throw new nR("unsupported RsaHashedKeyAlgorithm hash name",{cause:e})}case"RSASSA-PKCS1-v1_5":switch(e.algorithm.hash.name){case"SHA-256":return"RS256";case"SHA-384":return"RS384";case"SHA-512":return"RS512";default:throw new nR("unsupported RsaHashedKeyAlgorithm hash name",{cause:e})}case"ECDSA":switch(e.algorithm.namedCurve){case"P-256":return"ES256";case"P-384":return"ES384";case"P-521":return"ES512";default:throw new nR("unsupported EcKeyAlgorithm namedCurve",{cause:e})}case"Ed25519":case"EdDSA":return"Ed25519";default:throw new nR("unsupported CryptoKey algorithm name",{cause:e})}}function nF(e){let t=e?.[nb];return"number"==typeof t&&Number.isFinite(t)?t:0}function nB(e){let t=e?.[nw];return"number"==typeof t&&Number.isFinite(t)&&-1!==Math.sign(t)?t:30}function nV(){return Math.floor(Date.now()/1e3)}function nG(e){if("object"!=typeof e||null===e)throw ny('"as" must be an object',nm);nM(e.issuer,'"as.issuer"')}function nX(e){if("object"!=typeof e||null===e)throw ny('"client" must be an object',nm);nM(e.client_id,'"client.client_id"')}function nY(e,t){let r=nV()+nF(t);return{jti:nJ(),aud:e.issuer,exp:r+60,iat:r,nbf:r,iss:t.client_id,sub:t.client_id}}async function nQ(e,t,r){if(!r.usages.includes("sign"))throw ny('CryptoKey instances used for signing assertions must include "sign" in their "usages"',nf);let n=`${nT(nS(JSON.stringify(e)))}.${nT(nS(JSON.stringify(t)))}`,i=nT(await crypto.subtle.sign(i8(r),r,nS(n)));return`${n}.${i}`}async function n0(e){let{kty:t,e:r,n,x:i,y:a,crv:s}=await crypto.subtle.exportKey("jwk",e),o={kty:t,e:r,n,x:i,y:a,crv:s};return c.set(e,o),o}async function n1(e){return(c||=new WeakMap).get(e)||n0(e)}let n2=URL.parse?(e,t)=>URL.parse(e,t):(e,t)=>{try{return new URL(e,t)}catch{return null}};function n4(e,t){if(t&&"https:"!==e.protocol)throw nP("only requests to HTTPS are allowed",iB,e);if("https:"!==e.protocol&&"http:"!==e.protocol)throw nP("only HTTP and HTTPS requests are allowed",iV,e)}function n5(e,t,r,n){let i;if("string"!=typeof e||!(i=n2(e)))throw nP(`authorization server metadata does not contain a valid ${r?`"as.mtls_endpoint_aliases.${t}"`:`"as.${t}"`}`,void 0===e?i0:i1,{attribute:r?`mtls_endpoint_aliases.${t}`:t});return n4(i,n),i}function n3(e,t,r,n){return r&&e.mtls_endpoint_aliases&&t in e.mtls_endpoint_aliases?n5(e.mtls_endpoint_aliases[t],t,r,n):n5(e[t],t,r,n)}class n6 extends Error{cause;code;error;status;error_description;response;constructor(e,t){super(e,t),this.name=this.constructor.name,this.code=iL,this.cause=t.cause,this.error=t.cause.error,this.status=t.response.status,this.error_description=t.cause.error_description,Object.defineProperty(this,"response",{enumerable:!1,value:t.response}),Error.captureStackTrace?.(this,this.constructor)}}class n9 extends Error{cause;code;error;error_description;constructor(e,t){super(e,t),this.name=this.constructor.name,this.code=iW,this.cause=t.cause,this.error=t.cause.get("error"),this.error_description=t.cause.get("error_description")??void 0,Error.captureStackTrace?.(this,this.constructor)}}class n8 extends Error{cause;code;response;status;constructor(e,t){super(e,t),this.name=this.constructor.name,this.code=iH,this.cause=t.cause,this.status=t.response.status,this.response=t.response,Object.defineProperty(this,"response",{enumerable:!1}),Error.captureStackTrace?.(this,this.constructor)}}let n7="[a-zA-Z0-9!#$%&\\'\\*\\+\\-\\.\\^_`\\|~]+",ie=RegExp("^[,\\s]*("+n7+")\\s(.*)"),it=RegExp("^[,\\s]*("+n7+')\\s*=\\s*"((?:[^"\\\\]|\\\\.)*)"[,\\s]*(.*)'),ir=RegExp("^[,\\s]*"+("("+n7+")\\s*=\\s*(")+n7+")[,\\s]*(.*)"),ii=RegExp("^([a-zA-Z0-9\\-\\._\\~\\+\\/]+[=]{0,2})(?:$|[,\\s])(.*)");async function ia(e){if(e.status>399&&e.status<500){i4(e),nK(e);try{let t=await e.clone().json();if(nU(t)&&"string"==typeof t.error&&t.error.length)return t}catch{}}}async function is(e,t,r){if(e.status!==t){let t;if(t=await ia(e))throw await e.body?.cancel(),new n6("server responded with an error in the response body",{cause:t,response:e});throw nP(`"response" is not a conform ${r} response (unexpected HTTP status code)`,iF,e)}}function io(e){if(!iR.has(e))throw ny('"options.DPoP" is not a valid DPoPHandle',nf)}async function ic(e,t,r,n,i,a){if(nM(e,'"accessToken"'),!(r instanceof URL))throw ny('"url" must be an instance of URL',nm);n4(r,a?.[ng]!==!0),n=nI(n),a?.DPoP&&(io(a.DPoP),await a.DPoP.addProof(r,n,t.toUpperCase(),e)),n.set("authorization",`${n.has("dpop")?"DPoP":"Bearer"} ${e}`);let s=await (a?.[n_]||fetch)(r.href,{body:i,headers:Object.fromEntries(n.entries()),method:t,redirect:"manual",signal:a?.signal?n$(a.signal):void 0});return a?.DPoP?.cacheNonce(s),s}async function il(e,t,r,n){nG(e),nX(t);let i=n3(e,"userinfo_endpoint",t.use_mtls_endpoint_aliases,n?.[ng]!==!0),a=nI(n?.headers);return t.userinfo_signed_response_alg?a.set("accept","application/jwt"):(a.set("accept","application/json"),a.append("accept","application/jwt")),ic(r,"GET",i,a,null,{...n,[nb]:nF(t)})}function iu(e,t,r,n){(l||=new WeakMap).set(e,{jwks:t,uat:r,get age(){return nV()-this.uat}}),n&&Object.assign(n,{jwks:structuredClone(t),uat:r})}function id(e,t){l?.delete(e),delete t?.jwks,delete t?.uat}async function ip(e,t,r){var n;let i,a,s,{alg:o,kid:c}=r;if(function(e){if(!i6(e.alg))throw new nR('unsupported JWS "alg" identifier',{cause:{alg:e.alg}})}(r),!l?.has(e)&&!("object"!=typeof(n=t?.[nx])||null===n||!("uat"in n)||"number"!=typeof n.uat||nV()-n.uat>=300)&&"jwks"in n&&nU(n.jwks)&&Array.isArray(n.jwks.keys)&&Array.prototype.every.call(n.jwks.keys,nU)&&iu(e,t?.[nx].jwks,t?.[nx].uat),l?.has(e)){if({jwks:i,age:a}=l.get(e),a>=300)return id(e,t?.[nx]),ip(e,t,r)}else i=await i5(e,t).then(i3),a=0,iu(e,i,nV(),t?.[nx]);switch(o.slice(0,2)){case"RS":case"PS":s="RSA";break;case"ES":s="EC";break;case"Ed":s="OKP";break;default:throw new nR("unsupported JWS algorithm",{cause:{alg:o}})}let u=i.keys.filter(e=>{if(e.kty!==s||void 0!==c&&c!==e.kid||void 0!==e.alg&&o!==e.alg||void 0!==e.use&&"sig"!==e.use||e.key_ops?.includes("verify")===!1)return!1;switch(!0){case"ES256"===o&&"P-256"!==e.crv:case"ES384"===o&&"P-384"!==e.crv:case"ES512"===o&&"P-521"!==e.crv:case"Ed25519"===o&&"Ed25519"!==e.crv:case"EdDSA"===o&&"Ed25519"!==e.crv:return!1}return!0}),{0:d,length:p}=u;if(!p){if(a>=60)return id(e,t?.[nx]),ip(e,t,r);throw nP("error when selecting a JWT verification key, no applicable keys found",iQ,{header:r,candidates:u,jwks_uri:new URL(e.jwks_uri)})}if(1!==p)throw nP('error when selecting a JWT verification key, multiple applicable keys found, a "kid" JWT Header Parameter is required',iQ,{header:r,candidates:u,jwks_uri:new URL(e.jwks_uri)});return au(o,d)}let ih=Symbol();function im(e){return e.headers.get("content-type")?.split(";")[0]}async function iy(e,t,r,n,i){let a;if(nG(e),nX(t),!nh(n,Response))throw ny('"response" must be an instance of Response',nm);if(ix(n),200!==n.status)throw nP('"response" is not a conform UserInfo Endpoint response (unexpected HTTP status code)',iF,n);if(i4(n),"application/jwt"===im(n)){let{claims:r,jwt:s}=await ae(await n.text(),aa.bind(void 0,t.userinfo_signed_response_alg,e.userinfo_signing_alg_values_supported,void 0),nF(t),nB(t),i?.[nk]).then(iE.bind(void 0,t.client_id)).then(iS.bind(void 0,e));i_.set(n,s),a=r}else{if(t.userinfo_signed_response_alg)throw nP("JWT UserInfo Response expected",iK,n);a=await ap(n)}if(nM(a.sub,'"response" body "sub" property',iJ,{body:a}),r===ih);else if(nM(r,'"expectedSubject"'),a.sub!==r)throw nP('unexpected "response" body "sub" property value',iY,{expected:r,body:a,attribute:"sub"});return a}async function ig(e,t,r,n,i,a,s){return await r(e,t,i,a),a.set("content-type","application/x-www-form-urlencoded;charset=UTF-8"),(s?.[n_]||fetch)(n.href,{body:i,headers:Object.fromEntries(a.entries()),method:"POST",redirect:"manual",signal:s?.signal?n$(s.signal):void 0})}async function ib(e,t,r,n,i,a){let s=n3(e,"token_endpoint",t.use_mtls_endpoint_aliases,a?.[ng]!==!0);i.set("grant_type",n);let o=nI(a?.headers);o.set("accept","application/json"),a?.DPoP!==void 0&&(io(a.DPoP),await a.DPoP.addProof(s,o,"POST"));let c=await ig(e,t,r,s,i,o,a);return a?.DPoP?.cacheNonce(c),c}let iw=new WeakMap,i_=new WeakMap;function iv(e){if(!e.id_token)return;let t=iw.get(e);if(!t)throw ny('"ref" was already garbage collected or did not resolve from the proper sources',nf);return t}async function ik(e,t,r,n,i){if(nG(e),nX(t),!nh(r,Response))throw ny('"response" must be an instance of Response',nm);ix(r),await is(r,200,"Token Endpoint"),i4(r);let a=await ap(r);if(nM(a.access_token,'"response" body "access_token" property',iJ,{body:a}),nM(a.token_type,'"response" body "token_type" property',iJ,{body:a}),a.token_type=a.token_type.toLowerCase(),"dpop"!==a.token_type&&"bearer"!==a.token_type)throw new nR("unsupported `token_type` value",{cause:{body:a}});if(void 0!==a.expires_in){let e="number"!=typeof a.expires_in?parseFloat(a.expires_in):a.expires_in;nL(e,!1,'"response" body "expires_in" property',iJ,{body:a}),a.expires_in=e}if(void 0!==a.refresh_token&&nM(a.refresh_token,'"response" body "refresh_token" property',iJ,{body:a}),void 0!==a.scope&&"string"!=typeof a.scope)throw nP('"response" body "scope" property must be a string',iJ,{body:a});if(void 0!==a.id_token){nM(a.id_token,'"response" body "id_token" property',iJ,{body:a});let s=["aud","exp","iat","iss","sub"];!0===t.require_auth_time&&s.push("auth_time"),void 0!==t.default_max_age&&(nL(t.default_max_age,!1,'"client.default_max_age"'),s.push("auth_time")),n?.length&&s.push(...n);let{claims:o,jwt:c}=await ae(a.id_token,aa.bind(void 0,t.id_token_signed_response_alg,e.id_token_signing_alg_values_supported,"RS256"),nF(t),nB(t),i?.[nk]).then(ij.bind(void 0,s)).then(iT.bind(void 0,e)).then(iA.bind(void 0,t.client_id));if(Array.isArray(o.aud)&&1!==o.aud.length){if(void 0===o.azp)throw nP('ID Token "aud" (audience) claim includes additional untrusted audiences',iX,{claims:o,claim:"aud"});if(o.azp!==t.client_id)throw nP('unexpected ID Token "azp" (authorized party) claim value',iX,{expected:t.client_id,claims:o,claim:"azp"})}void 0!==o.auth_time&&nL(o.auth_time,!1,'ID Token "auth_time" (authentication time)',iJ,{claims:o}),i_.set(r,c),iw.set(a,o)}return a}function ix(e){let t;if(t=function(e){if(!nh(e,Response))throw ny('"response" must be an instance of Response',nm);let t=e.headers.get("www-authenticate");if(null===t)return;let r=[],n=t;for(;n;){let e,t=n.match(ie),i=t?.["1"].toLowerCase();if(n=t?.["2"],!i)return;let a={};for(;n;){let r,i;if(t=n.match(it)){if([,r,i,n]=t,i.includes("\\"))try{i=JSON.parse(`"${i}"`)}catch{}a[r.toLowerCase()]=i;continue}if(t=n.match(ir)){[,r,i,n]=t,a[r.toLowerCase()]=i;continue}if(t=n.match(ii)){if(Object.keys(a).length)break;[,e,n]=t;break}return}let s={scheme:i,parameters:a};e&&(s.token68=e),r.push(s)}if(r.length)return r}(e))throw new n8("server responded with a challenge in the WWW-Authenticate HTTP Header",{cause:t,response:e})}function iE(e,t){return void 0!==t.claims.aud?iA(e,t):t}function iA(e,t){if(Array.isArray(t.claims.aud)){if(!t.claims.aud.includes(e))throw nP('unexpected JWT "aud" (audience) claim value',iX,{expected:e,claims:t.claims,claim:"aud"})}else if(t.claims.aud!==e)throw nP('unexpected JWT "aud" (audience) claim value',iX,{expected:e,claims:t.claims,claim:"aud"});return t}function iS(e,t){return void 0!==t.claims.iss?iT(e,t):t}function iT(e,t){let r=e[af]?.(t)??e.issuer;if(t.claims.iss!==r)throw nP('unexpected JWT "iss" (issuer) claim value',iX,{expected:r,claims:t.claims,claim:"iss"});return t}let iR=new WeakSet,iO=Symbol();async function iP(e,t,r,n,i,a,s){if(nG(e),nX(t),!iR.has(n))throw ny('"callbackParameters" must be an instance of URLSearchParams obtained from "validateAuthResponse()", or "validateJwtAuthResponse()',nf);nM(i,'"redirectUri"');let o=as(n,"code");if(!o)throw nP('no authorization code in "callbackParameters"',iJ);let c=new URLSearchParams(s?.additionalParameters);return c.set("redirect_uri",i),c.set("code",o),a!==iO&&(nM(a,'"codeVerifier"'),c.set("code_verifier",a)),ib(e,t,r,"authorization_code",c,s)}let iC={aud:"audience",c_hash:"code hash",client_id:"client id",exp:"expiration time",iat:"issued at",iss:"issuer",jti:"jwt id",nonce:"nonce",s_hash:"state hash",sub:"subject",ath:"access token hash",htm:"http method",htu:"http uri",cnf:"confirmation",auth_time:"authentication time"};function ij(e,t){for(let r of e)if(void 0===t.claims[r])throw nP(`JWT "${r}" (${iC[r]}) claim missing`,iJ,{claims:t.claims});return t}let iU=Symbol(),iI=Symbol();async function i$(e,t,r,n){return"string"==typeof n?.expectedNonce||"number"==typeof n?.maxAge||n?.requireIdToken?iN(e,t,r,n.expectedNonce,n.maxAge,{[nk]:n[nk]}):iD(e,t,r,n)}async function iN(e,t,r,n,i,a){let s=[];switch(n){case void 0:n=iU;break;case iU:break;default:nM(n,'"expectedNonce" argument'),s.push("nonce")}switch(i??=t.default_max_age){case void 0:i=iI;break;case iI:break;default:nL(i,!1,'"maxAge" argument'),s.push("auth_time")}let o=await ik(e,t,r,s,a);nM(o.id_token,'"response" body "id_token" property',iJ,{body:o});let c=iv(o);if(i!==iI){let e=nV()+nF(t),r=nB(t);if(c.auth_time+i<e-r)throw nP("too much time has elapsed since the last End-User authentication",iG,{claims:c,now:e,tolerance:r,claim:"auth_time"})}if(n===iU){if(void 0!==c.nonce)throw nP('unexpected ID Token "nonce" claim value',iX,{expected:void 0,claims:c,claim:"nonce"})}else if(c.nonce!==n)throw nP('unexpected ID Token "nonce" claim value',iX,{expected:n,claims:c,claim:"nonce"});return o}async function iD(e,t,r,n){let i=await ik(e,t,r,void 0,n),a=iv(i);if(a){if(void 0!==t.default_max_age){nL(t.default_max_age,!1,'"client.default_max_age"');let e=nV()+nF(t),r=nB(t);if(a.auth_time+t.default_max_age<e-r)throw nP("too much time has elapsed since the last End-User authentication",iG,{claims:a,now:e,tolerance:r,claim:"auth_time"})}if(void 0!==a.nonce)throw nP('unexpected ID Token "nonce" claim value',iX,{expected:void 0,claims:a,claim:"nonce"})}return i}let iH="OAUTH_WWW_AUTHENTICATE_CHALLENGE",iL="OAUTH_RESPONSE_BODY_ERROR",iM="OAUTH_UNSUPPORTED_OPERATION",iW="OAUTH_AUTHORIZATION_RESPONSE_ERROR",iK="OAUTH_JWT_USERINFO_EXPECTED",iZ="OAUTH_PARSE_ERROR",iJ="OAUTH_INVALID_RESPONSE",iq="OAUTH_INVALID_REQUEST",iz="OAUTH_RESPONSE_IS_NOT_JSON",iF="OAUTH_RESPONSE_IS_NOT_CONFORM",iB="OAUTH_HTTP_REQUEST_FORBIDDEN",iV="OAUTH_REQUEST_PROTOCOL_FORBIDDEN",iG="OAUTH_JWT_TIMESTAMP_CHECK_FAILED",iX="OAUTH_JWT_CLAIM_COMPARISON_FAILED",iY="OAUTH_JSON_ATTRIBUTE_COMPARISON_FAILED",iQ="OAUTH_KEY_SELECTION_FAILED",i0="OAUTH_MISSING_SERVER_METADATA",i1="OAUTH_INVALID_SERVER_METADATA";function i2(e,t){if("string"!=typeof t.header.typ||t.header.typ.toLowerCase().replace(/^application\//,"")!==e)throw nP('unexpected JWT "typ" header parameter value',iJ,{header:t.header});return t}function i4(e){if(e.bodyUsed)throw ny('"response" body has been used already',nf)}async function i5(e,t){nG(e);let r=n3(e,"jwks_uri",!1,t?.[ng]!==!0),n=nI(t?.headers);return n.set("accept","application/json"),n.append("accept","application/jwk-set+json"),(t?.[n_]||fetch)(r.href,{body:void 0,headers:Object.fromEntries(n.entries()),method:"GET",redirect:"manual",signal:t?.signal?n$(t.signal):void 0})}async function i3(e){if(!nh(e,Response))throw ny('"response" must be an instance of Response',nm);if(200!==e.status)throw nP('"response" is not a conform JSON Web Key Set response (unexpected HTTP status code)',iF,e);i4(e);let t=await ap(e,e=>(function(e,...t){if(!t.includes(im(e)))throw nZ(e,...t)})(e,"application/json","application/jwk-set+json"));if(!Array.isArray(t.keys))throw nP('"response" body "keys" property must be an array',iJ,{body:t});if(!Array.prototype.every.call(t.keys,nU))throw nP('"response" body "keys" property members must be JWK formatted objects',iJ,{body:t});return t}function i6(e){switch(e){case"PS256":case"ES256":case"RS256":case"PS384":case"ES384":case"RS384":case"PS512":case"ES512":case"RS512":case"Ed25519":case"EdDSA":return!0;default:return!1}}function i9(e){let{algorithm:t}=e;if("number"!=typeof t.modulusLength||t.modulusLength<2048)throw new nR(`unsupported ${t.name} modulusLength`,{cause:e})}function i8(e){switch(e.algorithm.name){case"ECDSA":return{name:e.algorithm.name,hash:function(e){let{algorithm:t}=e;switch(t.namedCurve){case"P-256":return"SHA-256";case"P-384":return"SHA-384";case"P-521":return"SHA-512";default:throw new nR("unsupported ECDSA namedCurve",{cause:e})}}(e)};case"RSA-PSS":switch(i9(e),e.algorithm.hash.name){case"SHA-256":case"SHA-384":case"SHA-512":return{name:e.algorithm.name,saltLength:parseInt(e.algorithm.hash.name.slice(-3),10)>>3};default:throw new nR("unsupported RSA-PSS hash name",{cause:e})}case"RSASSA-PKCS1-v1_5":return i9(e),e.algorithm.name;case"Ed25519":return e.algorithm.name}throw new nR("unsupported CryptoKey algorithm name",{cause:e})}async function i7(e,t,r,n){let i=nS(`${e}.${t}`),a=i8(r);if(!await crypto.subtle.verify(a,r,n,i))throw nP("JWT signature verification failed",iJ,{key:r,data:i,signature:n,algorithm:a})}async function ae(e,t,r,n,i){let a,s,{0:o,1:c,length:l}=e.split(".");if(5===l)if(void 0!==i)e=await i(e),{0:o,1:c,length:l}=e.split(".");else throw new nR("JWE decryption is not configured",{cause:e});if(3!==l)throw nP("Invalid JWT",iJ,e);try{a=JSON.parse(nS(nT(o)))}catch(e){throw nP("failed to parse JWT Header body as base64url encoded JSON",iZ,e)}if(!nU(a))throw nP("JWT Header must be a top level object",iJ,e);if(t(a),void 0!==a.crit)throw new nR('no JWT "crit" header parameter extensions are supported',{cause:{header:a}});try{s=JSON.parse(nS(nT(c)))}catch(e){throw nP("failed to parse JWT Payload body as base64url encoded JSON",iZ,e)}if(!nU(s))throw nP("JWT Payload must be a top level object",iJ,e);let u=nV()+r;if(void 0!==s.exp){if("number"!=typeof s.exp)throw nP('unexpected JWT "exp" (expiration time) claim type',iJ,{claims:s});if(s.exp<=u-n)throw nP('unexpected JWT "exp" (expiration time) claim value, expiration is past current timestamp',iG,{claims:s,now:u,tolerance:n,claim:"exp"})}if(void 0!==s.iat&&"number"!=typeof s.iat)throw nP('unexpected JWT "iat" (issued at) claim type',iJ,{claims:s});if(void 0!==s.iss&&"string"!=typeof s.iss)throw nP('unexpected JWT "iss" (issuer) claim type',iJ,{claims:s});if(void 0!==s.nbf){if("number"!=typeof s.nbf)throw nP('unexpected JWT "nbf" (not before) claim type',iJ,{claims:s});if(s.nbf>u+n)throw nP('unexpected JWT "nbf" (not before) claim value',iG,{claims:s,now:u,tolerance:n,claim:"nbf"})}if(void 0!==s.aud&&"string"!=typeof s.aud&&!Array.isArray(s.aud))throw nP('unexpected JWT "aud" (audience) claim type',iJ,{claims:s});return{header:a,claims:s,jwt:e}}async function at(e,t,r){let n;switch(t.alg){case"RS256":case"PS256":case"ES256":n="SHA-256";break;case"RS384":case"PS384":case"ES384":n="SHA-384";break;case"RS512":case"PS512":case"ES512":case"Ed25519":case"EdDSA":n="SHA-512";break;default:throw new nR(`unsupported JWS algorithm for ${r} calculation`,{cause:{alg:t.alg}})}let i=await crypto.subtle.digest(n,nS(e));return nT(i.slice(0,i.byteLength/2))}async function ar(e,t,r,n){return t===await at(e,r,n)}async function an(e){if(e.bodyUsed)throw ny("form_post Request instances must contain a readable body",nf,{cause:e});return e.text()}async function ai(e){if("POST"!==e.method)throw ny("form_post responses are expected to use the POST method",nf,{cause:e});if("application/x-www-form-urlencoded"!==im(e))throw ny("form_post responses are expected to use the application/x-www-form-urlencoded content-type",nf,{cause:e});return an(e)}function aa(e,t,r,n){if(void 0!==e){if("string"==typeof e?n.alg!==e:!e.includes(n.alg))throw nP('unexpected JWT "alg" header parameter',iJ,{header:n,expected:e,reason:"client configuration"});return}if(Array.isArray(t)){if(!t.includes(n.alg))throw nP('unexpected JWT "alg" header parameter',iJ,{header:n,expected:t,reason:"authorization server metadata"});return}if(void 0!==r){if("string"==typeof r?n.alg!==r:"function"==typeof r?!r(n.alg):!r.includes(n.alg))throw nP('unexpected JWT "alg" header parameter',iJ,{header:n,expected:r,reason:"default value"});return}throw nP('missing client or server configuration to verify used JWT "alg" header parameter',void 0,{client:e,issuer:t,fallback:r})}function as(e,t){let{0:r,length:n}=e.getAll(t);if(n>1)throw nP(`"${t}" parameter must be provided only once`,iJ);return r}let ao=Symbol(),ac=Symbol();function al(e,t,r,n){var i;if(nG(e),nX(t),r instanceof URL&&(r=r.searchParams),!(r instanceof URLSearchParams))throw ny('"parameters" must be an instance of URLSearchParams, or URL',nm);if(as(r,"response"))throw nP('"parameters" contains a JARM response, use validateJwtAuthResponse() instead of validateAuthResponse()',iJ,{parameters:r});let a=as(r,"iss"),s=as(r,"state");if(!a&&e.authorization_response_iss_parameter_supported)throw nP('response parameter "iss" (issuer) missing',iJ,{parameters:r});if(a&&a!==e.issuer)throw nP('unexpected "iss" (issuer) response parameter value',iJ,{expected:e.issuer,parameters:r});switch(n){case void 0:case ac:if(void 0!==s)throw nP('unexpected "state" response parameter encountered',iJ,{expected:void 0,parameters:r});break;case ao:break;default:if(nM(n,'"expectedState" argument'),s!==n)throw nP(void 0===s?'response parameter "state" missing':'unexpected "state" response parameter value',iJ,{expected:n,parameters:r})}if(as(r,"error"))throw new n9("authorization response from the server is an error",{cause:r});let o=as(r,"id_token"),c=as(r,"token");if(void 0!==o||void 0!==c)throw new nR("implicit and hybrid flows are not supported");return i=new URLSearchParams(r),iR.add(i),i}async function au(e,t){let{ext:r,key_ops:n,use:i,...a}=t;return crypto.subtle.importKey("jwk",a,function(e){switch(e){case"PS256":case"PS384":case"PS512":return{name:"RSA-PSS",hash:`SHA-${e.slice(-3)}`};case"RS256":case"RS384":case"RS512":return{name:"RSASSA-PKCS1-v1_5",hash:`SHA-${e.slice(-3)}`};case"ES256":case"ES384":return{name:"ECDSA",namedCurve:`P-${e.slice(-3)}`};case"ES512":return{name:"ECDSA",namedCurve:"P-521"};case"Ed25519":case"EdDSA":return"Ed25519";default:throw new nR("unsupported JWS algorithm",{cause:{alg:e}})}}(e),!0,["verify"])}function ad(e){let t=new URL(e);return t.search="",t.hash="",t.href}async function ap(e,t=nK){let r;try{r=await e.json()}catch(r){throw t(e),nP('failed to parse "response" body as JSON',iZ,r)}if(!nU(r))throw nP('"response" body must be a top level object',iJ,{body:r});return r}let ah=Symbol(),af=Symbol();async function am(e,t,r){let{cookies:n,logger:i}=r,a=n[e],s=new Date;s.setTime(s.getTime()+9e5),i.debug(`CREATE_${e.toUpperCase()}`,{name:a.name,payload:t,COOKIE_TTL:900,expires:s});let o=await tQ({...r.jwt,maxAge:900,token:{value:t},salt:a.name}),c={...a.options,expires:s};return{name:a.name,value:o,options:c}}async function ay(e,t,r){try{let{logger:n,cookies:i,jwt:a}=r;if(n.debug(`PARSE_${e.toUpperCase()}`,{cookie:t}),!t)throw new E(`${e} cookie was missing`);let s=await t0({...a,token:t,salt:i[e].name});if(s?.value)return s.value;throw Error("Invalid cookie")}catch(t){throw new E(`${e} value could not be parsed`,{cause:t})}}function ag(e,t,r){let{logger:n,cookies:i}=t,a=i[e];n.debug(`CLEAR_${e.toUpperCase()}`,{cookie:a}),r.push({name:a.name,value:"",options:{...i[e].options,maxAge:0}})}function ab(e,t){return async function(r,n,i){let{provider:a,logger:s}=i;if(!a?.checks?.includes(e))return;let o=r?.[i.cookies[t].name];s.debug(`USE_${t.toUpperCase()}`,{value:o});let c=await ay(t,o,i);return ag(t,i,n),c}}let aw={async create(e){let t=nJ(),r=await nq(t);return{cookie:await am("pkceCodeVerifier",t,e),value:r}},use:ab("pkce","pkceCodeVerifier")},a_="encodedState",av={async create(e,t){let{provider:r}=e;if(!r.checks.includes("state")){if(t)throw new E("State data was provided but the provider is not configured to use state");return}let n={origin:t,random:nJ()},i=await tQ({secret:e.jwt.secret,token:n,salt:a_,maxAge:900});return{cookie:await am("state",i,e),value:i}},use:ab("state","state"),async decode(e,t){try{t.logger.debug("DECODE_STATE",{state:e});let r=await t0({secret:t.jwt.secret,token:e,salt:a_});if(r)return r;throw Error("Invalid state")}catch(e){throw new E("State could not be decoded",{cause:e})}}},ak={async create(e){if(!e.provider.checks.includes("nonce"))return;let t=nJ();return{cookie:await am("nonce",t,e),value:t}},use:ab("nonce","nonce")},ax="encodedWebauthnChallenge",aE={create:async(e,t,r)=>({cookie:await am("webauthnChallenge",await tQ({secret:e.jwt.secret,token:{challenge:t,registerData:r},salt:ax,maxAge:900}),e)}),async use(e,t,r){let n=t?.[e.cookies.webauthnChallenge.name],i=await ay("webauthnChallenge",n,e),a=await t0({secret:e.jwt.secret,token:i,salt:ax});if(ag("webauthnChallenge",e,r),!a)throw new E("WebAuthn challenge was missing");return a}};function aA(e){return encodeURIComponent(e).replace(/%20/g,"+")}async function aS(e,t,r){let n,i,a,{logger:s,provider:o}=r,{token:c,userinfo:l}=o;if(c?.url&&"authjs.dev"!==c.url.host||l?.url&&"authjs.dev"!==l.url.host)n={issuer:o.issuer??"https://authjs.dev",token_endpoint:c?.url.toString(),userinfo_endpoint:l?.url.toString()};else{let e=new URL(o.issuer),t=await nH(e,{[ng]:!0,[n_]:o[ro.A6]});if(!(n=await nW(e,t)).token_endpoint)throw TypeError("TODO: Authorization server did not provide a token endpoint.");if(!n.userinfo_endpoint)throw TypeError("TODO: Authorization server did not provide a userinfo endpoint.")}let u={client_id:o.clientId,...o.client};switch(u.token_endpoint_auth_method){case void 0:case"client_secret_basic":i=(e,t,r,n)=>{n.set("authorization",function(e,t){let r=aA(e),n=aA(t),i=btoa(`${r}:${n}`);return`Basic ${i}`}(o.clientId,o.clientSecret))};break;case"client_secret_post":var d;nM(d=o.clientSecret,'"clientSecret"'),i=(e,t,r,n)=>{r.set("client_id",t.client_id),r.set("client_secret",d)};break;case"client_secret_jwt":i=function(e,t){let r;nM(e,'"clientSecret"');let n=void 0;return async(t,i,a,s)=>{r||=await crypto.subtle.importKey("raw",nS(e),{hash:"SHA-256",name:"HMAC"},!1,["sign"]);let o={alg:"HS256"},c=nY(t,i);n?.(o,c);let l=`${nT(nS(JSON.stringify(o)))}.${nT(nS(JSON.stringify(c)))}`,u=await crypto.subtle.sign(r.algorithm,r,nS(l));a.set("client_id",i.client_id),a.set("client_assertion_type","urn:ietf:params:oauth:client-assertion-type:jwt-bearer"),a.set("client_assertion",`${l}.${nT(new Uint8Array(u))}`)}}(o.clientSecret);break;case"private_key_jwt":i=function(e,t){var r;let{key:n,kid:i}=(r=e)instanceof CryptoKey?{key:r}:r?.key instanceof CryptoKey?(void 0!==r.kid&&nM(r.kid,'"kid"'),{key:r.key,kid:r.kid}):{};return nj(n,'"clientPrivateKey.key"'),async(e,r,a,s)=>{let o={alg:nz(n),kid:i},c=nY(e,r);t?.[nv]?.(o,c),a.set("client_id",r.client_id),a.set("client_assertion_type","urn:ietf:params:oauth:client-assertion-type:jwt-bearer"),a.set("client_assertion",await nQ(o,c,n))}}(o.token.clientPrivateKey,{[nv](e,t){t.aud=[n.issuer,n.token_endpoint]}});break;case"none":i=(e,t,r,n)=>{r.set("client_id",t.client_id)};break;default:throw Error("unsupported client authentication method")}let p=[],h=await av.use(t,p,r);try{a=al(n,u,new URLSearchParams(e),o.checks.includes("state")?h:ao)}catch(e){if(e instanceof n9){let t={providerId:o.id,...Object.fromEntries(e.cause.entries())};throw s.debug("OAuthCallbackError",t),new C("OAuth Provider returned an error",t)}throw e}let f=await aw.use(t,p,r),m=o.callbackUrl;!r.isOnRedirectProxy&&o.redirectProxyUrl&&(m=o.redirectProxyUrl);let y=await iP(n,u,i,a,m,f??"decoy",{[ng]:!0,[n_]:(...e)=>(o.checks.includes("pkce")||e[1].body.delete("code_verifier"),(o[ro.A6]??fetch)(...e))});o.token?.conform&&(y=await o.token.conform(y.clone())??y);let g={},b="oidc"===o.type;if(o[ro.qo])switch(o.id){case"microsoft-entra-id":case"azure-ad":{let{tid:e}=function(e){let t,r;if("string"!=typeof e)throw new eR("JWTs must use Compact JWS serialization, JWT must be a string");let{1:n,length:i}=e.split(".");if(5===i)throw new eR("Only JWTs using Compact JWS serialization can be decoded");if(3!==i)throw new eR("Invalid JWT");if(!n)throw new eR("JWTs must contain a payload");try{t=e_(n)}catch{throw new eR("Failed to base64url decode the payload")}try{r=JSON.parse(ep.decode(t))}catch{throw new eR("Failed to parse the decoded payload as JSON")}if(!eC(r))throw new eR("Invalid JWT Claims Set");return r}((await y.clone().json()).id_token);if("string"==typeof e){let t=n.issuer?.match(/microsoftonline\.com\/(\w+)\/v2\.0/)?.[1]??"common",r=new URL(n.issuer.replace(t,e)),i=await nH(r,{[n_]:o[ro.A6]});n=await nW(r,i)}}}let w=await i$(n,u,y,{expectedNonce:await ak.use(t,p,r),requireIdToken:b});if(b){let t=iv(w);if(g=t,o[ro.qo]&&"apple"===o.id)try{g.user=JSON.parse(e?.user)}catch{}if(!1===o.idToken){let e=await il(n,u,w.access_token,{[n_]:o[ro.A6],[ng]:!0});g=await iy(n,u,t.sub,e)}}else if(l?.request){let e=await l.request({tokens:w,provider:o});e instanceof Object&&(g=e)}else if(l?.url){let e=await il(n,u,w.access_token,{[n_]:o[ro.A6]});g=await e.json()}else throw TypeError("No userinfo endpoint configured");return w.expires_in&&(w.expires_at=Math.floor(Date.now()/1e3)+Number(w.expires_in)),{...await aT(g,o,w,s),profile:g,cookies:p}}async function aT(e,t,r,n){try{let n=await t.profile(e,r);return{user:{...n,id:crypto.randomUUID(),email:n.email?.toLowerCase()},account:{...r,provider:t.id,type:t.type,providerAccountId:n.id??crypto.randomUUID()}}}catch(r){n.debug("getProfile error details",e),n.error(new j(r,{provider:t.id}))}}async function aR(e,t,r,n){let i=await aU(e,t,r),{cookie:a}=await aE.create(e,i.challenge,r);return{status:200,cookies:[...n??[],a],body:{action:"register",options:i},headers:{"Content-Type":"application/json"}}}async function aO(e,t,r,n){let i=await aj(e,t,r),{cookie:a}=await aE.create(e,i.challenge);return{status:200,cookies:[...n??[],a],body:{action:"authenticate",options:i},headers:{"Content-Type":"application/json"}}}async function aP(e,t,r){let n,{adapter:i,provider:a}=e,s=t.body&&"string"==typeof t.body.data?JSON.parse(t.body.data):void 0;if(!s||"object"!=typeof s||!("id"in s)||"string"!=typeof s.id)throw new f("Invalid WebAuthn Authentication response");let o=aN(a$(s.id)),c=await i.getAuthenticator(o);if(!c)throw new f(`WebAuthn authenticator not found in database: ${JSON.stringify({credentialID:o})}`);let{challenge:l}=await aE.use(e,t.cookies,r);try{var u;let r=a.getRelayingParty(e,t);n=await a.simpleWebAuthn.verifyAuthenticationResponse({...a.verifyAuthenticationOptions,expectedChallenge:l,response:s,authenticator:{...u=c,credentialDeviceType:u.credentialDeviceType,transports:aD(u.transports),credentialID:a$(u.credentialID),credentialPublicKey:a$(u.credentialPublicKey)},expectedOrigin:r.origin,expectedRPID:r.id})}catch(e){throw new z(e)}let{verified:d,authenticationInfo:p}=n;if(!d)throw new z("WebAuthn authentication response could not be verified");try{let{newCounter:e}=p;await i.updateAuthenticatorCounter(c.credentialID,e)}catch(e){throw new y(`Failed to update authenticator counter. This may cause future authentication attempts to fail. ${JSON.stringify({credentialID:o,oldCounter:c.counter,newCounter:p.newCounter})}`,e)}let h=await i.getAccount(c.providerAccountId,a.id);if(!h)throw new f(`WebAuthn account not found in database: ${JSON.stringify({credentialID:o,providerAccountId:c.providerAccountId})}`);let m=await i.getUser(h.userId);if(!m)throw new f(`WebAuthn user not found in database: ${JSON.stringify({credentialID:o,providerAccountId:c.providerAccountId,userID:h.userId})}`);return{account:h,user:m}}async function aC(e,t,r){var n;let i,{provider:a}=e,s=t.body&&"string"==typeof t.body.data?JSON.parse(t.body.data):void 0;if(!s||"object"!=typeof s||!("id"in s)||"string"!=typeof s.id)throw new f("Invalid WebAuthn Registration response");let{challenge:o,registerData:c}=await aE.use(e,t.cookies,r);if(!c)throw new f("Missing user registration data in WebAuthn challenge cookie");try{let r=a.getRelayingParty(e,t);i=await a.simpleWebAuthn.verifyRegistrationResponse({...a.verifyRegistrationOptions,expectedChallenge:o,response:s,expectedOrigin:r.origin,expectedRPID:r.id})}catch(e){throw new z(e)}if(!i.verified||!i.registrationInfo)throw new z("WebAuthn registration response could not be verified");let l={providerAccountId:aN(i.registrationInfo.credentialID),provider:e.provider.id,type:a.type},u={providerAccountId:l.providerAccountId,counter:i.registrationInfo.counter,credentialID:aN(i.registrationInfo.credentialID),credentialPublicKey:aN(i.registrationInfo.credentialPublicKey),credentialBackedUp:i.registrationInfo.credentialBackedUp,credentialDeviceType:i.registrationInfo.credentialDeviceType,transports:(n=s.response.transports,n?.join(","))};return{user:c,account:l,authenticator:u}}async function aj(e,t,r){let{provider:n,adapter:i}=e,a=r&&r.id?await i.listAuthenticatorsByUserId(r.id):null,s=n.getRelayingParty(e,t);return await n.simpleWebAuthn.generateAuthenticationOptions({...n.authenticationOptions,rpID:s.id,allowCredentials:a?.map(e=>({id:a$(e.credentialID),type:"public-key",transports:aD(e.transports)}))})}async function aU(e,t,r){let{provider:n,adapter:i}=e,a=r.id?await i.listAuthenticatorsByUserId(r.id):null,s=rr(32),o=n.getRelayingParty(e,t);return await n.simpleWebAuthn.generateRegistrationOptions({...n.registrationOptions,userID:s,userName:r.email,userDisplayName:r.name??void 0,rpID:o.id,rpName:o.name,excludeCredentials:a?.map(e=>({id:a$(e.credentialID),type:"public-key",transports:aD(e.transports)}))})}function aI(e){let{provider:t,adapter:r}=e;if(!r)throw new S("An adapter is required for the WebAuthn provider");if(!t||"webauthn"!==t.type)throw new L("Provider must be WebAuthn");return{...e,provider:t,adapter:r}}function a$(e){return new Uint8Array(Buffer.from(e,"base64"))}function aN(e){return Buffer.from(e).toString("base64")}function aD(e){return e?e.split(","):void 0}async function aH(e,t,r,n){if(!t.provider)throw new L("Callback route called without provider");let{query:i,body:a,method:s,headers:o}=e,{provider:c,adapter:l,url:u,callbackUrl:d,pages:p,jwt:h,events:m,callbacks:y,session:{strategy:g,maxAge:w},logger:_}=t,v="jwt"===g;try{if("oauth"===c.type||"oidc"===c.type){let s,o=c.authorization?.url.searchParams.get("response_mode")==="form_post"?a:i;if(t.isOnRedirectProxy&&o?.state){let e=await av.decode(o.state,t);if(e?.origin&&new URL(e.origin).origin!==t.url.origin){let t=`${e.origin}?${new URLSearchParams(o)}`;return _.debug("Proxy redirecting to",t),{redirect:t,cookies:n}}}let f=await aS(o,e.cookies,t);f.cookies.length&&n.push(...f.cookies),_.debug("authorization result",f);let{user:g,account:b,profile:k}=f;if(!g||!b||!k)return{redirect:`${u}/signin`,cookies:n};if(l){let{getUserByAccount:e}=l;s=await e({providerAccountId:b.providerAccountId,provider:c.id})}let x=await aL({user:s??g,account:b,profile:k},t);if(x)return{redirect:x,cookies:n};let{user:E,session:A,isNewUser:S}=await np(r.value,g,b,t);if(v){let e={name:E.name,email:E.email,picture:E.image,sub:E.id?.toString()},i=await y.jwt({token:e,user:E,account:b,profile:k,isNewUser:S,trigger:S?"signUp":"signIn"});if(null===i)n.push(...r.clean());else{let e=t.cookies.sessionToken.name,a=await h.encode({...h,token:i,salt:e}),s=new Date;s.setTime(s.getTime()+1e3*w);let o=r.chunk(a,{expires:s});n.push(...o)}}else n.push({name:t.cookies.sessionToken.name,value:A.sessionToken,options:{...t.cookies.sessionToken.options,expires:A.expires}});if(await m.signIn?.({user:E,account:b,profile:k,isNewUser:S}),S&&p.newUser)return{redirect:`${p.newUser}${p.newUser.includes("?")?"&":"?"}${new URLSearchParams({callbackUrl:d})}`,cookies:n};return{redirect:d,cookies:n}}if("email"===c.type){let e=i?.token,a=i?.email;if(!e){let t=TypeError("Missing token. The sign-in URL was manually opened without token or the link was not sent correctly in the email.",{cause:{hasToken:!!e}});throw t.name="Configuration",t}let s=c.secret??t.secret,o=await l.useVerificationToken({identifier:a,token:await rt(`${e}${s}`)}),u=!!o,f=u&&o.expires.valueOf()<Date.now();if(!u||f||a&&o.identifier!==a)throw new W({hasInvite:u,expired:f});let{identifier:g}=o,b=await l.getUserByEmail(g)??{id:crypto.randomUUID(),email:g,emailVerified:null},_={providerAccountId:b.email,userId:b.id,type:"email",provider:c.id},k=await aL({user:b,account:_},t);if(k)return{redirect:k,cookies:n};let{user:x,session:E,isNewUser:A}=await np(r.value,b,_,t);if(v){let e={name:x.name,email:x.email,picture:x.image,sub:x.id?.toString()},i=await y.jwt({token:e,user:x,account:_,isNewUser:A,trigger:A?"signUp":"signIn"});if(null===i)n.push(...r.clean());else{let e=t.cookies.sessionToken.name,a=await h.encode({...h,token:i,salt:e}),s=new Date;s.setTime(s.getTime()+1e3*w);let o=r.chunk(a,{expires:s});n.push(...o)}}else n.push({name:t.cookies.sessionToken.name,value:E.sessionToken,options:{...t.cookies.sessionToken.options,expires:E.expires}});if(await m.signIn?.({user:x,account:_,isNewUser:A}),A&&p.newUser)return{redirect:`${p.newUser}${p.newUser.includes("?")?"&":"?"}${new URLSearchParams({callbackUrl:d})}`,cookies:n};return{redirect:d,cookies:n}}if("credentials"===c.type&&"POST"===s){let e=a??{};Object.entries(i??{}).forEach(([e,t])=>u.searchParams.set(e,t));let l=await c.authorize(e,new Request(u,{headers:o,method:s,body:JSON.stringify(a)}));if(l)l.id=l.id?.toString()??crypto.randomUUID();else throw new k;let p={providerAccountId:l.id,type:"credentials",provider:c.id},f=await aL({user:l,account:p,credentials:e},t);if(f)return{redirect:f,cookies:n};let g={name:l.name,email:l.email,picture:l.image,sub:l.id},b=await y.jwt({token:g,user:l,account:p,isNewUser:!1,trigger:"signIn"});if(null===b)n.push(...r.clean());else{let e=t.cookies.sessionToken.name,i=await h.encode({...h,token:b,salt:e}),a=new Date;a.setTime(a.getTime()+1e3*w);let s=r.chunk(i,{expires:a});n.push(...s)}return await m.signIn?.({user:l,account:p}),{redirect:d,cookies:n}}else if("webauthn"===c.type&&"POST"===s){let i,a,s,o=e.body?.action;if("string"!=typeof o||"authenticate"!==o&&"register"!==o)throw new f("Invalid action parameter");let c=aI(t);switch(o){case"authenticate":{let t=await aP(c,e,n);i=t.user,a=t.account;break}case"register":{let r=await aC(t,e,n);i=r.user,a=r.account,s=r.authenticator}}await aL({user:i,account:a},t);let{user:l,isNewUser:u,session:g,account:b}=await np(r.value,i,a,t);if(!b)throw new f("Error creating or finding account");if(s&&l.id&&await c.adapter.createAuthenticator({...s,userId:l.id}),v){let e={name:l.name,email:l.email,picture:l.image,sub:l.id?.toString()},i=await y.jwt({token:e,user:l,account:b,isNewUser:u,trigger:u?"signUp":"signIn"});if(null===i)n.push(...r.clean());else{let e=t.cookies.sessionToken.name,a=await h.encode({...h,token:i,salt:e}),s=new Date;s.setTime(s.getTime()+1e3*w);let o=r.chunk(a,{expires:s});n.push(...o)}}else n.push({name:t.cookies.sessionToken.name,value:g.sessionToken,options:{...t.cookies.sessionToken.options,expires:g.expires}});if(await m.signIn?.({user:l,account:b,isNewUser:u}),u&&p.newUser)return{redirect:`${p.newUser}${p.newUser.includes("?")?"&":"?"}${new URLSearchParams({callbackUrl:d})}`,cookies:n};return{redirect:d,cookies:n}}throw new L(`Callback for provider type (${c.type}) is not supported`)}catch(t){if(t instanceof f)throw t;let e=new b(t,{provider:c.id});throw _.debug("callback route error details",{method:s,query:i,body:a}),e}}async function aL(e,t){let r,{signIn:n,redirect:i}=t.callbacks;try{r=await n(e)}catch(e){if(e instanceof f)throw e;throw new g(e)}if(!r)throw new g("AccessDenied");if("string"==typeof r)return await i({url:r,baseUrl:t.url.origin})}async function aM(e,t,r,n,i){let{adapter:a,jwt:s,events:o,callbacks:c,logger:l,session:{strategy:u,maxAge:d}}=e,p={body:null,headers:{"Content-Type":"application/json"},cookies:r},h=t.value;if(!h)return p;if("jwt"===u){try{let r=e.cookies.sessionToken.name,a=await s.decode({...s,token:h,salt:r});if(!a)throw Error("Invalid JWT");let l=await c.jwt({token:a,...n&&{trigger:"update"},session:i}),u=nd(d);if(null!==l){let e={user:{name:l.name,email:l.email,image:l.picture},expires:u.toISOString()},n=await c.session({session:e,token:l});p.body=n;let i=await s.encode({...s,token:l,salt:r}),a=t.chunk(i,{expires:u});p.cookies?.push(...a),await o.session?.({session:n,token:l})}else p.cookies?.push(...t.clean())}catch(e){l.error(new A(e)),p.cookies?.push(...t.clean())}return p}try{let{getSessionAndUser:r,deleteSession:s,updateSession:l}=a,u=await r(h);if(u&&u.session.expires.valueOf()<Date.now()&&(await s(h),u=null),u){let{user:t,session:r}=u,a=e.session.updateAge,s=r.expires.valueOf()-1e3*d+1e3*a,f=nd(d);s<=Date.now()&&await l({sessionToken:h,expires:f});let m=await c.session({session:{...r,user:t},user:t,newSession:i,...n?{trigger:"update"}:{}});p.body=m,p.cookies?.push({name:e.cookies.sessionToken.name,value:h,options:{...e.cookies.sessionToken.options,expires:f}}),await o.session?.({session:m})}else h&&p.cookies?.push(...t.clean())}catch(e){l.error(new U(e))}return p}async function aW(e,t){let r,n,{logger:i,provider:a}=t,s=a.authorization?.url;if(!s||"authjs.dev"===s.host){let e=new URL(a.issuer),t=await nH(e,{[n_]:a[ro.A6],[ng]:!0}),r=await nW(e,t);if(!r.authorization_endpoint)throw TypeError("Authorization server did not provide an authorization endpoint.");s=new URL(r.authorization_endpoint)}let o=s.searchParams,c=a.callbackUrl;!t.isOnRedirectProxy&&a.redirectProxyUrl&&(c=a.redirectProxyUrl,n=a.callbackUrl,i.debug("using redirect proxy",{redirect_uri:c,data:n}));let l=Object.assign({response_type:"code",client_id:a.clientId,redirect_uri:c,...a.authorization?.params},Object.fromEntries(a.authorization?.url.searchParams??[]),e);for(let e in l)o.set(e,l[e]);let u=[];a.authorization?.url.searchParams.get("response_mode")==="form_post"&&(t.cookies.state.options.sameSite="none",t.cookies.state.options.secure=!0,t.cookies.nonce.options.sameSite="none",t.cookies.nonce.options.secure=!0);let d=await av.create(t,n);if(d&&(o.set("state",d.value),u.push(d.cookie)),a.checks?.includes("pkce"))if(r&&!r.code_challenge_methods_supported?.includes("S256"))"oidc"===a.type&&(a.checks=["nonce"]);else{let{value:e,cookie:r}=await aw.create(t);o.set("code_challenge",e),o.set("code_challenge_method","S256"),u.push(r)}let p=await ak.create(t);return p&&(o.set("nonce",p.value),u.push(p.cookie)),"oidc"!==a.type||s.searchParams.has("scope")||s.searchParams.set("scope","openid profile email"),i.debug("authorization url is ready",{url:s,cookies:u,provider:a}),{redirect:s.toString(),cookies:u}}async function aK(e,t){let r,{body:n}=e,{provider:i,callbacks:a,adapter:s}=t,o=(i.normalizeIdentifier??function(e){if(!e)throw Error("Missing email from request body.");let[t,r]=e.toLowerCase().trim().split("@");return r=r.split(",")[0],`${t}@${r}`})(n?.email),c={id:crypto.randomUUID(),email:o,emailVerified:null},l=await s.getUserByEmail(o)??c,u={providerAccountId:o,userId:l.id,type:"email",provider:i.id};try{r=await a.signIn({user:l,account:u,email:{verificationRequest:!0}})}catch(e){throw new g(e)}if(!r)throw new g("AccessDenied");if("string"==typeof r)return{redirect:await a.redirect({url:r,baseUrl:t.url.origin})};let{callbackUrl:d,theme:p}=t,h=await i.generateVerificationToken?.()??rr(32),f=new Date(Date.now()+(i.maxAge??86400)*1e3),m=i.secret??t.secret,y=new URL(t.basePath,t.url.origin),b=i.sendVerificationRequest({identifier:o,token:h,expires:f,url:`${y}/callback/${i.id}?${new URLSearchParams({callbackUrl:d,token:h,email:o})}`,provider:i,theme:p,request:new Request(e.url,{headers:e.headers,method:e.method,body:"POST"===e.method?JSON.stringify(e.body??{}):void 0})}),w=s.createVerificationToken?.({identifier:o,token:await rt(`${h}${m}`),expires:f});return await Promise.all([b,w]),{redirect:`${y}/verify-request?${new URLSearchParams({provider:i.id,type:i.type})}`}}async function aZ(e,t,r){let n=`${r.url.origin}${r.basePath}/signin`;if(!r.provider)return{redirect:n,cookies:t};switch(r.provider.type){case"oauth":case"oidc":{let{redirect:n,cookies:i}=await aW(e.query,r);return i&&t.push(...i),{redirect:n,cookies:t}}case"email":return{...await aK(e,r),cookies:t};default:return{redirect:n,cookies:t}}}async function aJ(e,t,r){let{jwt:n,events:i,callbackUrl:a,logger:s,session:o}=r,c=t.value;if(!c)return{redirect:a,cookies:e};try{if("jwt"===o.strategy){let e=r.cookies.sessionToken.name,t=await n.decode({...n,token:c,salt:e});await i.signOut?.({token:t})}else{let e=await r.adapter?.deleteSession(c);await i.signOut?.({session:e})}}catch(e){s.error(new N(e))}return e.push(...t.clean()),{redirect:a,cookies:e}}async function aq(e,t){let{adapter:r,jwt:n,session:{strategy:i}}=e,a=t.value;if(!a)return null;if("jwt"===i){let t=e.cookies.sessionToken.name,r=await n.decode({...n,token:a,salt:t});if(r&&r.sub)return{id:r.sub,name:r.name,email:r.email,image:r.picture}}else{let e=await r?.getSessionAndUser(a);if(e)return e.user}return null}async function az(e,t,r,n){let i=aI(t),{provider:a}=i,{action:s}=e.query??{};if("register"!==s&&"authenticate"!==s&&void 0!==s)return{status:400,body:{error:"Invalid action"},cookies:n,headers:{"Content-Type":"application/json"}};let o=await aq(t,r),c=o?{user:o,exists:!0}:await a.getUserInfo(t,e),l=c?.user;switch(function(e,t,r){let{user:n,exists:i=!1}=r??{};switch(e){case"authenticate":return"authenticate";case"register":if(n&&t===i)return"register";break;case void 0:if(!t)if(!n)return"authenticate";else if(i)return"authenticate";else return"register"}return null}(s,!!o,c)){case"authenticate":return aO(i,e,l,n);case"register":if("string"==typeof l?.email)return aR(i,e,l,n);break;default:return{status:400,body:{error:"Invalid request"},cookies:n,headers:{"Content-Type":"application/json"}}}}async function aF(e,t){let{action:r,providerId:n,error:i,method:a}=e,s=t.skipCSRFCheck===ro.We,{options:o,cookies:c}=await rh({authOptions:t,action:r,providerId:n,url:e.url,callbackUrl:e.body?.callbackUrl??e.query?.callbackUrl,csrfToken:e.body?.csrfToken,cookies:e.cookies,isPost:"POST"===a,csrfDisabled:s}),l=new h(o.cookies.sessionToken,e.cookies,o.logger);if("GET"===a){let t=nu({...o,query:e.query,cookies:c});switch(r){case"callback":return await aH(e,o,l,c);case"csrf":return t.csrf(s,o,c);case"error":return t.error(i);case"providers":return t.providers(o.providers);case"session":return await aM(o,l,c);case"signin":return t.signin(n,i);case"signout":return t.signout();case"verify-request":return t.verifyRequest();case"webauthn-options":return await az(e,o,l,c)}}else{let{csrfTokenVerified:t}=o;switch(r){case"callback":return"credentials"===o.provider.type&&ri(r,t),await aH(e,o,l,c);case"session":return ri(r,t),await aM(o,l,c,!0,e.body?.data);case"signin":return ri(r,t),await aZ(e,c,o);case"signout":return ri(r,t),await aJ(c,l,o)}}throw new D(`Cannot handle action: ${r}`)}function aB(e,t,r,n,i){let a,s=i?.basePath,o=n.AUTH_URL??n.NEXTAUTH_URL;if(o)a=new URL(o),s&&"/"!==s&&"/"!==a.pathname&&(a.pathname!==s&&t6(i).warn("env-url-basepath-mismatch"),a.pathname="/");else{let e=r.get("x-forwarded-host")??r.get("host"),n=r.get("x-forwarded-proto")??t??"https",i=n.endsWith(":")?n:n+":";a=new URL(`${i}//${e}`)}let c=a.toString().replace(/\/$/,"");if(s){let t=s?.replace(/(^\/|\/$)/g,"")??"";return new URL(`${c}/${t}/${e}`)}return new URL(`${c}/${e}`)}async function aV(e,t){let r=t6(t),n=await t7(e,t);if(!n)return Response.json("Bad request.",{status:400});let i=function(e,t){let{url:r}=e,n=[];if(!V&&t.debug&&n.push("debug-enabled"),!t.trustHost)return new M(`Host must be trusted. URL was: ${e.url}`);if(!t.secret?.length)return new O("Please define a `secret`");let i=e.query?.callbackUrl;if(i&&!G(i,r.origin))return new v(`Invalid callback URL. Received: ${i}`);let{callbackUrl:a}=p(t.useSecureCookies??"https:"===r.protocol),s=e.cookies?.[t.cookies?.callbackUrl?.name??a.name];if(s&&!G(s,r.origin))return new v(`Invalid callback URL. Received: ${s}`);let o=!1;for(let e of t.providers){let t="function"==typeof e?e():e;if(("oauth"===t.type||"oidc"===t.type)&&!(t.issuer??t.options?.issuer)){let e,{authorization:r,token:n,userinfo:i}=t;if("string"==typeof r||r?.url?"string"==typeof n||n?.url?"string"==typeof i||i?.url||(e="userinfo"):e="token":e="authorization",e)return new x(`Provider "${t.id}" is missing both \`issuer\` and \`${e}\` endpoint config. At least one of them is required`)}if("credentials"===t.type)X=!0;else if("email"===t.type)Y=!0;else if("webauthn"===t.type){var c;if(Q=!0,t.simpleWebAuthnBrowserVersion&&(c=t.simpleWebAuthnBrowserVersion,!/^v\d+(?:\.\d+){0,2}$/.test(c)))return new f(`Invalid provider config for "${t.id}": simpleWebAuthnBrowserVersion "${t.simpleWebAuthnBrowserVersion}" must be a valid semver string.`);if(t.enableConditionalUI){if(o)return new J("Multiple webauthn providers have 'enableConditionalUI' set to True. Only one provider can have this option enabled at a time");if(o=!0,!Object.values(t.formFields).some(e=>e.autocomplete&&e.autocomplete.toString().indexOf("webauthn")>-1))return new q(`Provider "${t.id}" has 'enableConditionalUI' set to True, but none of its formFields have 'webauthn' in their autocomplete param`)}}}if(X){let e=t.session?.strategy==="database",r=!t.providers.some(e=>"credentials"!==("function"==typeof e?e():e).type);if(e&&r)return new H("Signing in with credentials only supported if JWT strategy is enabled");if(t.providers.some(e=>{let t="function"==typeof e?e():e;return"credentials"===t.type&&!t.authorize}))return new R("Must define an authorize() handler to use credentials authentication provider")}let{adapter:l,session:u}=t,d=[];if(Y||u?.strategy==="database"||!u?.strategy&&l)if(Y){if(!l)return new S("Email login requires an adapter");d.push(...ee)}else{if(!l)return new S("Database session requires an adapter");d.push(...et)}if(Q){if(!t.experimental?.enableWebAuthn)return new B("WebAuthn is an experimental feature. To enable it, set `experimental.enableWebAuthn` to `true` in your config");if(n.push("experimental-webauthn"),!l)return new S("WebAuthn requires an adapter");d.push(...er)}if(l){let e=d.filter(e=>!(e in l));if(e.length)return new T(`Required adapter methods were missing: ${e.join(", ")}`)}return V||(V=!0),n}(n,t);if(Array.isArray(i))i.forEach(r.warn);else if(i){if(r.error(i),!new Set(["signin","signout","error","verify-request"]).has(n.action)||"GET"!==n.method)return Response.json({message:"There was a problem with the server configuration. Check the server logs for more information."},{status:500});let{pages:e,theme:a}=t,s=e?.error&&n.url.searchParams.get("callbackUrl")?.startsWith(e.error);if(!e?.error||s)return s&&r.error(new w(`The error page ${e?.error} should not require authentication`)),re(nu({theme:a}).error("Configuration"));let o=`${n.url.origin}${e.error}?error=Configuration`;return Response.redirect(o)}let a=e.headers?.has("X-Auth-Return-Redirect"),s=t.raw===ro.lS;try{let e=await aF(n,t);if(s)return e;let r=re(e),i=r.headers.get("Location");if(!a||!i)return r;return Response.json({url:i},{headers:r.headers})}catch(d){r.error(d);let i=d instanceof f;if(i&&s&&!a)throw d;if("POST"===e.method&&"session"===n.action)return Response.json(null,{status:400});let o=new URLSearchParams({error:d instanceof f&&Z.has(d.type)?d.type:"Configuration"});d instanceof k&&o.set("code",d.code);let c=i&&d.kind||"error",l=t.pages?.[c]??`${t.basePath}/${c.toLowerCase()}`,u=`${n.url.origin}${l}?${o}`;if(a)return Response.json({url:u});return Response.redirect(u)}}var aG=r(4525);function aX(e){let t=process.env.AUTH_URL??process.env.NEXTAUTH_URL;if(!t)return e;let{origin:r}=new URL(t),{href:n,origin:i}=e.nextUrl;return new aG.NextRequest(n.replace(i,r),e)}function aY(e){try{e.secret??(e.secret=process.env.AUTH_SECRET??process.env.NEXTAUTH_SECRET);let t=process.env.AUTH_URL??process.env.NEXTAUTH_URL;if(!t)return;let{pathname:r}=new URL(t);if("/"===r)return;e.basePath||(e.basePath=r)}catch{}finally{e.basePath||(e.basePath="/api/auth"),function(e,t,r=!1){try{let n=e.AUTH_URL;n&&(t.basePath?r||t6(t).warn("env-url-basepath-redundant"):t.basePath=new URL(n).pathname)}catch{}finally{t.basePath??(t.basePath="/auth")}if(!t.secret?.length){t.secret=[];let r=e.AUTH_SECRET;for(let n of(r&&t.secret.push(r),[1,2,3])){let r=e[`AUTH_SECRET_${n}`];r&&t.secret.unshift(r)}}t.redirectProxyUrl??(t.redirectProxyUrl=e.AUTH_REDIRECT_PROXY_URL),t.trustHost??(t.trustHost=!!(e.AUTH_URL??e.AUTH_TRUST_HOST??e.VERCEL??e.CF_PAGES??"production"!==e.NODE_ENV)),t.providers=t.providers.map(t=>{let{id:r}="function"==typeof t?t({}):t,n=r.toUpperCase().replace(/-/g,"_"),i=e[`AUTH_${n}_ID`],a=e[`AUTH_${n}_SECRET`],s=e[`AUTH_${n}_ISSUER`],o=e[`AUTH_${n}_KEY`],c="function"==typeof t?t({clientId:i,clientSecret:a,issuer:s,apiKey:o}):t;return"oauth"===c.type||"oidc"===c.type?(c.clientId??(c.clientId=i),c.clientSecret??(c.clientSecret=a),c.issuer??(c.issuer=s)):"email"===c.type&&(c.apiKey??(c.apiKey=o)),c})}(process.env,e,!0)}}var aQ=r(4999);async function a0(e,t){return aV(new Request(aB("session",e.get("x-forwarded-proto"),e,process.env,t),{headers:{cookie:e.get("cookie")??""}}),{...t,callbacks:{...t.callbacks,async session(...e){let r=await t.callbacks?.session?.(...e)??{...e[0].session,expires:e[0].session.expires?.toISOString?.()??e[0].session.expires};return{user:e[0].user??e[0].token,...r}}}})}function a1(e){return"function"==typeof e}function a2(e,t){return"function"==typeof e?async(...r)=>{if(!r.length){let r=await (0,aQ.b3)(),n=await e(void 0);return t?.(n),a0(r,n).then(e=>e.json())}if(r[0]instanceof Request){let n=r[0],i=r[1],a=await e(n);return t?.(a),a4([n,i],a)}if(a1(r[0])){let n=r[0];return async(...r)=>{let i=await e(r[0]);return t?.(i),a4(r,i,n)}}let n="req"in r[0]?r[0].req:r[0],i="res"in r[0]?r[0].res:r[1],a=await e(n);return t?.(a),a0(new Headers(n.headers),a).then(async e=>{let t=await e.json();for(let t of e.headers.getSetCookie())"headers"in i?i.headers.append("set-cookie",t):i.appendHeader("set-cookie",t);return t})}:(...t)=>{if(!t.length)return Promise.resolve((0,aQ.b3)()).then(t=>a0(t,e).then(e=>e.json()));if(t[0]instanceof Request)return a4([t[0],t[1]],e);if(a1(t[0])){let r=t[0];return async(...t)=>a4(t,e,r).then(e=>e)}let r="req"in t[0]?t[0].req:t[0],n="res"in t[0]?t[0].res:t[1];return a0(new Headers(r.headers),e).then(async e=>{let t=await e.json();for(let t of e.headers.getSetCookie())"headers"in n?n.headers.append("set-cookie",t):n.appendHeader("set-cookie",t);return t})}}async function a4(e,t,r){let n=aX(e[0]),i=await a0(n.headers,t),a=await i.json(),s=!0;t.callbacks?.authorized&&(s=await t.callbacks.authorized({request:n,auth:a}));let o=aG.NextResponse.next?.();if(s instanceof Response){o=s;let e=s.headers.get("Location"),{pathname:r}=n.nextUrl;e&&function(e,t,r){let n=t.replace(`${e}/`,""),i=Object.values(r.pages??{});return(a5.has(n)||i.includes(t))&&t===e}(r,new URL(e).pathname,t)&&(s=!0)}else if(r)n.auth=a,o=await r(n,e[1])??aG.NextResponse.next();else if(!s){let e=t.pages?.signIn??`${t.basePath}/signin`;if(n.nextUrl.pathname!==e){let t=n.nextUrl.clone();t.pathname=e,t.searchParams.set("callbackUrl",n.nextUrl.href),o=aG.NextResponse.redirect(t)}}let c=new Response(o?.body,o);for(let e of i.headers.getSetCookie())c.headers.append("set-cookie",e);return c}let a5=new Set(["providers","session","csrf","signin","signout","callback","verify-request","error"]);var a3=r(7576);async function a6(e,t={},r,n){let i=new Headers(await (0,aQ.b3)()),{redirect:a=!0,redirectTo:s,...o}=t instanceof FormData?Object.fromEntries(t):t,c=s?.toString()??i.get("Referer")??"/",l=aB("signin",i.get("x-forwarded-proto"),i,process.env,n);if(!e)return l.searchParams.append("callbackUrl",c),a&&(0,a3.redirect)(l.toString()),l.toString();let u=`${l}/${e}?${new URLSearchParams(r)}`,d={};for(let t of n.providers){let{options:r,...n}="function"==typeof t?t():t,i=r?.id??n.id;if(i===e){d={id:i,type:r?.type??n.type};break}}if(!d.id){let e=`${l}?${new URLSearchParams({callbackUrl:c})}`;return a&&(0,a3.redirect)(e),e}"credentials"===d.type&&(u=u.replace("signin","callback")),i.set("Content-Type","application/x-www-form-urlencoded");let p=new Request(u,{method:"POST",headers:i,body:new URLSearchParams({...o,callbackUrl:c})}),h=await aV(p,{...n,raw:ro.lS,skipCSRFCheck:ro.We}),f=await (0,aQ.UL)();for(let e of h?.cookies??[])f.set(e.name,e.value,e.options);let m=(h instanceof Response?h.headers.get("Location"):h.redirect)??u;return a?(0,a3.redirect)(m):m}async function a9(e,t){let r=new Headers(await (0,aQ.b3)());r.set("Content-Type","application/x-www-form-urlencoded");let n=aB("signout",r.get("x-forwarded-proto"),r,process.env,t),i=new URLSearchParams({callbackUrl:e?.redirectTo??r.get("Referer")??"/"}),a=new Request(n,{method:"POST",headers:r,body:i}),s=await aV(a,{...t,raw:ro.lS,skipCSRFCheck:ro.We}),o=await (0,aQ.UL)();for(let e of s?.cookies??[])o.set(e.name,e.value,e.options);return e?.redirect??!0?(0,a3.redirect)(s.redirect):s}async function a8(e,t){let r=new Headers(await (0,aQ.b3)());r.set("Content-Type","application/json");let n=new Request(aB("session",r.get("x-forwarded-proto"),r,process.env,t),{method:"POST",headers:r,body:JSON.stringify({data:e})}),i=await aV(n,{...t,raw:ro.lS,skipCSRFCheck:ro.We}),a=await (0,aQ.UL)();for(let e of i?.cookies??[])a.set(e.name,e.value,e.options);return i.body}function a7(e){if("function"==typeof e){let t=async t=>{let r=await e(t);return aY(r),aV(aX(t),r)};return{handlers:{GET:t,POST:t},auth:a2(e,e=>aY(e)),signIn:async(t,r,n)=>{let i=await e(void 0);return aY(i),a6(t,r,n,i)},signOut:async t=>{let r=await e(void 0);return aY(r),a9(t,r)},unstable_update:async t=>{let r=await e(void 0);return aY(r),a8(t,r)}}}aY(e);let t=t=>aV(aX(t),e);return{handlers:{GET:t,POST:t},auth:a2(e),signIn:(t,r,n)=>a6(t,r,n,e),signOut:t=>a9(t,e),unstable_update:t=>a8(t,e)}}},1243:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"URLPattern",{enumerable:!0,get:function(){return r}});let r="undefined"==typeof URLPattern?void 0:URLPattern},2079:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"unstable_rootParams",{enumerable:!0,get:function(){return u}});let n=r(1617),i=r(4971),a=r(9294),s=r(3033),o=r(8388),c=r(2609),l=new WeakMap;async function u(){let e=a.workAsyncStorage.getStore();if(!e)throw Object.defineProperty(new n.InvariantError("Missing workStore in unstable_rootParams"),"__NEXT_ERROR_CODE",{value:"E615",enumerable:!1,configurable:!0});let t=s.workUnitAsyncStorage.getStore();if(!t)throw Object.defineProperty(Error(`Route ${e.route} used \`unstable_rootParams()\` in Pages Router. This API is only available within App Router.`),"__NEXT_ERROR_CODE",{value:"E641",enumerable:!1,configurable:!0});switch(t.type){case"unstable-cache":case"cache":throw Object.defineProperty(Error(`Route ${e.route} used \`unstable_rootParams()\` inside \`"use cache"\` or \`unstable_cache\`. Support for this API inside cache scopes is planned for a future version of Next.js.`),"__NEXT_ERROR_CODE",{value:"E642",enumerable:!1,configurable:!0});case"prerender":case"prerender-ppr":case"prerender-legacy":return function(e,t,r){let n=t.fallbackRouteParams;if(n){let p=!1;for(let t in e)if(n.has(t)){p=!0;break}if(p){if("prerender"===r.type){let t=l.get(e);if(t)return t;let n=(0,o.makeHangingPromise)(r.renderSignal,"`unstable_rootParams`");return l.set(e,n),n}var a=e,s=n,u=t,d=r;let p=l.get(a);if(p)return p;let h={...a},f=Promise.resolve(h);return l.set(a,f),Object.keys(a).forEach(e=>{c.wellKnownProperties.has(e)||(s.has(e)?Object.defineProperty(h,e,{get(){let t=(0,c.describeStringPropertyAccess)("unstable_rootParams",e);"prerender-ppr"===d.type?(0,i.postponeWithTracking)(u.route,t,d.dynamicTracking):(0,i.throwToInterruptStaticGeneration)(t,u,d)},enumerable:!0}):f[e]=a[e])}),f}}return Promise.resolve(e)}(t.rootParams,e,t);default:return Promise.resolve(t.rootParams)}}},2174:(e,t)=>{"use strict";function r(){throw Object.defineProperty(Error('ImageResponse moved from "next/server" to "next/og" since Next.js 14, please import from "next/og" instead'),"__NEXT_ERROR_CODE",{value:"E183",enumerable:!1,configurable:!0})}Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"ImageResponse",{enumerable:!0,get:function(){return r}})},2584:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),!function(e,t){for(var r in t)Object.defineProperty(e,r,{enumerable:!0,get:t[r]})}(t,{HeadersAdapter:function(){return a},ReadonlyHeadersError:function(){return i}});let n=r(3763);class i extends Error{constructor(){super("Headers cannot be modified. Read more: https://nextjs.org/docs/app/api-reference/functions/headers")}static callable(){throw new i}}class a extends Headers{constructor(e){super(),this.headers=new Proxy(e,{get(t,r,i){if("symbol"==typeof r)return n.ReflectAdapter.get(t,r,i);let a=r.toLowerCase(),s=Object.keys(e).find(e=>e.toLowerCase()===a);if(void 0!==s)return n.ReflectAdapter.get(t,s,i)},set(t,r,i,a){if("symbol"==typeof r)return n.ReflectAdapter.set(t,r,i,a);let s=r.toLowerCase(),o=Object.keys(e).find(e=>e.toLowerCase()===s);return n.ReflectAdapter.set(t,o??r,i,a)},has(t,r){if("symbol"==typeof r)return n.ReflectAdapter.has(t,r);let i=r.toLowerCase(),a=Object.keys(e).find(e=>e.toLowerCase()===i);return void 0!==a&&n.ReflectAdapter.has(t,a)},deleteProperty(t,r){if("symbol"==typeof r)return n.ReflectAdapter.deleteProperty(t,r);let i=r.toLowerCase(),a=Object.keys(e).find(e=>e.toLowerCase()===i);return void 0===a||n.ReflectAdapter.deleteProperty(t,a)}})}static seal(e){return new Proxy(e,{get(e,t,r){switch(t){case"append":case"delete":case"set":return i.callable;default:return n.ReflectAdapter.get(e,t,r)}}})}merge(e){return Array.isArray(e)?e.join(", "):e}static from(e){return e instanceof Headers?e:new a(e)}append(e,t){let r=this.headers[e];"string"==typeof r?this.headers[e]=[r,t]:Array.isArray(r)?r.push(t):this.headers[e]=t}delete(e){delete this.headers[e]}get(e){let t=this.headers[e];return void 0!==t?this.merge(t):null}has(e){return void 0!==this.headers[e]}set(e,t){this.headers[e]=t}forEach(e,t){for(let[r,n]of this.entries())e.call(t,n,r,this)}*entries(){for(let e of Object.keys(this.headers)){let t=e.toLowerCase(),r=this.get(t);yield[t,r]}}*keys(){for(let e of Object.keys(this.headers)){let t=e.toLowerCase();yield t}}*values(){for(let e of Object.keys(this.headers)){let t=this.get(e);yield t}}[Symbol.iterator](){return this.entries()}}},2765:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"notFound",{enumerable:!0,get:function(){return i}});let n=""+r(8704).HTTP_ERROR_FALLBACK_ERROR_CODE+";404";function i(){let e=Object.defineProperty(Error(n),"__NEXT_ERROR_CODE",{value:"E394",enumerable:!1,configurable:!0});throw e.digest=n,e}("function"==typeof t.default||"object"==typeof t.default&&null!==t.default)&&void 0===t.default.__esModule&&(Object.defineProperty(t.default,"__esModule",{value:!0}),Object.assign(t.default,t),e.exports=t.default)},2871:(e,t,r)=>{"use strict";function n(e){let t="object"==typeof e.client?e.client:{},r="object"==typeof e.server?e.server:{},n=e.shared,i=e.runtimeEnv?e.runtimeEnv:{...process.env,...e.experimental__runtimeEnv};return function(e){let t=e.runtimeEnvStrict??e.runtimeEnv??process.env;if(e.emptyStringAsUndefined)for(let[e,r]of Object.entries(t))""===r&&delete t[e];if(e.skipValidation)return t;let r="object"==typeof e.client?e.client:{},n="object"==typeof e.server?e.server:{},i="object"==typeof e.shared?e.shared:{},a=e.isServer??("undefined"==typeof window||"Deno"in window),s=function(e,t){let r={},n=[];for(let i in e){let a=e[i],s=t[i],o=a["~standard"].validate(s);if(o instanceof Promise)throw Error(`Validation must be synchronous, but ${i} returned a Promise.`);if(o.issues){n.push(...o.issues.map(e=>({...e,path:[i,...e.path??[]]})));continue}r[i]=o.value}return n.length?{issues:n}:{value:r}}(a?{...n,...i,...r}:{...r,...i},t),o=e.onValidationError??(e=>{throw console.error(" Invalid environment variables:",e),Error("Invalid environment variables")}),c=e.onInvalidAccess??(()=>{throw Error(" Attempted to access a server-side environment variable on the client")});if(s.issues)return o(s.issues);let l=t=>!e.clientPrefix||!t.startsWith(e.clientPrefix)&&!(t in i),u=e=>a||!l(e),d=e=>"__esModule"===e||"$$typeof"===e,p=(e.extends??[]).reduce((e,t)=>Object.assign(e,t),{});return new Proxy(Object.assign(s.value,p),{get(e,t){if("string"==typeof t&&!d(t))return u(t)?Reflect.get(e,t):c(t)}})}({...e,shared:n,client:t,server:r,clientPrefix:"NEXT_PUBLIC_",runtimeEnv:i})}r.d(t,{w:()=>n})},2944:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"connection",{enumerable:!0,get:function(){return l}});let n=r(9294),i=r(3033),a=r(4971),s=r(23),o=r(8388),c=r(8719);function l(){let e=n.workAsyncStorage.getStore(),t=i.workUnitAsyncStorage.getStore();if(e){if(t&&"after"===t.phase&&!(0,c.isRequestAPICallableInsideAfter)())throw Object.defineProperty(Error(`Route ${e.route} used "connection" inside "after(...)". The \`connection()\` function is used to indicate the subsequent code must only run when there is an actual Request, but "after(...)" executes after the request, so this function is not allowed in this scope. See more info here: https://nextjs.org/docs/canary/app/api-reference/functions/after`),"__NEXT_ERROR_CODE",{value:"E186",enumerable:!1,configurable:!0});if(e.forceStatic)return Promise.resolve(void 0);if(t){if("cache"===t.type)throw Object.defineProperty(Error(`Route ${e.route} used "connection" inside "use cache". The \`connection()\` function is used to indicate the subsequent code must only run when there is an actual Request, but caches must be able to be produced before a Request so this function is not allowed in this scope. See more info here: https://nextjs.org/docs/messages/next-request-in-use-cache`),"__NEXT_ERROR_CODE",{value:"E111",enumerable:!1,configurable:!0});else if("unstable-cache"===t.type)throw Object.defineProperty(Error(`Route ${e.route} used "connection" inside a function cached with "unstable_cache(...)". The \`connection()\` function is used to indicate the subsequent code must only run when there is an actual Request, but caches must be able to be produced before a Request so this function is not allowed in this scope. See more info here: https://nextjs.org/docs/app/api-reference/functions/unstable_cache`),"__NEXT_ERROR_CODE",{value:"E1",enumerable:!1,configurable:!0})}if(e.dynamicShouldError)throw Object.defineProperty(new s.StaticGenBailoutError(`Route ${e.route} with \`dynamic = "error"\` couldn't be rendered statically because it used \`connection\`. See more info here: https://nextjs.org/docs/app/building-your-application/rendering/static-and-dynamic#dynamic-rendering`),"__NEXT_ERROR_CODE",{value:"E562",enumerable:!1,configurable:!0});if(t)if("prerender"===t.type)return(0,o.makeHangingPromise)(t.renderSignal,"`connection()`");else"prerender-ppr"===t.type?(0,a.postponeWithTracking)(e.route,"connection",t.dynamicTracking):"prerender-legacy"===t.type&&(0,a.throwToInterruptStaticGeneration)("connection",e,t);(0,a.trackDynamicDataInDynamicRender)(e,t)}return Promise.resolve(void 0)}},3182:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),!function(e,t){for(var r in t)Object.defineProperty(e,r,{enumerable:!0,get:t[r]})}(t,{isBot:function(){return i},userAgent:function(){return s},userAgentFromString:function(){return a}});let n=function(e){return e&&e.__esModule?e:{default:e}}(r(397));function i(e){return/Googlebot|Mediapartners-Google|AdsBot-Google|googleweblight|Storebot-Google|Google-PageRenderer|Google-InspectionTool|Bingbot|BingPreview|Slurp|DuckDuckBot|baiduspider|yandex|sogou|LinkedInBot|bitlybot|tumblr|vkShare|quora link preview|facebookexternalhit|facebookcatalog|Twitterbot|applebot|redditbot|Slackbot|Discordbot|WhatsApp|SkypeUriPreview|ia_archiver/i.test(e)}function a(e){return{...(0,n.default)(e),isBot:void 0!==e&&i(e)}}function s({headers:e}){return a(e.get("user-agent")||void 0)}},3313:(e,t,r)=>{"use strict";r.d(t,{A6:()=>a,We:()=>n,lS:()=>i,qo:()=>s});let n=Symbol("skip-csrf-check"),i=Symbol("return-type-raw"),a=Symbol("custom-fetch"),s=Symbol("conform-internal")},3381:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),function(e,t){Object.keys(e).forEach(function(r){"default"===r||Object.prototype.hasOwnProperty.call(t,r)||Object.defineProperty(t,r,{enumerable:!0,get:function(){return e[r]}})})}(r(7252),t)},3426:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"NextResponse",{enumerable:!0,get:function(){return d}});let n=r(3158),i=r(6608),a=r(7912),s=r(3763),o=r(3158),c=Symbol("internal response"),l=new Set([301,302,303,307,308]);function u(e,t){var r;if(null==e||null==(r=e.request)?void 0:r.headers){if(!(e.request.headers instanceof Headers))throw Object.defineProperty(Error("request.headers must be an instance of Headers"),"__NEXT_ERROR_CODE",{value:"E119",enumerable:!1,configurable:!0});let r=[];for(let[n,i]of e.request.headers)t.set("x-middleware-request-"+n,i),r.push(n);t.set("x-middleware-override-headers",r.join(","))}}class d extends Response{constructor(e,t={}){super(e,t);let r=this.headers,l=new Proxy(new o.ResponseCookies(r),{get(e,i,a){switch(i){case"delete":case"set":return(...a)=>{let s=Reflect.apply(e[i],e,a),c=new Headers(r);return s instanceof o.ResponseCookies&&r.set("x-middleware-set-cookie",s.getAll().map(e=>(0,n.stringifyCookie)(e)).join(",")),u(t,c),s};default:return s.ReflectAdapter.get(e,i,a)}}});this[c]={cookies:l,url:t.url?new i.NextURL(t.url,{headers:(0,a.toNodeOutgoingHttpHeaders)(r),nextConfig:t.nextConfig}):void 0}}[Symbol.for("edge-runtime.inspect.custom")](){return{cookies:this.cookies,url:this.url,body:this.body,bodyUsed:this.bodyUsed,headers:Object.fromEntries(this.headers),ok:this.ok,redirected:this.redirected,status:this.status,statusText:this.statusText,type:this.type}}get cookies(){return this[c].cookies}static json(e,t){let r=Response.json(e,t);return new d(r.body,r)}static redirect(e,t){let r="number"==typeof t?t:(null==t?void 0:t.status)??307;if(!l.has(r))throw Object.defineProperty(RangeError('Failed to execute "redirect" on "response": Invalid status code'),"__NEXT_ERROR_CODE",{value:"E529",enumerable:!1,configurable:!0});let n="object"==typeof t?t:{},i=new Headers(null==n?void 0:n.headers);return i.set("Location",(0,a.validateURL)(e)),new d(null,{...n,headers:i,status:r})}static rewrite(e,t){let r=new Headers(null==t?void 0:t.headers);return r.set("x-middleware-rewrite",(0,a.validateURL)(e)),u(t,r),new d(null,{...t,headers:r})}static next(e){let t=new Headers(null==e?void 0:e.headers);return t.set("x-middleware-next","1"),u(e,t),new d(null,{...e,headers:t})}}},3890:(e,t,r)=>{"use strict";r.d(t,{A:()=>i});var n=r(3313);function i(e){return{id:"apple",name:"Apple",type:"oidc",issuer:"https://appleid.apple.com",authorization:{params:{scope:"name email",response_mode:"form_post"}},[n.qo]:!0,profile(e){let t=e.user?`${e.user.name.firstName} ${e.user.name.lastName}`:e.email;return{id:e.sub,name:t,email:e.email,image:null}},async [n.A6](...e){if(new URL(e[0]instanceof Request?e[0].url:e[0]).pathname.endsWith(".well-known/openid-configuration")){let t=await fetch(...e),r=await t.clone().json();return Response.json({...r,userinfo_endpoint:"https://appleid.apple.com/fake_endpoint"})}return fetch(...e)},client:{token_endpoint_auth_method:"client_secret_post"},style:{text:"#fff",bg:"#000"},checks:["nonce","state"],options:e}}},4069:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),!function(e,t){for(var r in t)Object.defineProperty(e,r,{enumerable:!0,get:t[r]})}(t,{MutableRequestCookiesAdapter:function(){return p},ReadonlyRequestCookiesError:function(){return o},RequestCookiesAdapter:function(){return c},appendMutableCookies:function(){return d},areCookiesMutableInCurrentPhase:function(){return f},getModifiedCookieValues:function(){return u},responseCookiesToRequestCookies:function(){return y},wrapWithMutableAccessCheck:function(){return h}});let n=r(3158),i=r(3763),a=r(9294),s=r(3033);class o extends Error{constructor(){super("Cookies can only be modified in a Server Action or Route Handler. Read more: https://nextjs.org/docs/app/api-reference/functions/cookies#options")}static callable(){throw new o}}class c{static seal(e){return new Proxy(e,{get(e,t,r){switch(t){case"clear":case"delete":case"set":return o.callable;default:return i.ReflectAdapter.get(e,t,r)}}})}}let l=Symbol.for("next.mutated.cookies");function u(e){let t=e[l];return t&&Array.isArray(t)&&0!==t.length?t:[]}function d(e,t){let r=u(t);if(0===r.length)return!1;let i=new n.ResponseCookies(e),a=i.getAll();for(let e of r)i.set(e);for(let e of a)i.set(e);return!0}class p{static wrap(e,t){let r=new n.ResponseCookies(new Headers);for(let t of e.getAll())r.set(t);let s=[],o=new Set,c=()=>{let e=a.workAsyncStorage.getStore();if(e&&(e.pathWasRevalidated=!0),s=r.getAll().filter(e=>o.has(e.name)),t){let e=[];for(let t of s){let r=new n.ResponseCookies(new Headers);r.set(t),e.push(r.toString())}t(e)}},u=new Proxy(r,{get(e,t,r){switch(t){case l:return s;case"delete":return function(...t){o.add("string"==typeof t[0]?t[0]:t[0].name);try{return e.delete(...t),u}finally{c()}};case"set":return function(...t){o.add("string"==typeof t[0]?t[0]:t[0].name);try{return e.set(...t),u}finally{c()}};default:return i.ReflectAdapter.get(e,t,r)}}});return u}}function h(e){let t=new Proxy(e,{get(e,r,n){switch(r){case"delete":return function(...r){return m("cookies().delete"),e.delete(...r),t};case"set":return function(...r){return m("cookies().set"),e.set(...r),t};default:return i.ReflectAdapter.get(e,r,n)}}});return t}function f(e){return"action"===e.phase}function m(e){if(!f((0,s.getExpectedRequestStore)(e)))throw new o}function y(e){let t=new n.RequestCookies(new Headers);for(let r of e.getAll())t.set(r);return t}},4525:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),!function(e,t){for(var r in t)Object.defineProperty(e,r,{enumerable:!0,get:t[r]})}(t,{ImageResponse:function(){return n.ImageResponse},NextRequest:function(){return i.NextRequest},NextResponse:function(){return a.NextResponse},URLPattern:function(){return o.URLPattern},after:function(){return c.after},connection:function(){return l.connection},unstable_rootParams:function(){return u.unstable_rootParams},userAgent:function(){return s.userAgent},userAgentFromString:function(){return s.userAgentFromString}});let n=r(2174),i=r(6268),a=r(3426),s=r(3182),o=r(1243),c=r(3381),l=r(2944),u=r(2079)},4999:(e,t,r)=>{"use strict";r.d(t,{UL:()=>n.U,b3:()=>i.b});var n=r(9933),i=r(6280);r(6294)},5025:(e,t,r)=>{"use strict";function n(e){return{id:"facebook",name:"Facebook",type:"oauth",authorization:{url:"https://www.facebook.com/v19.0/dialog/oauth",params:{scope:"email"}},token:"https://graph.facebook.com/oauth/access_token",userinfo:{url:"https://graph.facebook.com/me?fields=id,name,email,picture",request:async({tokens:e,provider:t})=>await fetch(t.userinfo?.url,{headers:{Authorization:`Bearer ${e.access_token}`}}).then(async e=>await e.json())},profile:e=>({id:e.id,name:e.name,email:e.email,image:e.picture.data.url}),style:{bg:"#006aff",text:"#fff"},options:e}}r.d(t,{A:()=>n})},5538:(e,t)=>{"use strict";t.q=function(e,t){if("string"!=typeof e)throw TypeError("argument str must be a string");var r={},n=e.length;if(n<2)return r;var i=t&&t.decode||l,a=0,s=0,u=0;do{if(-1===(s=e.indexOf("=",a)))break;if(-1===(u=e.indexOf(";",a)))u=n;else if(s>u){a=e.lastIndexOf(";",s-1)+1;continue}var d=o(e,a,s),p=c(e,s,d),h=e.slice(d,p);if(!r.hasOwnProperty(h)){var f=o(e,s+1,u),m=c(e,u,f);34===e.charCodeAt(f)&&34===e.charCodeAt(m-1)&&(f++,m--);var y=e.slice(f,m);r[h]=function(e,t){try{return t(e)}catch(t){return e}}(y,i)}a=u+1}while(a<n);return r},t.l=function(e,t,o){var c=o&&o.encode||encodeURIComponent;if("function"!=typeof c)throw TypeError("option encode is invalid");if(!n.test(e))throw TypeError("argument name is invalid");var l=c(t);if(!i.test(l))throw TypeError("argument val is invalid");var u=e+"="+l;if(!o)return u;if(null!=o.maxAge){var d=Math.floor(o.maxAge);if(!isFinite(d))throw TypeError("option maxAge is invalid");u+="; Max-Age="+d}if(o.domain){if(!a.test(o.domain))throw TypeError("option domain is invalid");u+="; Domain="+o.domain}if(o.path){if(!s.test(o.path))throw TypeError("option path is invalid");u+="; Path="+o.path}if(o.expires){var p,h=o.expires;if(p=h,"[object Date]"!==r.call(p)||isNaN(h.valueOf()))throw TypeError("option expires is invalid");u+="; Expires="+h.toUTCString()}if(o.httpOnly&&(u+="; HttpOnly"),o.secure&&(u+="; Secure"),o.partitioned&&(u+="; Partitioned"),o.priority)switch("string"==typeof o.priority?o.priority.toLowerCase():o.priority){case"low":u+="; Priority=Low";break;case"medium":u+="; Priority=Medium";break;case"high":u+="; Priority=High";break;default:throw TypeError("option priority is invalid")}if(o.sameSite)switch("string"==typeof o.sameSite?o.sameSite.toLowerCase():o.sameSite){case!0:case"strict":u+="; SameSite=Strict";break;case"lax":u+="; SameSite=Lax";break;case"none":u+="; SameSite=None";break;default:throw TypeError("option sameSite is invalid")}return u};var r=Object.prototype.toString,n=/^[!#$%&'*+\-.^_`|~0-9A-Za-z]+$/,i=/^("?)[\u0021\u0023-\u002B\u002D-\u003A\u003C-\u005B\u005D-\u007E]*\1$/,a=/^([.]?[a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)([.][a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)*$/i,s=/^[\u0020-\u003A\u003D-\u007E]*$/;function o(e,t,r){do{var n=e.charCodeAt(t);if(32!==n&&9!==n)return t}while(++t<r);return r}function c(e,t,r){for(;t>r;){var n=e.charCodeAt(--t);if(32!==n&&9!==n)return t+1}return r}function l(e){return -1!==e.indexOf("%")?decodeURIComponent(e):e}},5697:(e,t,r)=>{"use strict";let n;r.d(t,{G:()=>h,z:()=>c});var i,a,s,o,c={};r.r(c),r.d(c,{BRAND:()=>ej,DIRTY:()=>x,EMPTY_PATH:()=>w,INVALID:()=>k,NEVER:()=>tf,OK:()=>E,ParseStatus:()=>v,Schema:()=>j,ZodAny:()=>ea,ZodArray:()=>el,ZodBigInt:()=>Q,ZodBoolean:()=>ee,ZodBranded:()=>eU,ZodCatch:()=>eP,ZodDate:()=>et,ZodDefault:()=>eO,ZodDiscriminatedUnion:()=>eh,ZodEffects:()=>eS,ZodEnum:()=>ex,ZodError:()=>h,ZodFirstPartyTypeKind:()=>o,ZodFunction:()=>ew,ZodIntersection:()=>ef,ZodIssueCode:()=>d,ZodLazy:()=>e_,ZodLiteral:()=>ev,ZodMap:()=>eg,ZodNaN:()=>eC,ZodNativeEnum:()=>eE,ZodNever:()=>eo,ZodNull:()=>ei,ZodNullable:()=>eR,ZodNumber:()=>Y,ZodObject:()=>eu,ZodOptional:()=>eT,ZodParsedType:()=>l,ZodPipeline:()=>eI,ZodPromise:()=>eA,ZodReadonly:()=>e$,ZodRecord:()=>ey,ZodSchema:()=>j,ZodSet:()=>eb,ZodString:()=>X,ZodSymbol:()=>er,ZodTransformer:()=>eS,ZodTuple:()=>em,ZodType:()=>j,ZodUndefined:()=>en,ZodUnion:()=>ed,ZodUnknown:()=>es,ZodVoid:()=>ec,addIssueToContext:()=>_,any:()=>eV,array:()=>eQ,bigint:()=>eZ,boolean:()=>eJ,coerce:()=>th,custom:()=>eD,date:()=>eq,datetimeRegex:()=>G,defaultErrorMap:()=>f,discriminatedUnion:()=>e4,effect:()=>ta,enum:()=>tr,function:()=>e7,getErrorMap:()=>g,getParsedType:()=>u,instanceof:()=>eL,intersection:()=>e5,isAborted:()=>A,isAsync:()=>R,isDirty:()=>S,isValid:()=>T,late:()=>eH,lazy:()=>te,literal:()=>tt,makeIssue:()=>b,map:()=>e9,nan:()=>eK,nativeEnum:()=>tn,never:()=>eX,null:()=>eB,nullable:()=>to,number:()=>eW,object:()=>e0,objectUtil:()=>a,oboolean:()=>tp,onumber:()=>td,optional:()=>ts,ostring:()=>tu,pipeline:()=>tl,preprocess:()=>tc,promise:()=>ti,quotelessJson:()=>p,record:()=>e6,set:()=>e8,setErrorMap:()=>y,strictObject:()=>e1,string:()=>eM,symbol:()=>ez,transformer:()=>ta,tuple:()=>e3,undefined:()=>eF,union:()=>e2,unknown:()=>eG,util:()=>i,void:()=>eY}),function(e){e.assertEqual=e=>{},e.assertIs=function(e){},e.assertNever=function(e){throw Error()},e.arrayToEnum=e=>{let t={};for(let r of e)t[r]=r;return t},e.getValidEnumValues=t=>{let r=e.objectKeys(t).filter(e=>"number"!=typeof t[t[e]]),n={};for(let e of r)n[e]=t[e];return e.objectValues(n)},e.objectValues=t=>e.objectKeys(t).map(function(e){return t[e]}),e.objectKeys="function"==typeof Object.keys?e=>Object.keys(e):e=>{let t=[];for(let r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.push(r);return t},e.find=(e,t)=>{for(let r of e)if(t(r))return r},e.isInteger="function"==typeof Number.isInteger?e=>Number.isInteger(e):e=>"number"==typeof e&&Number.isFinite(e)&&Math.floor(e)===e,e.joinValues=function(e,t=" | "){return e.map(e=>"string"==typeof e?`'${e}'`:e).join(t)},e.jsonStringifyReplacer=(e,t)=>"bigint"==typeof t?t.toString():t}(i||(i={})),(a||(a={})).mergeShapes=(e,t)=>({...e,...t});let l=i.arrayToEnum(["string","nan","number","integer","float","boolean","date","bigint","symbol","function","undefined","null","array","object","unknown","promise","void","never","map","set"]),u=e=>{switch(typeof e){case"undefined":return l.undefined;case"string":return l.string;case"number":return Number.isNaN(e)?l.nan:l.number;case"boolean":return l.boolean;case"function":return l.function;case"bigint":return l.bigint;case"symbol":return l.symbol;case"object":if(Array.isArray(e))return l.array;if(null===e)return l.null;if(e.then&&"function"==typeof e.then&&e.catch&&"function"==typeof e.catch)return l.promise;if("undefined"!=typeof Map&&e instanceof Map)return l.map;if("undefined"!=typeof Set&&e instanceof Set)return l.set;if("undefined"!=typeof Date&&e instanceof Date)return l.date;return l.object;default:return l.unknown}},d=i.arrayToEnum(["invalid_type","invalid_literal","custom","invalid_union","invalid_union_discriminator","invalid_enum_value","unrecognized_keys","invalid_arguments","invalid_return_type","invalid_date","invalid_string","too_small","too_big","invalid_intersection_types","not_multiple_of","not_finite"]),p=e=>JSON.stringify(e,null,2).replace(/"([^"]+)":/g,"$1:");class h extends Error{get errors(){return this.issues}constructor(e){super(),this.issues=[],this.addIssue=e=>{this.issues=[...this.issues,e]},this.addIssues=(e=[])=>{this.issues=[...this.issues,...e]};let t=new.target.prototype;Object.setPrototypeOf?Object.setPrototypeOf(this,t):this.__proto__=t,this.name="ZodError",this.issues=e}format(e){let t=e||function(e){return e.message},r={_errors:[]},n=e=>{for(let i of e.issues)if("invalid_union"===i.code)i.unionErrors.map(n);else if("invalid_return_type"===i.code)n(i.returnTypeError);else if("invalid_arguments"===i.code)n(i.argumentsError);else if(0===i.path.length)r._errors.push(t(i));else{let e=r,n=0;for(;n<i.path.length;){let r=i.path[n];n===i.path.length-1?(e[r]=e[r]||{_errors:[]},e[r]._errors.push(t(i))):e[r]=e[r]||{_errors:[]},e=e[r],n++}}};return n(this),r}static assert(e){if(!(e instanceof h))throw Error(`Not a ZodError: ${e}`)}toString(){return this.message}get message(){return JSON.stringify(this.issues,i.jsonStringifyReplacer,2)}get isEmpty(){return 0===this.issues.length}flatten(e=e=>e.message){let t={},r=[];for(let n of this.issues)n.path.length>0?(t[n.path[0]]=t[n.path[0]]||[],t[n.path[0]].push(e(n))):r.push(e(n));return{formErrors:r,fieldErrors:t}}get formErrors(){return this.flatten()}}h.create=e=>new h(e);let f=(e,t)=>{let r;switch(e.code){case d.invalid_type:r=e.received===l.undefined?"Required":`Expected ${e.expected}, received ${e.received}`;break;case d.invalid_literal:r=`Invalid literal value, expected ${JSON.stringify(e.expected,i.jsonStringifyReplacer)}`;break;case d.unrecognized_keys:r=`Unrecognized key(s) in object: ${i.joinValues(e.keys,", ")}`;break;case d.invalid_union:r="Invalid input";break;case d.invalid_union_discriminator:r=`Invalid discriminator value. Expected ${i.joinValues(e.options)}`;break;case d.invalid_enum_value:r=`Invalid enum value. Expected ${i.joinValues(e.options)}, received '${e.received}'`;break;case d.invalid_arguments:r="Invalid function arguments";break;case d.invalid_return_type:r="Invalid function return type";break;case d.invalid_date:r="Invalid date";break;case d.invalid_string:"object"==typeof e.validation?"includes"in e.validation?(r=`Invalid input: must include "${e.validation.includes}"`,"number"==typeof e.validation.position&&(r=`${r} at one or more positions greater than or equal to ${e.validation.position}`)):"startsWith"in e.validation?r=`Invalid input: must start with "${e.validation.startsWith}"`:"endsWith"in e.validation?r=`Invalid input: must end with "${e.validation.endsWith}"`:i.assertNever(e.validation):r="regex"!==e.validation?`Invalid ${e.validation}`:"Invalid";break;case d.too_small:r="array"===e.type?`Array must contain ${e.exact?"exactly":e.inclusive?"at least":"more than"} ${e.minimum} element(s)`:"string"===e.type?`String must contain ${e.exact?"exactly":e.inclusive?"at least":"over"} ${e.minimum} character(s)`:"number"===e.type?`Number must be ${e.exact?"exactly equal to ":e.inclusive?"greater than or equal to ":"greater than "}${e.minimum}`:"date"===e.type?`Date must be ${e.exact?"exactly equal to ":e.inclusive?"greater than or equal to ":"greater than "}${new Date(Number(e.minimum))}`:"Invalid input";break;case d.too_big:r="array"===e.type?`Array must contain ${e.exact?"exactly":e.inclusive?"at most":"less than"} ${e.maximum} element(s)`:"string"===e.type?`String must contain ${e.exact?"exactly":e.inclusive?"at most":"under"} ${e.maximum} character(s)`:"number"===e.type?`Number must be ${e.exact?"exactly":e.inclusive?"less than or equal to":"less than"} ${e.maximum}`:"bigint"===e.type?`BigInt must be ${e.exact?"exactly":e.inclusive?"less than or equal to":"less than"} ${e.maximum}`:"date"===e.type?`Date must be ${e.exact?"exactly":e.inclusive?"smaller than or equal to":"smaller than"} ${new Date(Number(e.maximum))}`:"Invalid input";break;case d.custom:r="Invalid input";break;case d.invalid_intersection_types:r="Intersection results could not be merged";break;case d.not_multiple_of:r=`Number must be a multiple of ${e.multipleOf}`;break;case d.not_finite:r="Number must be finite";break;default:r=t.defaultError,i.assertNever(e)}return{message:r}},m=f;function y(e){m=e}function g(){return m}let b=e=>{let{data:t,path:r,errorMaps:n,issueData:i}=e,a=[...r,...i.path||[]],s={...i,path:a};if(void 0!==i.message)return{...i,path:a,message:i.message};let o="";for(let e of n.filter(e=>!!e).slice().reverse())o=e(s,{data:t,defaultError:o}).message;return{...i,path:a,message:o}},w=[];function _(e,t){let r=m,n=b({issueData:t,data:e.data,path:e.path,errorMaps:[e.common.contextualErrorMap,e.schemaErrorMap,r,r===f?void 0:f].filter(e=>!!e)});e.common.issues.push(n)}class v{constructor(){this.value="valid"}dirty(){"valid"===this.value&&(this.value="dirty")}abort(){"aborted"!==this.value&&(this.value="aborted")}static mergeArray(e,t){let r=[];for(let n of t){if("aborted"===n.status)return k;"dirty"===n.status&&e.dirty(),r.push(n.value)}return{status:e.value,value:r}}static async mergeObjectAsync(e,t){let r=[];for(let e of t){let t=await e.key,n=await e.value;r.push({key:t,value:n})}return v.mergeObjectSync(e,r)}static mergeObjectSync(e,t){let r={};for(let n of t){let{key:t,value:i}=n;if("aborted"===t.status||"aborted"===i.status)return k;"dirty"===t.status&&e.dirty(),"dirty"===i.status&&e.dirty(),"__proto__"!==t.value&&(void 0!==i.value||n.alwaysSet)&&(r[t.value]=i.value)}return{status:e.value,value:r}}}let k=Object.freeze({status:"aborted"}),x=e=>({status:"dirty",value:e}),E=e=>({status:"valid",value:e}),A=e=>"aborted"===e.status,S=e=>"dirty"===e.status,T=e=>"valid"===e.status,R=e=>"undefined"!=typeof Promise&&e instanceof Promise;!function(e){e.errToObj=e=>"string"==typeof e?{message:e}:e||{},e.toString=e=>"string"==typeof e?e:e?.message}(s||(s={}));class O{constructor(e,t,r,n){this._cachedPath=[],this.parent=e,this.data=t,this._path=r,this._key=n}get path(){return this._cachedPath.length||(Array.isArray(this._key)?this._cachedPath.push(...this._path,...this._key):this._cachedPath.push(...this._path,this._key)),this._cachedPath}}let P=(e,t)=>{if(T(t))return{success:!0,data:t.value};if(!e.common.issues.length)throw Error("Validation failed but no issues detected.");return{success:!1,get error(){if(this._error)return this._error;let t=new h(e.common.issues);return this._error=t,this._error}}};function C(e){if(!e)return{};let{errorMap:t,invalid_type_error:r,required_error:n,description:i}=e;if(t&&(r||n))throw Error('Can\'t use "invalid_type_error" or "required_error" in conjunction with custom error map.');return t?{errorMap:t,description:i}:{errorMap:(t,i)=>{let{message:a}=e;return"invalid_enum_value"===t.code?{message:a??i.defaultError}:void 0===i.data?{message:a??n??i.defaultError}:"invalid_type"!==t.code?{message:i.defaultError}:{message:a??r??i.defaultError}},description:i}}class j{get description(){return this._def.description}_getType(e){return u(e.data)}_getOrReturnCtx(e,t){return t||{common:e.parent.common,data:e.data,parsedType:u(e.data),schemaErrorMap:this._def.errorMap,path:e.path,parent:e.parent}}_processInputParams(e){return{status:new v,ctx:{common:e.parent.common,data:e.data,parsedType:u(e.data),schemaErrorMap:this._def.errorMap,path:e.path,parent:e.parent}}}_parseSync(e){let t=this._parse(e);if(R(t))throw Error("Synchronous parse encountered promise.");return t}_parseAsync(e){return Promise.resolve(this._parse(e))}parse(e,t){let r=this.safeParse(e,t);if(r.success)return r.data;throw r.error}safeParse(e,t){let r={common:{issues:[],async:t?.async??!1,contextualErrorMap:t?.errorMap},path:t?.path||[],schemaErrorMap:this._def.errorMap,parent:null,data:e,parsedType:u(e)},n=this._parseSync({data:e,path:r.path,parent:r});return P(r,n)}"~validate"(e){let t={common:{issues:[],async:!!this["~standard"].async},path:[],schemaErrorMap:this._def.errorMap,parent:null,data:e,parsedType:u(e)};if(!this["~standard"].async)try{let r=this._parseSync({data:e,path:[],parent:t});return T(r)?{value:r.value}:{issues:t.common.issues}}catch(e){e?.message?.toLowerCase()?.includes("encountered")&&(this["~standard"].async=!0),t.common={issues:[],async:!0}}return this._parseAsync({data:e,path:[],parent:t}).then(e=>T(e)?{value:e.value}:{issues:t.common.issues})}async parseAsync(e,t){let r=await this.safeParseAsync(e,t);if(r.success)return r.data;throw r.error}async safeParseAsync(e,t){let r={common:{issues:[],contextualErrorMap:t?.errorMap,async:!0},path:t?.path||[],schemaErrorMap:this._def.errorMap,parent:null,data:e,parsedType:u(e)},n=this._parse({data:e,path:r.path,parent:r});return P(r,await (R(n)?n:Promise.resolve(n)))}refine(e,t){let r=e=>"string"==typeof t||void 0===t?{message:t}:"function"==typeof t?t(e):t;return this._refinement((t,n)=>{let i=e(t),a=()=>n.addIssue({code:d.custom,...r(t)});return"undefined"!=typeof Promise&&i instanceof Promise?i.then(e=>!!e||(a(),!1)):!!i||(a(),!1)})}refinement(e,t){return this._refinement((r,n)=>!!e(r)||(n.addIssue("function"==typeof t?t(r,n):t),!1))}_refinement(e){return new eS({schema:this,typeName:o.ZodEffects,effect:{type:"refinement",refinement:e}})}superRefine(e){return this._refinement(e)}constructor(e){this.spa=this.safeParseAsync,this._def=e,this.parse=this.parse.bind(this),this.safeParse=this.safeParse.bind(this),this.parseAsync=this.parseAsync.bind(this),this.safeParseAsync=this.safeParseAsync.bind(this),this.spa=this.spa.bind(this),this.refine=this.refine.bind(this),this.refinement=this.refinement.bind(this),this.superRefine=this.superRefine.bind(this),this.optional=this.optional.bind(this),this.nullable=this.nullable.bind(this),this.nullish=this.nullish.bind(this),this.array=this.array.bind(this),this.promise=this.promise.bind(this),this.or=this.or.bind(this),this.and=this.and.bind(this),this.transform=this.transform.bind(this),this.brand=this.brand.bind(this),this.default=this.default.bind(this),this.catch=this.catch.bind(this),this.describe=this.describe.bind(this),this.pipe=this.pipe.bind(this),this.readonly=this.readonly.bind(this),this.isNullable=this.isNullable.bind(this),this.isOptional=this.isOptional.bind(this),this["~standard"]={version:1,vendor:"zod",validate:e=>this["~validate"](e)}}optional(){return eT.create(this,this._def)}nullable(){return eR.create(this,this._def)}nullish(){return this.nullable().optional()}array(){return el.create(this)}promise(){return eA.create(this,this._def)}or(e){return ed.create([this,e],this._def)}and(e){return ef.create(this,e,this._def)}transform(e){return new eS({...C(this._def),schema:this,typeName:o.ZodEffects,effect:{type:"transform",transform:e}})}default(e){return new eO({...C(this._def),innerType:this,defaultValue:"function"==typeof e?e:()=>e,typeName:o.ZodDefault})}brand(){return new eU({typeName:o.ZodBranded,type:this,...C(this._def)})}catch(e){return new eP({...C(this._def),innerType:this,catchValue:"function"==typeof e?e:()=>e,typeName:o.ZodCatch})}describe(e){return new this.constructor({...this._def,description:e})}pipe(e){return eI.create(this,e)}readonly(){return e$.create(this)}isOptional(){return this.safeParse(void 0).success}isNullable(){return this.safeParse(null).success}}let U=/^c[^\s-]{8,}$/i,I=/^[0-9a-z]+$/,$=/^[0-9A-HJKMNP-TV-Z]{26}$/i,N=/^[0-9a-fA-F]{8}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{12}$/i,D=/^[a-z0-9_-]{21}$/i,H=/^[A-Za-z0-9-_]+\.[A-Za-z0-9-_]+\.[A-Za-z0-9-_]*$/,L=/^[-+]?P(?!$)(?:(?:[-+]?\d+Y)|(?:[-+]?\d+[.,]\d+Y$))?(?:(?:[-+]?\d+M)|(?:[-+]?\d+[.,]\d+M$))?(?:(?:[-+]?\d+W)|(?:[-+]?\d+[.,]\d+W$))?(?:(?:[-+]?\d+D)|(?:[-+]?\d+[.,]\d+D$))?(?:T(?=[\d+-])(?:(?:[-+]?\d+H)|(?:[-+]?\d+[.,]\d+H$))?(?:(?:[-+]?\d+M)|(?:[-+]?\d+[.,]\d+M$))?(?:[-+]?\d+(?:[.,]\d+)?S)?)??$/,M=/^(?!\.)(?!.*\.\.)([A-Z0-9_'+\-\.]*)[A-Z0-9_+-]@([A-Z0-9][A-Z0-9\-]*\.)+[A-Z]{2,}$/i,W=/^(?:(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])$/,K=/^(?:(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\/(3[0-2]|[12]?[0-9])$/,Z=/^(([0-9a-fA-F]{1,4}:){7,7}[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,7}:|([0-9a-fA-F]{1,4}:){1,6}:[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,5}(:[0-9a-fA-F]{1,4}){1,2}|([0-9a-fA-F]{1,4}:){1,4}(:[0-9a-fA-F]{1,4}){1,3}|([0-9a-fA-F]{1,4}:){1,3}(:[0-9a-fA-F]{1,4}){1,4}|([0-9a-fA-F]{1,4}:){1,2}(:[0-9a-fA-F]{1,4}){1,5}|[0-9a-fA-F]{1,4}:((:[0-9a-fA-F]{1,4}){1,6})|:((:[0-9a-fA-F]{1,4}){1,7}|:)|fe80:(:[0-9a-fA-F]{0,4}){0,4}%[0-9a-zA-Z]{1,}|::(ffff(:0{1,4}){0,1}:){0,1}((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])|([0-9a-fA-F]{1,4}:){1,4}:((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9]))$/,J=/^(([0-9a-fA-F]{1,4}:){7,7}[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,7}:|([0-9a-fA-F]{1,4}:){1,6}:[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,5}(:[0-9a-fA-F]{1,4}){1,2}|([0-9a-fA-F]{1,4}:){1,4}(:[0-9a-fA-F]{1,4}){1,3}|([0-9a-fA-F]{1,4}:){1,3}(:[0-9a-fA-F]{1,4}){1,4}|([0-9a-fA-F]{1,4}:){1,2}(:[0-9a-fA-F]{1,4}){1,5}|[0-9a-fA-F]{1,4}:((:[0-9a-fA-F]{1,4}){1,6})|:((:[0-9a-fA-F]{1,4}){1,7}|:)|fe80:(:[0-9a-fA-F]{0,4}){0,4}%[0-9a-zA-Z]{1,}|::(ffff(:0{1,4}){0,1}:){0,1}((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])|([0-9a-fA-F]{1,4}:){1,4}:((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9]))\/(12[0-8]|1[01][0-9]|[1-9]?[0-9])$/,q=/^([0-9a-zA-Z+/]{4})*(([0-9a-zA-Z+/]{2}==)|([0-9a-zA-Z+/]{3}=))?$/,z=/^([0-9a-zA-Z-_]{4})*(([0-9a-zA-Z-_]{2}(==)?)|([0-9a-zA-Z-_]{3}(=)?))?$/,F="((\\d\\d[2468][048]|\\d\\d[13579][26]|\\d\\d0[48]|[02468][048]00|[13579][26]00)-02-29|\\d{4}-((0[13578]|1[02])-(0[1-9]|[12]\\d|3[01])|(0[469]|11)-(0[1-9]|[12]\\d|30)|(02)-(0[1-9]|1\\d|2[0-8])))",B=RegExp(`^${F}$`);function V(e){let t="[0-5]\\d";e.precision?t=`${t}\\.\\d{${e.precision}}`:null==e.precision&&(t=`${t}(\\.\\d+)?`);let r=e.precision?"+":"?";return`([01]\\d|2[0-3]):[0-5]\\d(:${t})${r}`}function G(e){let t=`${F}T${V(e)}`,r=[];return r.push(e.local?"Z?":"Z"),e.offset&&r.push("([+-]\\d{2}:?\\d{2})"),t=`${t}(${r.join("|")})`,RegExp(`^${t}$`)}class X extends j{_parse(e){var t,r,a,s;let o;if(this._def.coerce&&(e.data=String(e.data)),this._getType(e)!==l.string){let t=this._getOrReturnCtx(e);return _(t,{code:d.invalid_type,expected:l.string,received:t.parsedType}),k}let c=new v;for(let l of this._def.checks)if("min"===l.kind)e.data.length<l.value&&(_(o=this._getOrReturnCtx(e,o),{code:d.too_small,minimum:l.value,type:"string",inclusive:!0,exact:!1,message:l.message}),c.dirty());else if("max"===l.kind)e.data.length>l.value&&(_(o=this._getOrReturnCtx(e,o),{code:d.too_big,maximum:l.value,type:"string",inclusive:!0,exact:!1,message:l.message}),c.dirty());else if("length"===l.kind){let t=e.data.length>l.value,r=e.data.length<l.value;(t||r)&&(o=this._getOrReturnCtx(e,o),t?_(o,{code:d.too_big,maximum:l.value,type:"string",inclusive:!0,exact:!0,message:l.message}):r&&_(o,{code:d.too_small,minimum:l.value,type:"string",inclusive:!0,exact:!0,message:l.message}),c.dirty())}else if("email"===l.kind)M.test(e.data)||(_(o=this._getOrReturnCtx(e,o),{validation:"email",code:d.invalid_string,message:l.message}),c.dirty());else if("emoji"===l.kind)n||(n=RegExp("^(\\p{Extended_Pictographic}|\\p{Emoji_Component})+$","u")),n.test(e.data)||(_(o=this._getOrReturnCtx(e,o),{validation:"emoji",code:d.invalid_string,message:l.message}),c.dirty());else if("uuid"===l.kind)N.test(e.data)||(_(o=this._getOrReturnCtx(e,o),{validation:"uuid",code:d.invalid_string,message:l.message}),c.dirty());else if("nanoid"===l.kind)D.test(e.data)||(_(o=this._getOrReturnCtx(e,o),{validation:"nanoid",code:d.invalid_string,message:l.message}),c.dirty());else if("cuid"===l.kind)U.test(e.data)||(_(o=this._getOrReturnCtx(e,o),{validation:"cuid",code:d.invalid_string,message:l.message}),c.dirty());else if("cuid2"===l.kind)I.test(e.data)||(_(o=this._getOrReturnCtx(e,o),{validation:"cuid2",code:d.invalid_string,message:l.message}),c.dirty());else if("ulid"===l.kind)$.test(e.data)||(_(o=this._getOrReturnCtx(e,o),{validation:"ulid",code:d.invalid_string,message:l.message}),c.dirty());else if("url"===l.kind)try{new URL(e.data)}catch{_(o=this._getOrReturnCtx(e,o),{validation:"url",code:d.invalid_string,message:l.message}),c.dirty()}else"regex"===l.kind?(l.regex.lastIndex=0,l.regex.test(e.data)||(_(o=this._getOrReturnCtx(e,o),{validation:"regex",code:d.invalid_string,message:l.message}),c.dirty())):"trim"===l.kind?e.data=e.data.trim():"includes"===l.kind?e.data.includes(l.value,l.position)||(_(o=this._getOrReturnCtx(e,o),{code:d.invalid_string,validation:{includes:l.value,position:l.position},message:l.message}),c.dirty()):"toLowerCase"===l.kind?e.data=e.data.toLowerCase():"toUpperCase"===l.kind?e.data=e.data.toUpperCase():"startsWith"===l.kind?e.data.startsWith(l.value)||(_(o=this._getOrReturnCtx(e,o),{code:d.invalid_string,validation:{startsWith:l.value},message:l.message}),c.dirty()):"endsWith"===l.kind?e.data.endsWith(l.value)||(_(o=this._getOrReturnCtx(e,o),{code:d.invalid_string,validation:{endsWith:l.value},message:l.message}),c.dirty()):"datetime"===l.kind?G(l).test(e.data)||(_(o=this._getOrReturnCtx(e,o),{code:d.invalid_string,validation:"datetime",message:l.message}),c.dirty()):"date"===l.kind?B.test(e.data)||(_(o=this._getOrReturnCtx(e,o),{code:d.invalid_string,validation:"date",message:l.message}),c.dirty()):"time"===l.kind?RegExp(`^${V(l)}$`).test(e.data)||(_(o=this._getOrReturnCtx(e,o),{code:d.invalid_string,validation:"time",message:l.message}),c.dirty()):"duration"===l.kind?L.test(e.data)||(_(o=this._getOrReturnCtx(e,o),{validation:"duration",code:d.invalid_string,message:l.message}),c.dirty()):"ip"===l.kind?(t=e.data,!(("v4"===(r=l.version)||!r)&&W.test(t)||("v6"===r||!r)&&Z.test(t))&&1&&(_(o=this._getOrReturnCtx(e,o),{validation:"ip",code:d.invalid_string,message:l.message}),c.dirty())):"jwt"===l.kind?!function(e,t){if(!H.test(e))return!1;try{let[r]=e.split("."),n=r.replace(/-/g,"+").replace(/_/g,"/").padEnd(r.length+(4-r.length%4)%4,"="),i=JSON.parse(atob(n));if("object"!=typeof i||null===i||"typ"in i&&i?.typ!=="JWT"||!i.alg||t&&i.alg!==t)return!1;return!0}catch{return!1}}(e.data,l.alg)&&(_(o=this._getOrReturnCtx(e,o),{validation:"jwt",code:d.invalid_string,message:l.message}),c.dirty()):"cidr"===l.kind?(a=e.data,!(("v4"===(s=l.version)||!s)&&K.test(a)||("v6"===s||!s)&&J.test(a))&&1&&(_(o=this._getOrReturnCtx(e,o),{validation:"cidr",code:d.invalid_string,message:l.message}),c.dirty())):"base64"===l.kind?q.test(e.data)||(_(o=this._getOrReturnCtx(e,o),{validation:"base64",code:d.invalid_string,message:l.message}),c.dirty()):"base64url"===l.kind?z.test(e.data)||(_(o=this._getOrReturnCtx(e,o),{validation:"base64url",code:d.invalid_string,message:l.message}),c.dirty()):i.assertNever(l);return{status:c.value,value:e.data}}_regex(e,t,r){return this.refinement(t=>e.test(t),{validation:t,code:d.invalid_string,...s.errToObj(r)})}_addCheck(e){return new X({...this._def,checks:[...this._def.checks,e]})}email(e){return this._addCheck({kind:"email",...s.errToObj(e)})}url(e){return this._addCheck({kind:"url",...s.errToObj(e)})}emoji(e){return this._addCheck({kind:"emoji",...s.errToObj(e)})}uuid(e){return this._addCheck({kind:"uuid",...s.errToObj(e)})}nanoid(e){return this._addCheck({kind:"nanoid",...s.errToObj(e)})}cuid(e){return this._addCheck({kind:"cuid",...s.errToObj(e)})}cuid2(e){return this._addCheck({kind:"cuid2",...s.errToObj(e)})}ulid(e){return this._addCheck({kind:"ulid",...s.errToObj(e)})}base64(e){return this._addCheck({kind:"base64",...s.errToObj(e)})}base64url(e){return this._addCheck({kind:"base64url",...s.errToObj(e)})}jwt(e){return this._addCheck({kind:"jwt",...s.errToObj(e)})}ip(e){return this._addCheck({kind:"ip",...s.errToObj(e)})}cidr(e){return this._addCheck({kind:"cidr",...s.errToObj(e)})}datetime(e){return"string"==typeof e?this._addCheck({kind:"datetime",precision:null,offset:!1,local:!1,message:e}):this._addCheck({kind:"datetime",precision:void 0===e?.precision?null:e?.precision,offset:e?.offset??!1,local:e?.local??!1,...s.errToObj(e?.message)})}date(e){return this._addCheck({kind:"date",message:e})}time(e){return"string"==typeof e?this._addCheck({kind:"time",precision:null,message:e}):this._addCheck({kind:"time",precision:void 0===e?.precision?null:e?.precision,...s.errToObj(e?.message)})}duration(e){return this._addCheck({kind:"duration",...s.errToObj(e)})}regex(e,t){return this._addCheck({kind:"regex",regex:e,...s.errToObj(t)})}includes(e,t){return this._addCheck({kind:"includes",value:e,position:t?.position,...s.errToObj(t?.message)})}startsWith(e,t){return this._addCheck({kind:"startsWith",value:e,...s.errToObj(t)})}endsWith(e,t){return this._addCheck({kind:"endsWith",value:e,...s.errToObj(t)})}min(e,t){return this._addCheck({kind:"min",value:e,...s.errToObj(t)})}max(e,t){return this._addCheck({kind:"max",value:e,...s.errToObj(t)})}length(e,t){return this._addCheck({kind:"length",value:e,...s.errToObj(t)})}nonempty(e){return this.min(1,s.errToObj(e))}trim(){return new X({...this._def,checks:[...this._def.checks,{kind:"trim"}]})}toLowerCase(){return new X({...this._def,checks:[...this._def.checks,{kind:"toLowerCase"}]})}toUpperCase(){return new X({...this._def,checks:[...this._def.checks,{kind:"toUpperCase"}]})}get isDatetime(){return!!this._def.checks.find(e=>"datetime"===e.kind)}get isDate(){return!!this._def.checks.find(e=>"date"===e.kind)}get isTime(){return!!this._def.checks.find(e=>"time"===e.kind)}get isDuration(){return!!this._def.checks.find(e=>"duration"===e.kind)}get isEmail(){return!!this._def.checks.find(e=>"email"===e.kind)}get isURL(){return!!this._def.checks.find(e=>"url"===e.kind)}get isEmoji(){return!!this._def.checks.find(e=>"emoji"===e.kind)}get isUUID(){return!!this._def.checks.find(e=>"uuid"===e.kind)}get isNANOID(){return!!this._def.checks.find(e=>"nanoid"===e.kind)}get isCUID(){return!!this._def.checks.find(e=>"cuid"===e.kind)}get isCUID2(){return!!this._def.checks.find(e=>"cuid2"===e.kind)}get isULID(){return!!this._def.checks.find(e=>"ulid"===e.kind)}get isIP(){return!!this._def.checks.find(e=>"ip"===e.kind)}get isCIDR(){return!!this._def.checks.find(e=>"cidr"===e.kind)}get isBase64(){return!!this._def.checks.find(e=>"base64"===e.kind)}get isBase64url(){return!!this._def.checks.find(e=>"base64url"===e.kind)}get minLength(){let e=null;for(let t of this._def.checks)"min"===t.kind&&(null===e||t.value>e)&&(e=t.value);return e}get maxLength(){let e=null;for(let t of this._def.checks)"max"===t.kind&&(null===e||t.value<e)&&(e=t.value);return e}}X.create=e=>new X({checks:[],typeName:o.ZodString,coerce:e?.coerce??!1,...C(e)});class Y extends j{constructor(){super(...arguments),this.min=this.gte,this.max=this.lte,this.step=this.multipleOf}_parse(e){let t;if(this._def.coerce&&(e.data=Number(e.data)),this._getType(e)!==l.number){let t=this._getOrReturnCtx(e);return _(t,{code:d.invalid_type,expected:l.number,received:t.parsedType}),k}let r=new v;for(let n of this._def.checks)"int"===n.kind?i.isInteger(e.data)||(_(t=this._getOrReturnCtx(e,t),{code:d.invalid_type,expected:"integer",received:"float",message:n.message}),r.dirty()):"min"===n.kind?(n.inclusive?e.data<n.value:e.data<=n.value)&&(_(t=this._getOrReturnCtx(e,t),{code:d.too_small,minimum:n.value,type:"number",inclusive:n.inclusive,exact:!1,message:n.message}),r.dirty()):"max"===n.kind?(n.inclusive?e.data>n.value:e.data>=n.value)&&(_(t=this._getOrReturnCtx(e,t),{code:d.too_big,maximum:n.value,type:"number",inclusive:n.inclusive,exact:!1,message:n.message}),r.dirty()):"multipleOf"===n.kind?0!==function(e,t){let r=(e.toString().split(".")[1]||"").length,n=(t.toString().split(".")[1]||"").length,i=r>n?r:n;return Number.parseInt(e.toFixed(i).replace(".",""))%Number.parseInt(t.toFixed(i).replace(".",""))/10**i}(e.data,n.value)&&(_(t=this._getOrReturnCtx(e,t),{code:d.not_multiple_of,multipleOf:n.value,message:n.message}),r.dirty()):"finite"===n.kind?Number.isFinite(e.data)||(_(t=this._getOrReturnCtx(e,t),{code:d.not_finite,message:n.message}),r.dirty()):i.assertNever(n);return{status:r.value,value:e.data}}gte(e,t){return this.setLimit("min",e,!0,s.toString(t))}gt(e,t){return this.setLimit("min",e,!1,s.toString(t))}lte(e,t){return this.setLimit("max",e,!0,s.toString(t))}lt(e,t){return this.setLimit("max",e,!1,s.toString(t))}setLimit(e,t,r,n){return new Y({...this._def,checks:[...this._def.checks,{kind:e,value:t,inclusive:r,message:s.toString(n)}]})}_addCheck(e){return new Y({...this._def,checks:[...this._def.checks,e]})}int(e){return this._addCheck({kind:"int",message:s.toString(e)})}positive(e){return this._addCheck({kind:"min",value:0,inclusive:!1,message:s.toString(e)})}negative(e){return this._addCheck({kind:"max",value:0,inclusive:!1,message:s.toString(e)})}nonpositive(e){return this._addCheck({kind:"max",value:0,inclusive:!0,message:s.toString(e)})}nonnegative(e){return this._addCheck({kind:"min",value:0,inclusive:!0,message:s.toString(e)})}multipleOf(e,t){return this._addCheck({kind:"multipleOf",value:e,message:s.toString(t)})}finite(e){return this._addCheck({kind:"finite",message:s.toString(e)})}safe(e){return this._addCheck({kind:"min",inclusive:!0,value:Number.MIN_SAFE_INTEGER,message:s.toString(e)})._addCheck({kind:"max",inclusive:!0,value:Number.MAX_SAFE_INTEGER,message:s.toString(e)})}get minValue(){let e=null;for(let t of this._def.checks)"min"===t.kind&&(null===e||t.value>e)&&(e=t.value);return e}get maxValue(){let e=null;for(let t of this._def.checks)"max"===t.kind&&(null===e||t.value<e)&&(e=t.value);return e}get isInt(){return!!this._def.checks.find(e=>"int"===e.kind||"multipleOf"===e.kind&&i.isInteger(e.value))}get isFinite(){let e=null,t=null;for(let r of this._def.checks)if("finite"===r.kind||"int"===r.kind||"multipleOf"===r.kind)return!0;else"min"===r.kind?(null===t||r.value>t)&&(t=r.value):"max"===r.kind&&(null===e||r.value<e)&&(e=r.value);return Number.isFinite(t)&&Number.isFinite(e)}}Y.create=e=>new Y({checks:[],typeName:o.ZodNumber,coerce:e?.coerce||!1,...C(e)});class Q extends j{constructor(){super(...arguments),this.min=this.gte,this.max=this.lte}_parse(e){let t;if(this._def.coerce)try{e.data=BigInt(e.data)}catch{return this._getInvalidInput(e)}if(this._getType(e)!==l.bigint)return this._getInvalidInput(e);let r=new v;for(let n of this._def.checks)"min"===n.kind?(n.inclusive?e.data<n.value:e.data<=n.value)&&(_(t=this._getOrReturnCtx(e,t),{code:d.too_small,type:"bigint",minimum:n.value,inclusive:n.inclusive,message:n.message}),r.dirty()):"max"===n.kind?(n.inclusive?e.data>n.value:e.data>=n.value)&&(_(t=this._getOrReturnCtx(e,t),{code:d.too_big,type:"bigint",maximum:n.value,inclusive:n.inclusive,message:n.message}),r.dirty()):"multipleOf"===n.kind?e.data%n.value!==BigInt(0)&&(_(t=this._getOrReturnCtx(e,t),{code:d.not_multiple_of,multipleOf:n.value,message:n.message}),r.dirty()):i.assertNever(n);return{status:r.value,value:e.data}}_getInvalidInput(e){let t=this._getOrReturnCtx(e);return _(t,{code:d.invalid_type,expected:l.bigint,received:t.parsedType}),k}gte(e,t){return this.setLimit("min",e,!0,s.toString(t))}gt(e,t){return this.setLimit("min",e,!1,s.toString(t))}lte(e,t){return this.setLimit("max",e,!0,s.toString(t))}lt(e,t){return this.setLimit("max",e,!1,s.toString(t))}setLimit(e,t,r,n){return new Q({...this._def,checks:[...this._def.checks,{kind:e,value:t,inclusive:r,message:s.toString(n)}]})}_addCheck(e){return new Q({...this._def,checks:[...this._def.checks,e]})}positive(e){return this._addCheck({kind:"min",value:BigInt(0),inclusive:!1,message:s.toString(e)})}negative(e){return this._addCheck({kind:"max",value:BigInt(0),inclusive:!1,message:s.toString(e)})}nonpositive(e){return this._addCheck({kind:"max",value:BigInt(0),inclusive:!0,message:s.toString(e)})}nonnegative(e){return this._addCheck({kind:"min",value:BigInt(0),inclusive:!0,message:s.toString(e)})}multipleOf(e,t){return this._addCheck({kind:"multipleOf",value:e,message:s.toString(t)})}get minValue(){let e=null;for(let t of this._def.checks)"min"===t.kind&&(null===e||t.value>e)&&(e=t.value);return e}get maxValue(){let e=null;for(let t of this._def.checks)"max"===t.kind&&(null===e||t.value<e)&&(e=t.value);return e}}Q.create=e=>new Q({checks:[],typeName:o.ZodBigInt,coerce:e?.coerce??!1,...C(e)});class ee extends j{_parse(e){if(this._def.coerce&&(e.data=!!e.data),this._getType(e)!==l.boolean){let t=this._getOrReturnCtx(e);return _(t,{code:d.invalid_type,expected:l.boolean,received:t.parsedType}),k}return E(e.data)}}ee.create=e=>new ee({typeName:o.ZodBoolean,coerce:e?.coerce||!1,...C(e)});class et extends j{_parse(e){let t;if(this._def.coerce&&(e.data=new Date(e.data)),this._getType(e)!==l.date){let t=this._getOrReturnCtx(e);return _(t,{code:d.invalid_type,expected:l.date,received:t.parsedType}),k}if(Number.isNaN(e.data.getTime()))return _(this._getOrReturnCtx(e),{code:d.invalid_date}),k;let r=new v;for(let n of this._def.checks)"min"===n.kind?e.data.getTime()<n.value&&(_(t=this._getOrReturnCtx(e,t),{code:d.too_small,message:n.message,inclusive:!0,exact:!1,minimum:n.value,type:"date"}),r.dirty()):"max"===n.kind?e.data.getTime()>n.value&&(_(t=this._getOrReturnCtx(e,t),{code:d.too_big,message:n.message,inclusive:!0,exact:!1,maximum:n.value,type:"date"}),r.dirty()):i.assertNever(n);return{status:r.value,value:new Date(e.data.getTime())}}_addCheck(e){return new et({...this._def,checks:[...this._def.checks,e]})}min(e,t){return this._addCheck({kind:"min",value:e.getTime(),message:s.toString(t)})}max(e,t){return this._addCheck({kind:"max",value:e.getTime(),message:s.toString(t)})}get minDate(){let e=null;for(let t of this._def.checks)"min"===t.kind&&(null===e||t.value>e)&&(e=t.value);return null!=e?new Date(e):null}get maxDate(){let e=null;for(let t of this._def.checks)"max"===t.kind&&(null===e||t.value<e)&&(e=t.value);return null!=e?new Date(e):null}}et.create=e=>new et({checks:[],coerce:e?.coerce||!1,typeName:o.ZodDate,...C(e)});class er extends j{_parse(e){if(this._getType(e)!==l.symbol){let t=this._getOrReturnCtx(e);return _(t,{code:d.invalid_type,expected:l.symbol,received:t.parsedType}),k}return E(e.data)}}er.create=e=>new er({typeName:o.ZodSymbol,...C(e)});class en extends j{_parse(e){if(this._getType(e)!==l.undefined){let t=this._getOrReturnCtx(e);return _(t,{code:d.invalid_type,expected:l.undefined,received:t.parsedType}),k}return E(e.data)}}en.create=e=>new en({typeName:o.ZodUndefined,...C(e)});class ei extends j{_parse(e){if(this._getType(e)!==l.null){let t=this._getOrReturnCtx(e);return _(t,{code:d.invalid_type,expected:l.null,received:t.parsedType}),k}return E(e.data)}}ei.create=e=>new ei({typeName:o.ZodNull,...C(e)});class ea extends j{constructor(){super(...arguments),this._any=!0}_parse(e){return E(e.data)}}ea.create=e=>new ea({typeName:o.ZodAny,...C(e)});class es extends j{constructor(){super(...arguments),this._unknown=!0}_parse(e){return E(e.data)}}es.create=e=>new es({typeName:o.ZodUnknown,...C(e)});class eo extends j{_parse(e){let t=this._getOrReturnCtx(e);return _(t,{code:d.invalid_type,expected:l.never,received:t.parsedType}),k}}eo.create=e=>new eo({typeName:o.ZodNever,...C(e)});class ec extends j{_parse(e){if(this._getType(e)!==l.undefined){let t=this._getOrReturnCtx(e);return _(t,{code:d.invalid_type,expected:l.void,received:t.parsedType}),k}return E(e.data)}}ec.create=e=>new ec({typeName:o.ZodVoid,...C(e)});class el extends j{_parse(e){let{ctx:t,status:r}=this._processInputParams(e),n=this._def;if(t.parsedType!==l.array)return _(t,{code:d.invalid_type,expected:l.array,received:t.parsedType}),k;if(null!==n.exactLength){let e=t.data.length>n.exactLength.value,i=t.data.length<n.exactLength.value;(e||i)&&(_(t,{code:e?d.too_big:d.too_small,minimum:i?n.exactLength.value:void 0,maximum:e?n.exactLength.value:void 0,type:"array",inclusive:!0,exact:!0,message:n.exactLength.message}),r.dirty())}if(null!==n.minLength&&t.data.length<n.minLength.value&&(_(t,{code:d.too_small,minimum:n.minLength.value,type:"array",inclusive:!0,exact:!1,message:n.minLength.message}),r.dirty()),null!==n.maxLength&&t.data.length>n.maxLength.value&&(_(t,{code:d.too_big,maximum:n.maxLength.value,type:"array",inclusive:!0,exact:!1,message:n.maxLength.message}),r.dirty()),t.common.async)return Promise.all([...t.data].map((e,r)=>n.type._parseAsync(new O(t,e,t.path,r)))).then(e=>v.mergeArray(r,e));let i=[...t.data].map((e,r)=>n.type._parseSync(new O(t,e,t.path,r)));return v.mergeArray(r,i)}get element(){return this._def.type}min(e,t){return new el({...this._def,minLength:{value:e,message:s.toString(t)}})}max(e,t){return new el({...this._def,maxLength:{value:e,message:s.toString(t)}})}length(e,t){return new el({...this._def,exactLength:{value:e,message:s.toString(t)}})}nonempty(e){return this.min(1,e)}}el.create=(e,t)=>new el({type:e,minLength:null,maxLength:null,exactLength:null,typeName:o.ZodArray,...C(t)});class eu extends j{constructor(){super(...arguments),this._cached=null,this.nonstrict=this.passthrough,this.augment=this.extend}_getCached(){if(null!==this._cached)return this._cached;let e=this._def.shape(),t=i.objectKeys(e);return this._cached={shape:e,keys:t},this._cached}_parse(e){if(this._getType(e)!==l.object){let t=this._getOrReturnCtx(e);return _(t,{code:d.invalid_type,expected:l.object,received:t.parsedType}),k}let{status:t,ctx:r}=this._processInputParams(e),{shape:n,keys:i}=this._getCached(),a=[];if(!(this._def.catchall instanceof eo&&"strip"===this._def.unknownKeys))for(let e in r.data)i.includes(e)||a.push(e);let s=[];for(let e of i){let t=n[e],i=r.data[e];s.push({key:{status:"valid",value:e},value:t._parse(new O(r,i,r.path,e)),alwaysSet:e in r.data})}if(this._def.catchall instanceof eo){let e=this._def.unknownKeys;if("passthrough"===e)for(let e of a)s.push({key:{status:"valid",value:e},value:{status:"valid",value:r.data[e]}});else if("strict"===e)a.length>0&&(_(r,{code:d.unrecognized_keys,keys:a}),t.dirty());else if("strip"===e);else throw Error("Internal ZodObject error: invalid unknownKeys value.")}else{let e=this._def.catchall;for(let t of a){let n=r.data[t];s.push({key:{status:"valid",value:t},value:e._parse(new O(r,n,r.path,t)),alwaysSet:t in r.data})}}return r.common.async?Promise.resolve().then(async()=>{let e=[];for(let t of s){let r=await t.key,n=await t.value;e.push({key:r,value:n,alwaysSet:t.alwaysSet})}return e}).then(e=>v.mergeObjectSync(t,e)):v.mergeObjectSync(t,s)}get shape(){return this._def.shape()}strict(e){return s.errToObj,new eu({...this._def,unknownKeys:"strict",...void 0!==e?{errorMap:(t,r)=>{let n=this._def.errorMap?.(t,r).message??r.defaultError;return"unrecognized_keys"===t.code?{message:s.errToObj(e).message??n}:{message:n}}}:{}})}strip(){return new eu({...this._def,unknownKeys:"strip"})}passthrough(){return new eu({...this._def,unknownKeys:"passthrough"})}extend(e){return new eu({...this._def,shape:()=>({...this._def.shape(),...e})})}merge(e){return new eu({unknownKeys:e._def.unknownKeys,catchall:e._def.catchall,shape:()=>({...this._def.shape(),...e._def.shape()}),typeName:o.ZodObject})}setKey(e,t){return this.augment({[e]:t})}catchall(e){return new eu({...this._def,catchall:e})}pick(e){let t={};for(let r of i.objectKeys(e))e[r]&&this.shape[r]&&(t[r]=this.shape[r]);return new eu({...this._def,shape:()=>t})}omit(e){let t={};for(let r of i.objectKeys(this.shape))e[r]||(t[r]=this.shape[r]);return new eu({...this._def,shape:()=>t})}deepPartial(){return function e(t){if(t instanceof eu){let r={};for(let n in t.shape){let i=t.shape[n];r[n]=eT.create(e(i))}return new eu({...t._def,shape:()=>r})}if(t instanceof el)return new el({...t._def,type:e(t.element)});if(t instanceof eT)return eT.create(e(t.unwrap()));if(t instanceof eR)return eR.create(e(t.unwrap()));if(t instanceof em)return em.create(t.items.map(t=>e(t)));else return t}(this)}partial(e){let t={};for(let r of i.objectKeys(this.shape)){let n=this.shape[r];e&&!e[r]?t[r]=n:t[r]=n.optional()}return new eu({...this._def,shape:()=>t})}required(e){let t={};for(let r of i.objectKeys(this.shape))if(e&&!e[r])t[r]=this.shape[r];else{let e=this.shape[r];for(;e instanceof eT;)e=e._def.innerType;t[r]=e}return new eu({...this._def,shape:()=>t})}keyof(){return ek(i.objectKeys(this.shape))}}eu.create=(e,t)=>new eu({shape:()=>e,unknownKeys:"strip",catchall:eo.create(),typeName:o.ZodObject,...C(t)}),eu.strictCreate=(e,t)=>new eu({shape:()=>e,unknownKeys:"strict",catchall:eo.create(),typeName:o.ZodObject,...C(t)}),eu.lazycreate=(e,t)=>new eu({shape:e,unknownKeys:"strip",catchall:eo.create(),typeName:o.ZodObject,...C(t)});class ed extends j{_parse(e){let{ctx:t}=this._processInputParams(e),r=this._def.options;if(t.common.async)return Promise.all(r.map(async e=>{let r={...t,common:{...t.common,issues:[]},parent:null};return{result:await e._parseAsync({data:t.data,path:t.path,parent:r}),ctx:r}})).then(function(e){for(let t of e)if("valid"===t.result.status)return t.result;for(let r of e)if("dirty"===r.result.status)return t.common.issues.push(...r.ctx.common.issues),r.result;let r=e.map(e=>new h(e.ctx.common.issues));return _(t,{code:d.invalid_union,unionErrors:r}),k});{let e,n=[];for(let i of r){let r={...t,common:{...t.common,issues:[]},parent:null},a=i._parseSync({data:t.data,path:t.path,parent:r});if("valid"===a.status)return a;"dirty"!==a.status||e||(e={result:a,ctx:r}),r.common.issues.length&&n.push(r.common.issues)}if(e)return t.common.issues.push(...e.ctx.common.issues),e.result;let i=n.map(e=>new h(e));return _(t,{code:d.invalid_union,unionErrors:i}),k}}get options(){return this._def.options}}ed.create=(e,t)=>new ed({options:e,typeName:o.ZodUnion,...C(t)});let ep=e=>{if(e instanceof e_)return ep(e.schema);if(e instanceof eS)return ep(e.innerType());if(e instanceof ev)return[e.value];if(e instanceof ex)return e.options;if(e instanceof eE)return i.objectValues(e.enum);else if(e instanceof eO)return ep(e._def.innerType);else if(e instanceof en)return[void 0];else if(e instanceof ei)return[null];else if(e instanceof eT)return[void 0,...ep(e.unwrap())];else if(e instanceof eR)return[null,...ep(e.unwrap())];else if(e instanceof eU)return ep(e.unwrap());else if(e instanceof e$)return ep(e.unwrap());else if(e instanceof eP)return ep(e._def.innerType);else return[]};class eh extends j{_parse(e){let{ctx:t}=this._processInputParams(e);if(t.parsedType!==l.object)return _(t,{code:d.invalid_type,expected:l.object,received:t.parsedType}),k;let r=this.discriminator,n=t.data[r],i=this.optionsMap.get(n);return i?t.common.async?i._parseAsync({data:t.data,path:t.path,parent:t}):i._parseSync({data:t.data,path:t.path,parent:t}):(_(t,{code:d.invalid_union_discriminator,options:Array.from(this.optionsMap.keys()),path:[r]}),k)}get discriminator(){return this._def.discriminator}get options(){return this._def.options}get optionsMap(){return this._def.optionsMap}static create(e,t,r){let n=new Map;for(let r of t){let t=ep(r.shape[e]);if(!t.length)throw Error(`A discriminator value for key \`${e}\` could not be extracted from all schema options`);for(let i of t){if(n.has(i))throw Error(`Discriminator property ${String(e)} has duplicate value ${String(i)}`);n.set(i,r)}}return new eh({typeName:o.ZodDiscriminatedUnion,discriminator:e,options:t,optionsMap:n,...C(r)})}}class ef extends j{_parse(e){let{status:t,ctx:r}=this._processInputParams(e),n=(e,n)=>{if(A(e)||A(n))return k;let a=function e(t,r){let n=u(t),a=u(r);if(t===r)return{valid:!0,data:t};if(n===l.object&&a===l.object){let n=i.objectKeys(r),a=i.objectKeys(t).filter(e=>-1!==n.indexOf(e)),s={...t,...r};for(let n of a){let i=e(t[n],r[n]);if(!i.valid)return{valid:!1};s[n]=i.data}return{valid:!0,data:s}}if(n===l.array&&a===l.array){if(t.length!==r.length)return{valid:!1};let n=[];for(let i=0;i<t.length;i++){let a=e(t[i],r[i]);if(!a.valid)return{valid:!1};n.push(a.data)}return{valid:!0,data:n}}if(n===l.date&&a===l.date&&+t==+r)return{valid:!0,data:t};return{valid:!1}}(e.value,n.value);return a.valid?((S(e)||S(n))&&t.dirty(),{status:t.value,value:a.data}):(_(r,{code:d.invalid_intersection_types}),k)};return r.common.async?Promise.all([this._def.left._parseAsync({data:r.data,path:r.path,parent:r}),this._def.right._parseAsync({data:r.data,path:r.path,parent:r})]).then(([e,t])=>n(e,t)):n(this._def.left._parseSync({data:r.data,path:r.path,parent:r}),this._def.right._parseSync({data:r.data,path:r.path,parent:r}))}}ef.create=(e,t,r)=>new ef({left:e,right:t,typeName:o.ZodIntersection,...C(r)});class em extends j{_parse(e){let{status:t,ctx:r}=this._processInputParams(e);if(r.parsedType!==l.array)return _(r,{code:d.invalid_type,expected:l.array,received:r.parsedType}),k;if(r.data.length<this._def.items.length)return _(r,{code:d.too_small,minimum:this._def.items.length,inclusive:!0,exact:!1,type:"array"}),k;!this._def.rest&&r.data.length>this._def.items.length&&(_(r,{code:d.too_big,maximum:this._def.items.length,inclusive:!0,exact:!1,type:"array"}),t.dirty());let n=[...r.data].map((e,t)=>{let n=this._def.items[t]||this._def.rest;return n?n._parse(new O(r,e,r.path,t)):null}).filter(e=>!!e);return r.common.async?Promise.all(n).then(e=>v.mergeArray(t,e)):v.mergeArray(t,n)}get items(){return this._def.items}rest(e){return new em({...this._def,rest:e})}}em.create=(e,t)=>{if(!Array.isArray(e))throw Error("You must pass an array of schemas to z.tuple([ ... ])");return new em({items:e,typeName:o.ZodTuple,rest:null,...C(t)})};class ey extends j{get keySchema(){return this._def.keyType}get valueSchema(){return this._def.valueType}_parse(e){let{status:t,ctx:r}=this._processInputParams(e);if(r.parsedType!==l.object)return _(r,{code:d.invalid_type,expected:l.object,received:r.parsedType}),k;let n=[],i=this._def.keyType,a=this._def.valueType;for(let e in r.data)n.push({key:i._parse(new O(r,e,r.path,e)),value:a._parse(new O(r,r.data[e],r.path,e)),alwaysSet:e in r.data});return r.common.async?v.mergeObjectAsync(t,n):v.mergeObjectSync(t,n)}get element(){return this._def.valueType}static create(e,t,r){return new ey(t instanceof j?{keyType:e,valueType:t,typeName:o.ZodRecord,...C(r)}:{keyType:X.create(),valueType:e,typeName:o.ZodRecord,...C(t)})}}class eg extends j{get keySchema(){return this._def.keyType}get valueSchema(){return this._def.valueType}_parse(e){let{status:t,ctx:r}=this._processInputParams(e);if(r.parsedType!==l.map)return _(r,{code:d.invalid_type,expected:l.map,received:r.parsedType}),k;let n=this._def.keyType,i=this._def.valueType,a=[...r.data.entries()].map(([e,t],a)=>({key:n._parse(new O(r,e,r.path,[a,"key"])),value:i._parse(new O(r,t,r.path,[a,"value"]))}));if(r.common.async){let e=new Map;return Promise.resolve().then(async()=>{for(let r of a){let n=await r.key,i=await r.value;if("aborted"===n.status||"aborted"===i.status)return k;("dirty"===n.status||"dirty"===i.status)&&t.dirty(),e.set(n.value,i.value)}return{status:t.value,value:e}})}{let e=new Map;for(let r of a){let n=r.key,i=r.value;if("aborted"===n.status||"aborted"===i.status)return k;("dirty"===n.status||"dirty"===i.status)&&t.dirty(),e.set(n.value,i.value)}return{status:t.value,value:e}}}}eg.create=(e,t,r)=>new eg({valueType:t,keyType:e,typeName:o.ZodMap,...C(r)});class eb extends j{_parse(e){let{status:t,ctx:r}=this._processInputParams(e);if(r.parsedType!==l.set)return _(r,{code:d.invalid_type,expected:l.set,received:r.parsedType}),k;let n=this._def;null!==n.minSize&&r.data.size<n.minSize.value&&(_(r,{code:d.too_small,minimum:n.minSize.value,type:"set",inclusive:!0,exact:!1,message:n.minSize.message}),t.dirty()),null!==n.maxSize&&r.data.size>n.maxSize.value&&(_(r,{code:d.too_big,maximum:n.maxSize.value,type:"set",inclusive:!0,exact:!1,message:n.maxSize.message}),t.dirty());let i=this._def.valueType;function a(e){let r=new Set;for(let n of e){if("aborted"===n.status)return k;"dirty"===n.status&&t.dirty(),r.add(n.value)}return{status:t.value,value:r}}let s=[...r.data.values()].map((e,t)=>i._parse(new O(r,e,r.path,t)));return r.common.async?Promise.all(s).then(e=>a(e)):a(s)}min(e,t){return new eb({...this._def,minSize:{value:e,message:s.toString(t)}})}max(e,t){return new eb({...this._def,maxSize:{value:e,message:s.toString(t)}})}size(e,t){return this.min(e,t).max(e,t)}nonempty(e){return this.min(1,e)}}eb.create=(e,t)=>new eb({valueType:e,minSize:null,maxSize:null,typeName:o.ZodSet,...C(t)});class ew extends j{constructor(){super(...arguments),this.validate=this.implement}_parse(e){let{ctx:t}=this._processInputParams(e);if(t.parsedType!==l.function)return _(t,{code:d.invalid_type,expected:l.function,received:t.parsedType}),k;function r(e,r){return b({data:e,path:t.path,errorMaps:[t.common.contextualErrorMap,t.schemaErrorMap,m,f].filter(e=>!!e),issueData:{code:d.invalid_arguments,argumentsError:r}})}function n(e,r){return b({data:e,path:t.path,errorMaps:[t.common.contextualErrorMap,t.schemaErrorMap,m,f].filter(e=>!!e),issueData:{code:d.invalid_return_type,returnTypeError:r}})}let i={errorMap:t.common.contextualErrorMap},a=t.data;if(this._def.returns instanceof eA){let e=this;return E(async function(...t){let s=new h([]),o=await e._def.args.parseAsync(t,i).catch(e=>{throw s.addIssue(r(t,e)),s}),c=await Reflect.apply(a,this,o);return await e._def.returns._def.type.parseAsync(c,i).catch(e=>{throw s.addIssue(n(c,e)),s})})}{let e=this;return E(function(...t){let s=e._def.args.safeParse(t,i);if(!s.success)throw new h([r(t,s.error)]);let o=Reflect.apply(a,this,s.data),c=e._def.returns.safeParse(o,i);if(!c.success)throw new h([n(o,c.error)]);return c.data})}}parameters(){return this._def.args}returnType(){return this._def.returns}args(...e){return new ew({...this._def,args:em.create(e).rest(es.create())})}returns(e){return new ew({...this._def,returns:e})}implement(e){return this.parse(e)}strictImplement(e){return this.parse(e)}static create(e,t,r){return new ew({args:e||em.create([]).rest(es.create()),returns:t||es.create(),typeName:o.ZodFunction,...C(r)})}}class e_ extends j{get schema(){return this._def.getter()}_parse(e){let{ctx:t}=this._processInputParams(e);return this._def.getter()._parse({data:t.data,path:t.path,parent:t})}}e_.create=(e,t)=>new e_({getter:e,typeName:o.ZodLazy,...C(t)});class ev extends j{_parse(e){if(e.data!==this._def.value){let t=this._getOrReturnCtx(e);return _(t,{received:t.data,code:d.invalid_literal,expected:this._def.value}),k}return{status:"valid",value:e.data}}get value(){return this._def.value}}function ek(e,t){return new ex({values:e,typeName:o.ZodEnum,...C(t)})}ev.create=(e,t)=>new ev({value:e,typeName:o.ZodLiteral,...C(t)});class ex extends j{_parse(e){if("string"!=typeof e.data){let t=this._getOrReturnCtx(e),r=this._def.values;return _(t,{expected:i.joinValues(r),received:t.parsedType,code:d.invalid_type}),k}if(this._cache||(this._cache=new Set(this._def.values)),!this._cache.has(e.data)){let t=this._getOrReturnCtx(e),r=this._def.values;return _(t,{received:t.data,code:d.invalid_enum_value,options:r}),k}return E(e.data)}get options(){return this._def.values}get enum(){let e={};for(let t of this._def.values)e[t]=t;return e}get Values(){let e={};for(let t of this._def.values)e[t]=t;return e}get Enum(){let e={};for(let t of this._def.values)e[t]=t;return e}extract(e,t=this._def){return ex.create(e,{...this._def,...t})}exclude(e,t=this._def){return ex.create(this.options.filter(t=>!e.includes(t)),{...this._def,...t})}}ex.create=ek;class eE extends j{_parse(e){let t=i.getValidEnumValues(this._def.values),r=this._getOrReturnCtx(e);if(r.parsedType!==l.string&&r.parsedType!==l.number){let e=i.objectValues(t);return _(r,{expected:i.joinValues(e),received:r.parsedType,code:d.invalid_type}),k}if(this._cache||(this._cache=new Set(i.getValidEnumValues(this._def.values))),!this._cache.has(e.data)){let e=i.objectValues(t);return _(r,{received:r.data,code:d.invalid_enum_value,options:e}),k}return E(e.data)}get enum(){return this._def.values}}eE.create=(e,t)=>new eE({values:e,typeName:o.ZodNativeEnum,...C(t)});class eA extends j{unwrap(){return this._def.type}_parse(e){let{ctx:t}=this._processInputParams(e);return t.parsedType!==l.promise&&!1===t.common.async?(_(t,{code:d.invalid_type,expected:l.promise,received:t.parsedType}),k):E((t.parsedType===l.promise?t.data:Promise.resolve(t.data)).then(e=>this._def.type.parseAsync(e,{path:t.path,errorMap:t.common.contextualErrorMap})))}}eA.create=(e,t)=>new eA({type:e,typeName:o.ZodPromise,...C(t)});class eS extends j{innerType(){return this._def.schema}sourceType(){return this._def.schema._def.typeName===o.ZodEffects?this._def.schema.sourceType():this._def.schema}_parse(e){let{status:t,ctx:r}=this._processInputParams(e),n=this._def.effect||null,a={addIssue:e=>{_(r,e),e.fatal?t.abort():t.dirty()},get path(){return r.path}};if(a.addIssue=a.addIssue.bind(a),"preprocess"===n.type){let e=n.transform(r.data,a);if(r.common.async)return Promise.resolve(e).then(async e=>{if("aborted"===t.value)return k;let n=await this._def.schema._parseAsync({data:e,path:r.path,parent:r});return"aborted"===n.status?k:"dirty"===n.status||"dirty"===t.value?x(n.value):n});{if("aborted"===t.value)return k;let n=this._def.schema._parseSync({data:e,path:r.path,parent:r});return"aborted"===n.status?k:"dirty"===n.status||"dirty"===t.value?x(n.value):n}}if("refinement"===n.type){let e=e=>{let t=n.refinement(e,a);if(r.common.async)return Promise.resolve(t);if(t instanceof Promise)throw Error("Async refinement encountered during synchronous parse operation. Use .parseAsync instead.");return e};if(!1!==r.common.async)return this._def.schema._parseAsync({data:r.data,path:r.path,parent:r}).then(r=>"aborted"===r.status?k:("dirty"===r.status&&t.dirty(),e(r.value).then(()=>({status:t.value,value:r.value}))));{let n=this._def.schema._parseSync({data:r.data,path:r.path,parent:r});return"aborted"===n.status?k:("dirty"===n.status&&t.dirty(),e(n.value),{status:t.value,value:n.value})}}if("transform"===n.type)if(!1!==r.common.async)return this._def.schema._parseAsync({data:r.data,path:r.path,parent:r}).then(e=>T(e)?Promise.resolve(n.transform(e.value,a)).then(e=>({status:t.value,value:e})):k);else{let e=this._def.schema._parseSync({data:r.data,path:r.path,parent:r});if(!T(e))return k;let i=n.transform(e.value,a);if(i instanceof Promise)throw Error("Asynchronous transform encountered during synchronous parse operation. Use .parseAsync instead.");return{status:t.value,value:i}}i.assertNever(n)}}eS.create=(e,t,r)=>new eS({schema:e,typeName:o.ZodEffects,effect:t,...C(r)}),eS.createWithPreprocess=(e,t,r)=>new eS({schema:t,effect:{type:"preprocess",transform:e},typeName:o.ZodEffects,...C(r)});class eT extends j{_parse(e){return this._getType(e)===l.undefined?E(void 0):this._def.innerType._parse(e)}unwrap(){return this._def.innerType}}eT.create=(e,t)=>new eT({innerType:e,typeName:o.ZodOptional,...C(t)});class eR extends j{_parse(e){return this._getType(e)===l.null?E(null):this._def.innerType._parse(e)}unwrap(){return this._def.innerType}}eR.create=(e,t)=>new eR({innerType:e,typeName:o.ZodNullable,...C(t)});class eO extends j{_parse(e){let{ctx:t}=this._processInputParams(e),r=t.data;return t.parsedType===l.undefined&&(r=this._def.defaultValue()),this._def.innerType._parse({data:r,path:t.path,parent:t})}removeDefault(){return this._def.innerType}}eO.create=(e,t)=>new eO({innerType:e,typeName:o.ZodDefault,defaultValue:"function"==typeof t.default?t.default:()=>t.default,...C(t)});class eP extends j{_parse(e){let{ctx:t}=this._processInputParams(e),r={...t,common:{...t.common,issues:[]}},n=this._def.innerType._parse({data:r.data,path:r.path,parent:{...r}});return R(n)?n.then(e=>({status:"valid",value:"valid"===e.status?e.value:this._def.catchValue({get error(){return new h(r.common.issues)},input:r.data})})):{status:"valid",value:"valid"===n.status?n.value:this._def.catchValue({get error(){return new h(r.common.issues)},input:r.data})}}removeCatch(){return this._def.innerType}}eP.create=(e,t)=>new eP({innerType:e,typeName:o.ZodCatch,catchValue:"function"==typeof t.catch?t.catch:()=>t.catch,...C(t)});class eC extends j{_parse(e){if(this._getType(e)!==l.nan){let t=this._getOrReturnCtx(e);return _(t,{code:d.invalid_type,expected:l.nan,received:t.parsedType}),k}return{status:"valid",value:e.data}}}eC.create=e=>new eC({typeName:o.ZodNaN,...C(e)});let ej=Symbol("zod_brand");class eU extends j{_parse(e){let{ctx:t}=this._processInputParams(e),r=t.data;return this._def.type._parse({data:r,path:t.path,parent:t})}unwrap(){return this._def.type}}class eI extends j{_parse(e){let{status:t,ctx:r}=this._processInputParams(e);if(r.common.async)return(async()=>{let e=await this._def.in._parseAsync({data:r.data,path:r.path,parent:r});return"aborted"===e.status?k:"dirty"===e.status?(t.dirty(),x(e.value)):this._def.out._parseAsync({data:e.value,path:r.path,parent:r})})();{let e=this._def.in._parseSync({data:r.data,path:r.path,parent:r});return"aborted"===e.status?k:"dirty"===e.status?(t.dirty(),{status:"dirty",value:e.value}):this._def.out._parseSync({data:e.value,path:r.path,parent:r})}}static create(e,t){return new eI({in:e,out:t,typeName:o.ZodPipeline})}}class e$ extends j{_parse(e){let t=this._def.innerType._parse(e),r=e=>(T(e)&&(e.value=Object.freeze(e.value)),e);return R(t)?t.then(e=>r(e)):r(t)}unwrap(){return this._def.innerType}}function eN(e,t){let r="function"==typeof e?e(t):"string"==typeof e?{message:e}:e;return"string"==typeof r?{message:r}:r}function eD(e,t={},r){return e?ea.create().superRefine((n,i)=>{let a=e(n);if(a instanceof Promise)return a.then(e=>{if(!e){let e=eN(t,n),a=e.fatal??r??!0;i.addIssue({code:"custom",...e,fatal:a})}});if(!a){let e=eN(t,n),a=e.fatal??r??!0;i.addIssue({code:"custom",...e,fatal:a})}}):ea.create()}e$.create=(e,t)=>new e$({innerType:e,typeName:o.ZodReadonly,...C(t)});let eH={object:eu.lazycreate};!function(e){e.ZodString="ZodString",e.ZodNumber="ZodNumber",e.ZodNaN="ZodNaN",e.ZodBigInt="ZodBigInt",e.ZodBoolean="ZodBoolean",e.ZodDate="ZodDate",e.ZodSymbol="ZodSymbol",e.ZodUndefined="ZodUndefined",e.ZodNull="ZodNull",e.ZodAny="ZodAny",e.ZodUnknown="ZodUnknown",e.ZodNever="ZodNever",e.ZodVoid="ZodVoid",e.ZodArray="ZodArray",e.ZodObject="ZodObject",e.ZodUnion="ZodUnion",e.ZodDiscriminatedUnion="ZodDiscriminatedUnion",e.ZodIntersection="ZodIntersection",e.ZodTuple="ZodTuple",e.ZodRecord="ZodRecord",e.ZodMap="ZodMap",e.ZodSet="ZodSet",e.ZodFunction="ZodFunction",e.ZodLazy="ZodLazy",e.ZodLiteral="ZodLiteral",e.ZodEnum="ZodEnum",e.ZodEffects="ZodEffects",e.ZodNativeEnum="ZodNativeEnum",e.ZodOptional="ZodOptional",e.ZodNullable="ZodNullable",e.ZodDefault="ZodDefault",e.ZodCatch="ZodCatch",e.ZodPromise="ZodPromise",e.ZodBranded="ZodBranded",e.ZodPipeline="ZodPipeline",e.ZodReadonly="ZodReadonly"}(o||(o={}));let eL=(e,t={message:`Input not instance of ${e.name}`})=>eD(t=>t instanceof e,t),eM=X.create,eW=Y.create,eK=eC.create,eZ=Q.create,eJ=ee.create,eq=et.create,ez=er.create,eF=en.create,eB=ei.create,eV=ea.create,eG=es.create,eX=eo.create,eY=ec.create,eQ=el.create,e0=eu.create,e1=eu.strictCreate,e2=ed.create,e4=eh.create,e5=ef.create,e3=em.create,e6=ey.create,e9=eg.create,e8=eb.create,e7=ew.create,te=e_.create,tt=ev.create,tr=ex.create,tn=eE.create,ti=eA.create,ta=eS.create,ts=eT.create,to=eR.create,tc=eS.createWithPreprocess,tl=eI.create,tu=()=>eM().optional(),td=()=>eW().optional(),tp=()=>eJ().optional(),th={string:e=>X.create({...e,coerce:!0}),number:e=>Y.create({...e,coerce:!0}),boolean:e=>ee.create({...e,coerce:!0}),bigint:e=>Q.create({...e,coerce:!0}),date:e=>et.create({...e,coerce:!0})},tf=k},6280:(e,t,r)=>{"use strict";Object.defineProperty(t,"b",{enumerable:!0,get:function(){return d}});let n=r(2584),i=r(9294),a=r(3033),s=r(4971),o=r(23),c=r(8388),l=r(6926),u=(r(4523),r(8719));function d(){let e=i.workAsyncStorage.getStore(),t=a.workUnitAsyncStorage.getStore();if(e){if(t&&"after"===t.phase&&!(0,u.isRequestAPICallableInsideAfter)())throw Object.defineProperty(Error(`Route ${e.route} used "headers" inside "after(...)". This is not supported. If you need this data inside an "after" callback, use "headers" outside of the callback. See more info here: https://nextjs.org/docs/canary/app/api-reference/functions/after`),"__NEXT_ERROR_CODE",{value:"E367",enumerable:!1,configurable:!0});if(e.forceStatic)return h(n.HeadersAdapter.seal(new Headers({})));if(t){if("cache"===t.type)throw Object.defineProperty(Error(`Route ${e.route} used "headers" inside "use cache". Accessing Dynamic data sources inside a cache scope is not supported. If you need this data inside a cached function use "headers" outside of the cached function and pass the required dynamic data in as an argument. See more info here: https://nextjs.org/docs/messages/next-request-in-use-cache`),"__NEXT_ERROR_CODE",{value:"E304",enumerable:!1,configurable:!0});else if("unstable-cache"===t.type)throw Object.defineProperty(Error(`Route ${e.route} used "headers" inside a function cached with "unstable_cache(...)". Accessing Dynamic data sources inside a cache scope is not supported. If you need this data inside a cached function use "headers" outside of the cached function and pass the required dynamic data in as an argument. See more info here: https://nextjs.org/docs/app/api-reference/functions/unstable_cache`),"__NEXT_ERROR_CODE",{value:"E127",enumerable:!1,configurable:!0})}if(e.dynamicShouldError)throw Object.defineProperty(new o.StaticGenBailoutError(`Route ${e.route} with \`dynamic = "error"\` couldn't be rendered statically because it used \`headers\`. See more info here: https://nextjs.org/docs/app/building-your-application/rendering/static-and-dynamic#dynamic-rendering`),"__NEXT_ERROR_CODE",{value:"E525",enumerable:!1,configurable:!0});if(t)if("prerender"===t.type){var r=e.route,l=t;let n=p.get(l);if(n)return n;let i=(0,c.makeHangingPromise)(l.renderSignal,"`headers()`");return p.set(l,i),Object.defineProperties(i,{append:{value:function(){let e=`\`headers().append(${f(arguments[0])}, ...)\``,t=y(r,e);(0,s.abortAndThrowOnSynchronousRequestDataAccess)(r,e,t,l)}},delete:{value:function(){let e=`\`headers().delete(${f(arguments[0])})\``,t=y(r,e);(0,s.abortAndThrowOnSynchronousRequestDataAccess)(r,e,t,l)}},get:{value:function(){let e=`\`headers().get(${f(arguments[0])})\``,t=y(r,e);(0,s.abortAndThrowOnSynchronousRequestDataAccess)(r,e,t,l)}},has:{value:function(){let e=`\`headers().has(${f(arguments[0])})\``,t=y(r,e);(0,s.abortAndThrowOnSynchronousRequestDataAccess)(r,e,t,l)}},set:{value:function(){let e=`\`headers().set(${f(arguments[0])}, ...)\``,t=y(r,e);(0,s.abortAndThrowOnSynchronousRequestDataAccess)(r,e,t,l)}},getSetCookie:{value:function(){let e="`headers().getSetCookie()`",t=y(r,e);(0,s.abortAndThrowOnSynchronousRequestDataAccess)(r,e,t,l)}},forEach:{value:function(){let e="`headers().forEach(...)`",t=y(r,e);(0,s.abortAndThrowOnSynchronousRequestDataAccess)(r,e,t,l)}},keys:{value:function(){let e="`headers().keys()`",t=y(r,e);(0,s.abortAndThrowOnSynchronousRequestDataAccess)(r,e,t,l)}},values:{value:function(){let e="`headers().values()`",t=y(r,e);(0,s.abortAndThrowOnSynchronousRequestDataAccess)(r,e,t,l)}},entries:{value:function(){let e="`headers().entries()`",t=y(r,e);(0,s.abortAndThrowOnSynchronousRequestDataAccess)(r,e,t,l)}},[Symbol.iterator]:{value:function(){let e="`headers()[Symbol.iterator]()`",t=y(r,e);(0,s.abortAndThrowOnSynchronousRequestDataAccess)(r,e,t,l)}}}),i}else"prerender-ppr"===t.type?(0,s.postponeWithTracking)(e.route,"headers",t.dynamicTracking):"prerender-legacy"===t.type&&(0,s.throwToInterruptStaticGeneration)("headers",e,t);(0,s.trackDynamicDataInDynamicRender)(e,t)}return h((0,a.getExpectedRequestStore)("headers").headers)}let p=new WeakMap;function h(e){let t=p.get(e);if(t)return t;let r=Promise.resolve(e);return p.set(e,r),Object.defineProperties(r,{append:{value:e.append.bind(e)},delete:{value:e.delete.bind(e)},get:{value:e.get.bind(e)},has:{value:e.has.bind(e)},set:{value:e.set.bind(e)},getSetCookie:{value:e.getSetCookie.bind(e)},forEach:{value:e.forEach.bind(e)},keys:{value:e.keys.bind(e)},values:{value:e.values.bind(e)},entries:{value:e.entries.bind(e)},[Symbol.iterator]:{value:e[Symbol.iterator].bind(e)}}),r}function f(e){return"string"==typeof e?`'${e}'`:"..."}let m=(0,l.createDedupedByCallsiteServerErrorLoggerDev)(y);function y(e,t){let r=e?`Route "${e}" `:"This route ";return Object.defineProperty(Error(`${r}used ${t}. \`headers()\` should be awaited before using its value. Learn more: https://nextjs.org/docs/messages/sync-dynamic-apis`),"__NEXT_ERROR_CODE",{value:"E277",enumerable:!1,configurable:!0})}},6294:(e,t,r)=>{"use strict";let n=r(3033),i=r(9294),a=r(4971),s=r(6926),o=r(23),c=r(8479);function l(){let e=i.workAsyncStorage.getStore(),t=n.workUnitAsyncStorage.getStore();switch((!e||!t)&&(0,n.throwForMissingRequestStore)("draftMode"),t.type){case"request":return u(t.draftMode,e);case"cache":case"unstable-cache":let r=(0,n.getDraftModeProviderForCacheScope)(e,t);if(r)return u(r,e);case"prerender":case"prerender-ppr":case"prerender-legacy":return p(null);default:return t}}function u(e,t){let r,n=d.get(l);return n||(r=p(e),d.set(e,r),r)}let d=new WeakMap;function p(e){let t=new h(e),r=Promise.resolve(t);return Object.defineProperty(r,"isEnabled",{get:()=>t.isEnabled,set(e){Object.defineProperty(r,"isEnabled",{value:e,writable:!0,enumerable:!0})},enumerable:!0,configurable:!0}),r.enable=t.enable.bind(t),r.disable=t.disable.bind(t),r}class h{constructor(e){this._provider=e}get isEnabled(){return null!==this._provider&&this._provider.isEnabled}enable(){m("draftMode().enable()"),null!==this._provider&&this._provider.enable()}disable(){m("draftMode().disable()"),null!==this._provider&&this._provider.disable()}}let f=(0,s.createDedupedByCallsiteServerErrorLoggerDev)(function(e,t){let r=e?`Route "${e}" `:"This route ";return Object.defineProperty(Error(`${r}used ${t}. \`draftMode()\` should be awaited before using its value. Learn more: https://nextjs.org/docs/messages/sync-dynamic-apis`),"__NEXT_ERROR_CODE",{value:"E377",enumerable:!1,configurable:!0})});function m(e){let t=i.workAsyncStorage.getStore(),r=n.workUnitAsyncStorage.getStore();if(t){if(r){if("cache"===r.type)throw Object.defineProperty(Error(`Route ${t.route} used "${e}" inside "use cache". The enabled status of draftMode can be read in caches but you must not enable or disable draftMode inside a cache. See more info here: https://nextjs.org/docs/messages/next-request-in-use-cache`),"__NEXT_ERROR_CODE",{value:"E246",enumerable:!1,configurable:!0});else if("unstable-cache"===r.type)throw Object.defineProperty(Error(`Route ${t.route} used "${e}" inside a function cached with "unstable_cache(...)". The enabled status of draftMode can be read in caches but you must not enable or disable draftMode inside a cache. See more info here: https://nextjs.org/docs/app/api-reference/functions/unstable_cache`),"__NEXT_ERROR_CODE",{value:"E259",enumerable:!1,configurable:!0});else if("after"===r.phase)throw Object.defineProperty(Error(`Route ${t.route} used "${e}" inside \`after\`. The enabled status of draftMode can be read inside \`after\` but you cannot enable or disable draftMode. See more info here: https://nextjs.org/docs/app/api-reference/functions/after`),"__NEXT_ERROR_CODE",{value:"E348",enumerable:!1,configurable:!0})}if(t.dynamicShouldError)throw Object.defineProperty(new o.StaticGenBailoutError(`Route ${t.route} with \`dynamic = "error"\` couldn't be rendered statically because it used \`${e}\`. See more info here: https://nextjs.org/docs/app/building-your-application/rendering/static-and-dynamic#dynamic-rendering`),"__NEXT_ERROR_CODE",{value:"E553",enumerable:!1,configurable:!0});if(r){if("prerender"===r.type){let n=Object.defineProperty(Error(`Route ${t.route} used ${e} without first calling \`await connection()\`. See more info here: https://nextjs.org/docs/messages/next-prerender-sync-headers`),"__NEXT_ERROR_CODE",{value:"E126",enumerable:!1,configurable:!0});(0,a.abortAndThrowOnSynchronousRequestDataAccess)(t.route,e,n,r)}else if("prerender-ppr"===r.type)(0,a.postponeWithTracking)(t.route,e,r.dynamicTracking);else if("prerender-legacy"===r.type){r.revalidate=0;let n=Object.defineProperty(new c.DynamicServerError(`Route ${t.route} couldn't be rendered statically because it used \`${e}\`. See more info here: https://nextjs.org/docs/messages/dynamic-server-error`),"__NEXT_ERROR_CODE",{value:"E558",enumerable:!1,configurable:!0});throw t.dynamicUsageDescription=e,t.dynamicUsageStack=n.stack,n}}}}},6467:(e,t,r)=>{"use strict";function n(e){return{createUser:({id:t,...r})=>e.user.create(i(r)),getUser:t=>e.user.findUnique({where:{id:t}}),getUserByEmail:t=>e.user.findUnique({where:{email:t}}),async getUserByAccount(t){let r=await e.account.findUnique({where:{provider_providerAccountId:t},include:{user:!0}});return r?.user??null},updateUser:({id:t,...r})=>e.user.update({where:{id:t},...i(r)}),deleteUser:t=>e.user.delete({where:{id:t}}),linkAccount:t=>e.account.create({data:t}),unlinkAccount:t=>e.account.delete({where:{provider_providerAccountId:t}}),async getSessionAndUser(t){let r=await e.session.findUnique({where:{sessionToken:t},include:{user:!0}});if(!r)return null;let{user:n,...i}=r;return{user:n,session:i}},createSession:t=>e.session.create(i(t)),updateSession:t=>e.session.update({where:{sessionToken:t.sessionToken},...i(t)}),deleteSession:t=>e.session.delete({where:{sessionToken:t}}),async createVerificationToken(t){let r=await e.verificationToken.create(i(t));return"id"in r&&r.id&&delete r.id,r},async useVerificationToken(t){try{let r=await e.verificationToken.delete({where:{identifier_token:t}});return"id"in r&&r.id&&delete r.id,r}catch(e){if(e&&"object"==typeof e&&"code"in e&&"P2025"===e.code)return null;throw e}},getAccount:async(t,r)=>e.account.findFirst({where:{providerAccountId:t,provider:r}}),createAuthenticator:async t=>e.authenticator.create(i(t)),getAuthenticator:async t=>e.authenticator.findUnique({where:{credentialID:t}}),listAuthenticatorsByUserId:async t=>e.authenticator.findMany({where:{userId:t}}),updateAuthenticatorCounter:async(t,r)=>e.authenticator.update({where:{credentialID:t},data:{counter:r}})}}function i(e){let t={};for(let r in e)void 0!==e[r]&&(t[r]=e[r]);return{data:t}}r.d(t,{y:()=>n})},6897:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),!function(e,t){for(var r in t)Object.defineProperty(e,r,{enumerable:!0,get:t[r]})}(t,{getRedirectError:function(){return s},getRedirectStatusCodeFromError:function(){return d},getRedirectTypeFromError:function(){return u},getURLFromRedirectError:function(){return l},permanentRedirect:function(){return c},redirect:function(){return o}});let n=r(2836),i=r(9026),a=r(9121).actionAsyncStorage;function s(e,t,r){void 0===r&&(r=n.RedirectStatusCode.TemporaryRedirect);let a=Object.defineProperty(Error(i.REDIRECT_ERROR_CODE),"__NEXT_ERROR_CODE",{value:"E394",enumerable:!1,configurable:!0});return a.digest=i.REDIRECT_ERROR_CODE+";"+t+";"+e+";"+r+";",a}function o(e,t){var r;throw null!=t||(t=(null==a||null==(r=a.getStore())?void 0:r.isAction)?i.RedirectType.push:i.RedirectType.replace),s(e,t,n.RedirectStatusCode.TemporaryRedirect)}function c(e,t){throw void 0===t&&(t=i.RedirectType.replace),s(e,t,n.RedirectStatusCode.PermanentRedirect)}function l(e){return(0,i.isRedirectError)(e)?e.digest.split(";").slice(2,-2).join(";"):null}function u(e){if(!(0,i.isRedirectError)(e))throw Object.defineProperty(Error("Not a redirect error"),"__NEXT_ERROR_CODE",{value:"E260",enumerable:!1,configurable:!0});return e.digest.split(";",2)[1]}function d(e){if(!(0,i.isRedirectError)(e))throw Object.defineProperty(Error("Not a redirect error"),"__NEXT_ERROR_CODE",{value:"E260",enumerable:!1,configurable:!0});return Number(e.digest.split(";").at(-2))}("function"==typeof t.default||"object"==typeof t.default&&null!==t.default)&&void 0===t.default.__esModule&&(Object.defineProperty(t.default,"__esModule",{value:!0}),Object.assign(t.default,t),e.exports=t.default)},7252:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"after",{enumerable:!0,get:function(){return i}});let n=r(9294);function i(e){let t=n.workAsyncStorage.getStore();if(!t)throw Object.defineProperty(Error("`after` was called outside a request scope. Read more: https://nextjs.org/docs/messages/next-dynamic-api-wrong-context"),"__NEXT_ERROR_CODE",{value:"E468",enumerable:!1,configurable:!0});let{afterContext:r}=t;return r.after(e)}},7576:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),!function(e,t){for(var r in t)Object.defineProperty(e,r,{enumerable:!0,get:t[r]})}(t,{ReadonlyURLSearchParams:function(){return u},RedirectType:function(){return i.RedirectType},forbidden:function(){return s.forbidden},notFound:function(){return a.notFound},permanentRedirect:function(){return n.permanentRedirect},redirect:function(){return n.redirect},unauthorized:function(){return o.unauthorized},unstable_rethrow:function(){return c.unstable_rethrow}});let n=r(6897),i=r(9026),a=r(2765),s=r(8976),o=r(899),c=r(163);class l extends Error{constructor(){super("Method unavailable on `ReadonlyURLSearchParams`. Read more: https://nextjs.org/docs/app/api-reference/functions/use-search-params#updating-searchparams")}}class u extends URLSearchParams{append(){throw new l}delete(){throw new l}set(){throw new l}sort(){throw new l}}("function"==typeof t.default||"object"==typeof t.default&&null!==t.default)&&void 0===t.default.__esModule&&(Object.defineProperty(t.default,"__esModule",{value:!0}),Object.assign(t.default,t),e.exports=t.default)},8976:(e,t,r)=>{"use strict";function n(){throw Object.defineProperty(Error("`forbidden()` is experimental and only allowed to be enabled when `experimental.authInterrupts` is enabled."),"__NEXT_ERROR_CODE",{value:"E488",enumerable:!1,configurable:!0})}Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"forbidden",{enumerable:!0,get:function(){return n}}),r(8704).HTTP_ERROR_FALLBACK_ERROR_CODE,("function"==typeof t.default||"object"==typeof t.default&&null!==t.default)&&void 0===t.default.__esModule&&(Object.defineProperty(t.default,"__esModule",{value:!0}),Object.assign(t.default,t),e.exports=t.default)},9933:(e,t,r)=>{"use strict";Object.defineProperty(t,"U",{enumerable:!0,get:function(){return p}});let n=r(4069),i=r(3158),a=r(9294),s=r(3033),o=r(4971),c=r(23),l=r(8388),u=r(6926),d=(r(4523),r(8719));function p(){let e="cookies",t=a.workAsyncStorage.getStore(),r=s.workUnitAsyncStorage.getStore();if(t){if(r&&"after"===r.phase&&!(0,d.isRequestAPICallableInsideAfter)())throw Object.defineProperty(Error(`Route ${t.route} used "cookies" inside "after(...)". This is not supported. If you need this data inside an "after" callback, use "cookies" outside of the callback. See more info here: https://nextjs.org/docs/canary/app/api-reference/functions/after`),"__NEXT_ERROR_CODE",{value:"E88",enumerable:!1,configurable:!0});if(t.forceStatic)return f(n.RequestCookiesAdapter.seal(new i.RequestCookies(new Headers({}))));if(r){if("cache"===r.type)throw Object.defineProperty(Error(`Route ${t.route} used "cookies" inside "use cache". Accessing Dynamic data sources inside a cache scope is not supported. If you need this data inside a cached function use "cookies" outside of the cached function and pass the required dynamic data in as an argument. See more info here: https://nextjs.org/docs/messages/next-request-in-use-cache`),"__NEXT_ERROR_CODE",{value:"E398",enumerable:!1,configurable:!0});else if("unstable-cache"===r.type)throw Object.defineProperty(Error(`Route ${t.route} used "cookies" inside a function cached with "unstable_cache(...)". Accessing Dynamic data sources inside a cache scope is not supported. If you need this data inside a cached function use "cookies" outside of the cached function and pass the required dynamic data in as an argument. See more info here: https://nextjs.org/docs/app/api-reference/functions/unstable_cache`),"__NEXT_ERROR_CODE",{value:"E157",enumerable:!1,configurable:!0})}if(t.dynamicShouldError)throw Object.defineProperty(new c.StaticGenBailoutError(`Route ${t.route} with \`dynamic = "error"\` couldn't be rendered statically because it used \`cookies\`. See more info here: https://nextjs.org/docs/app/building-your-application/rendering/static-and-dynamic#dynamic-rendering`),"__NEXT_ERROR_CODE",{value:"E549",enumerable:!1,configurable:!0});if(r)if("prerender"===r.type){var u=t.route,p=r;let e=h.get(p);if(e)return e;let n=(0,l.makeHangingPromise)(p.renderSignal,"`cookies()`");return h.set(p,n),Object.defineProperties(n,{[Symbol.iterator]:{value:function(){let e="`cookies()[Symbol.iterator]()`",t=g(u,e);(0,o.abortAndThrowOnSynchronousRequestDataAccess)(u,e,t,p)}},size:{get(){let e="`cookies().size`",t=g(u,e);(0,o.abortAndThrowOnSynchronousRequestDataAccess)(u,e,t,p)}},get:{value:function(){let e;e=0==arguments.length?"`cookies().get()`":`\`cookies().get(${m(arguments[0])})\``;let t=g(u,e);(0,o.abortAndThrowOnSynchronousRequestDataAccess)(u,e,t,p)}},getAll:{value:function(){let e;e=0==arguments.length?"`cookies().getAll()`":`\`cookies().getAll(${m(arguments[0])})\``;let t=g(u,e);(0,o.abortAndThrowOnSynchronousRequestDataAccess)(u,e,t,p)}},has:{value:function(){let e;e=0==arguments.length?"`cookies().has()`":`\`cookies().has(${m(arguments[0])})\``;let t=g(u,e);(0,o.abortAndThrowOnSynchronousRequestDataAccess)(u,e,t,p)}},set:{value:function(){let e;if(0==arguments.length)e="`cookies().set()`";else{let t=arguments[0];e=t?`\`cookies().set(${m(t)}, ...)\``:"`cookies().set(...)`"}let t=g(u,e);(0,o.abortAndThrowOnSynchronousRequestDataAccess)(u,e,t,p)}},delete:{value:function(){let e;e=0==arguments.length?"`cookies().delete()`":1==arguments.length?`\`cookies().delete(${m(arguments[0])})\``:`\`cookies().delete(${m(arguments[0])}, ...)\``;let t=g(u,e);(0,o.abortAndThrowOnSynchronousRequestDataAccess)(u,e,t,p)}},clear:{value:function(){let e="`cookies().clear()`",t=g(u,e);(0,o.abortAndThrowOnSynchronousRequestDataAccess)(u,e,t,p)}},toString:{value:function(){let e="`cookies().toString()`",t=g(u,e);(0,o.abortAndThrowOnSynchronousRequestDataAccess)(u,e,t,p)}}}),n}else"prerender-ppr"===r.type?(0,o.postponeWithTracking)(t.route,e,r.dynamicTracking):"prerender-legacy"===r.type&&(0,o.throwToInterruptStaticGeneration)(e,t,r);(0,o.trackDynamicDataInDynamicRender)(t,r)}let y=(0,s.getExpectedRequestStore)(e);return f((0,n.areCookiesMutableInCurrentPhase)(y)?y.userspaceMutableCookies:y.cookies)}let h=new WeakMap;function f(e){let t=h.get(e);if(t)return t;let r=Promise.resolve(e);return h.set(e,r),Object.defineProperties(r,{[Symbol.iterator]:{value:e[Symbol.iterator]?e[Symbol.iterator].bind(e):b.bind(e)},size:{get:()=>e.size},get:{value:e.get.bind(e)},getAll:{value:e.getAll.bind(e)},has:{value:e.has.bind(e)},set:{value:e.set.bind(e)},delete:{value:e.delete.bind(e)},clear:{value:"function"==typeof e.clear?e.clear.bind(e):w.bind(e,r)},toString:{value:e.toString.bind(e)}}),r}function m(e){return"object"==typeof e&&null!==e&&"string"==typeof e.name?`'${e.name}'`:"string"==typeof e?`'${e}'`:"..."}let y=(0,u.createDedupedByCallsiteServerErrorLoggerDev)(g);function g(e,t){let r=e?`Route "${e}" `:"This route ";return Object.defineProperty(Error(`${r}used ${t}. \`cookies()\` should be awaited before using its value. Learn more: https://nextjs.org/docs/messages/sync-dynamic-apis`),"__NEXT_ERROR_CODE",{value:"E223",enumerable:!1,configurable:!0})}function b(){return this.getAll().map(e=>[e.name,e]).values()}function w(e){for(let e of this.getAll())this.delete(e.name);return e}}};